(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function er(){}function cs(n){return n()}function aa(){return Object.create(null)}function pr(n){n.forEach(cs)}function hs(n){return typeof n=="function"}function su(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function lu(n){return Object.keys(n).length===0}function Ae(n,e){n.appendChild(e)}function ds(n,e,t){n.insertBefore(e,t||null)}function bo(n){n.parentNode&&n.parentNode.removeChild(n)}function uu(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function mt(n){return document.createElement(n)}function Hr(n){return document.createTextNode(n)}function Lt(){return Hr(" ")}function vn(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Tn(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function cu(n){return Array.from(n.childNodes)}function ms(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function sa(n,e){n.value=e==null?"":e}let tr;function Vn(n){tr=n}function hu(){if(!tr)throw new Error("Function called outside component initialization");return tr}function du(n){hu().$$.on_mount.push(n)}const jn=[],la=[],Nr=[],ua=[],mu=Promise.resolve();let Zi=!1;function fu(){Zi||(Zi=!0,mu.then(fs))}function zi(n){Nr.push(n)}const $i=new Set;let Or=0;function fs(){const n=tr;do{for(;Or<jn.length;){const e=jn[Or];Or++,Vn(e),pu(e.$$)}for(Vn(null),jn.length=0,Or=0;la.length;)la.pop()();for(let e=0;e<Nr.length;e+=1){const t=Nr[e];$i.has(t)||($i.add(t),t())}Nr.length=0}while(jn.length);for(;ua.length;)ua.pop()();Zi=!1,$i.clear(),Vn(n)}function pu(n){if(n.fragment!==null){n.update(),pr(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(zi)}}const gu=new Set;function bu(n,e){n&&n.i&&(gu.delete(n),n.i(e))}function yu(n,e,t,r){const{fragment:i,after_update:o}=n.$$;i&&i.m(e,t),r||zi(()=>{const a=n.$$.on_mount.map(cs).filter(hs);n.$$.on_destroy?n.$$.on_destroy.push(...a):pr(a),n.$$.on_mount=[]}),o.forEach(zi)}function wu(n,e){const t=n.$$;t.fragment!==null&&(pr(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function vu(n,e){n.$$.dirty[0]===-1&&(jn.push(n),fu(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Tu(n,e,t,r,i,o,a,s=[-1]){const u=tr;Vn(n);const h=n.$$={fragment:null,ctx:[],props:o,update:er,not_equal:i,bound:aa(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:aa(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};a&&a(h.root);let c=!1;if(h.ctx=t?t(n,e.props||{},(m,f,...p)=>{const g=p.length?p[0]:f;return h.ctx&&i(h.ctx[m],h.ctx[m]=g)&&(!h.skip_bound&&h.bound[m]&&h.bound[m](g),c&&vu(n,m)),f}):[],h.update(),c=!0,pr(h.before_update),h.fragment=r?r(h.ctx):!1,e.target){if(e.hydrate){const m=cu(e.target);h.fragment&&h.fragment.l(m),m.forEach(bo)}else h.fragment&&h.fragment.c();e.intro&&bu(n.$$.fragment),yu(n,e.target,e.anchor,e.customElement),fs()}Vn(u)}class Eu{$destroy(){wu(this,1),this.$destroy=er}$on(e,t){if(!hs(t))return er;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!lu(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ps=new Map,gs=new Map,_u=new Map,Mu=new Map;function Fr(n){return ps.get(n)}function yo(n){return gs.get(n)}const Pu=[{pitch:0,name:"C",octave:-1,label:"C-1",frequency:8.176},{pitch:1,name:"C#",octave:-1,label:"C#-1",frequency:8.662},{pitch:2,name:"D",octave:-1,label:"D-1",frequency:9.177},{pitch:3,name:"D#",octave:-1,label:"D#-1",frequency:9.723},{pitch:4,name:"E",octave:-1,label:"E-1",frequency:10.301},{pitch:5,name:"F",octave:-1,label:"F-1",frequency:10.913},{pitch:6,name:"F#",octave:-1,label:"F#-1",frequency:11.562},{pitch:7,name:"G",octave:-1,label:"G-1",frequency:12.25},{pitch:8,name:"G#",octave:-1,label:"G#-1",frequency:12.978},{pitch:9,name:"A",octave:-1,label:"A-1",frequency:13.75},{pitch:10,name:"A#",octave:-1,label:"A#-1",frequency:14.568},{pitch:11,name:"B",octave:-1,label:"B-1",frequency:15.434},{pitch:12,name:"C",octave:0,label:"C0",frequency:16.352},{pitch:13,name:"C#",octave:0,label:"C#0",frequency:17.324},{pitch:14,name:"D",octave:0,label:"D0",frequency:18.354},{pitch:15,name:"D#",octave:0,label:"D#0",frequency:19.445},{pitch:16,name:"E",octave:0,label:"E0",frequency:20.602},{pitch:17,name:"F",octave:0,label:"F0",frequency:21.827},{pitch:18,name:"F#",octave:0,label:"F#0",frequency:23.125},{pitch:19,name:"G",octave:0,label:"G0",frequency:24.5},{pitch:20,name:"G#",octave:0,label:"G#0",frequency:25.957},{pitch:21,name:"A",octave:0,label:"A0",frequency:27.5},{pitch:22,name:"A#",octave:0,label:"A#0",frequency:29.135},{pitch:23,name:"B",octave:0,label:"B0",frequency:30.868},{pitch:24,name:"C",octave:1,label:"C1",frequency:32.703},{pitch:25,name:"C#",octave:1,label:"C#1",frequency:34.648},{pitch:26,name:"D",octave:1,label:"D1",frequency:36.708},{pitch:27,name:"D#",octave:1,label:"D#1",frequency:38.891},{pitch:28,name:"E",octave:1,label:"E1",frequency:41.203},{pitch:29,name:"F",octave:1,label:"F1",frequency:43.654},{pitch:30,name:"F#",octave:1,label:"F#1",frequency:46.249},{pitch:31,name:"G",octave:1,label:"G1",frequency:48.999},{pitch:32,name:"G#",octave:1,label:"G#1",frequency:51.913},{pitch:33,name:"A",octave:1,label:"A1",frequency:55},{pitch:34,name:"A#",octave:1,label:"A#1",frequency:58.27},{pitch:35,name:"B",octave:1,label:"B1",frequency:61.735},{pitch:36,name:"C",octave:2,label:"C2",frequency:65.406},{pitch:37,name:"C#",octave:2,label:"C#2",frequency:69.296},{pitch:38,name:"D",octave:2,label:"D2",frequency:73.416},{pitch:39,name:"D#",octave:2,label:"D#2",frequency:77.782},{pitch:40,name:"E",octave:2,label:"E2",frequency:82.407},{pitch:41,name:"F",octave:2,label:"F2",frequency:87.307},{pitch:42,name:"F#",octave:2,label:"F#2",frequency:92.499},{pitch:43,name:"G",octave:2,label:"G2",frequency:97.999},{pitch:44,name:"G#",octave:2,label:"G#2",frequency:103.826},{pitch:45,name:"A",octave:2,label:"A2",frequency:110},{pitch:46,name:"A#",octave:2,label:"A#2",frequency:116.541},{pitch:47,name:"B",octave:2,label:"B2",frequency:123.471},{pitch:48,name:"C",octave:3,label:"C3",frequency:130.813},{pitch:49,name:"C#",octave:3,label:"C#3",frequency:138.591},{pitch:50,name:"D",octave:3,label:"D3",frequency:146.832},{pitch:51,name:"D#",octave:3,label:"D#3",frequency:155.563},{pitch:52,name:"E",octave:3,label:"E3",frequency:164.814},{pitch:53,name:"F",octave:3,label:"F3",frequency:174.614},{pitch:54,name:"F#",octave:3,label:"F#3",frequency:184.997},{pitch:55,name:"G",octave:3,label:"G3",frequency:195.998},{pitch:56,name:"G#",octave:3,label:"G#3",frequency:207.652},{pitch:57,name:"A",octave:3,label:"A3",frequency:220},{pitch:58,name:"A#",octave:3,label:"A#3",frequency:233.082},{pitch:59,name:"B",octave:3,label:"B3",frequency:246.942},{pitch:60,name:"C",octave:4,label:"C4",frequency:261.626},{pitch:61,name:"C#",octave:4,label:"C#4",frequency:277.183},{pitch:62,name:"D",octave:4,label:"D4",frequency:293.665},{pitch:63,name:"D#",octave:4,label:"D#4",frequency:311.127},{pitch:64,name:"E",octave:4,label:"E4",frequency:329.628},{pitch:65,name:"F",octave:4,label:"F4",frequency:349.228},{pitch:66,name:"F#",octave:4,label:"F#4",frequency:369.994},{pitch:67,name:"G",octave:4,label:"G4",frequency:391.995},{pitch:68,name:"G#",octave:4,label:"G#4",frequency:415.305},{pitch:69,name:"A",octave:4,label:"A4",frequency:440},{pitch:70,name:"A#",octave:4,label:"A#4",frequency:466.164},{pitch:71,name:"B",octave:4,label:"B4",frequency:493.883},{pitch:72,name:"C",octave:5,label:"C5",frequency:523.251},{pitch:73,name:"C#",octave:5,label:"C#5",frequency:554.365},{pitch:74,name:"D",octave:5,label:"D5",frequency:587.33},{pitch:75,name:"D#",octave:5,label:"D#5",frequency:622.254},{pitch:76,name:"E",octave:5,label:"E5",frequency:659.255},{pitch:77,name:"F",octave:5,label:"F5",frequency:698.456},{pitch:78,name:"F#",octave:5,label:"F#5",frequency:739.989},{pitch:79,name:"G",octave:5,label:"G5",frequency:783.991},{pitch:80,name:"G#",octave:5,label:"G#5",frequency:830.609},{pitch:81,name:"A",octave:5,label:"A5",frequency:880},{pitch:82,name:"A#",octave:5,label:"A#5",frequency:932.328},{pitch:83,name:"B",octave:5,label:"B5",frequency:987.767},{pitch:84,name:"C",octave:6,label:"C6",frequency:1046.502},{pitch:85,name:"C#",octave:6,label:"C#6",frequency:1108.731},{pitch:86,name:"D",octave:6,label:"D6",frequency:1174.659},{pitch:87,name:"D#",octave:6,label:"D#6",frequency:1244.508},{pitch:88,name:"E",octave:6,label:"E6",frequency:1318.51},{pitch:89,name:"F",octave:6,label:"F6",frequency:1396.913},{pitch:90,name:"F#",octave:6,label:"F#6",frequency:1479.978},{pitch:91,name:"G",octave:6,label:"G6",frequency:1567.982},{pitch:92,name:"G#",octave:6,label:"G#6",frequency:1661.219},{pitch:93,name:"A",octave:6,label:"A6",frequency:1760},{pitch:94,name:"A#",octave:6,label:"A#6",frequency:1864.655},{pitch:95,name:"B",octave:6,label:"B6",frequency:1975.533},{pitch:96,name:"C",octave:7,label:"C7",frequency:2093.005},{pitch:97,name:"C#",octave:7,label:"C#7",frequency:2217.461},{pitch:98,name:"D",octave:7,label:"D7",frequency:2349.318},{pitch:99,name:"D#",octave:7,label:"D#7",frequency:2489.016},{pitch:100,name:"E",octave:7,label:"E7",frequency:2637.02},{pitch:101,name:"F",octave:7,label:"F7",frequency:2793.826},{pitch:102,name:"F#",octave:7,label:"F#7",frequency:2959.955},{pitch:103,name:"G",octave:7,label:"G7",frequency:3135.963},{pitch:104,name:"G#",octave:7,label:"G#7",frequency:3322.438},{pitch:105,name:"A",octave:7,label:"A7",frequency:3520},{pitch:106,name:"A#",octave:7,label:"A#7",frequency:3729.31},{pitch:107,name:"B",octave:7,label:"B7",frequency:3951.066},{pitch:108,name:"C",octave:8,label:"C8",frequency:4186.009},{pitch:109,name:"C#",octave:8,label:"C#8",frequency:4434.922},{pitch:110,name:"D",octave:8,label:"D8",frequency:4698.636},{pitch:111,name:"D#",octave:8,label:"D#8",frequency:4978.032},{pitch:112,name:"E",octave:8,label:"E8",frequency:5274.041},{pitch:113,name:"F",octave:8,label:"F8",frequency:5587.652},{pitch:114,name:"F#",octave:8,label:"F#8",frequency:5919.911},{pitch:115,name:"G",octave:8,label:"G8",frequency:6271.927},{pitch:116,name:"G#",octave:8,label:"G#8",frequency:6644.875},{pitch:117,name:"A",octave:8,label:"A8",frequency:7040},{pitch:118,name:"A#",octave:8,label:"A#8",frequency:7458.62},{pitch:119,name:"B",octave:8,label:"B8",frequency:7902.133},{pitch:120,name:"C",octave:9,label:"C9",frequency:8372.018},{pitch:121,name:"C#",octave:9,label:"C#9",frequency:8869.844},{pitch:122,name:"D",octave:9,label:"D9",frequency:9397.273},{pitch:123,name:"D#",octave:9,label:"D#9",frequency:9956.063},{pitch:124,name:"E",octave:9,label:"E9",frequency:10548.08},{pitch:125,name:"F",octave:9,label:"F9",frequency:11175.3},{pitch:126,name:"F#",octave:9,label:"F#9",frequency:11839.82},{pitch:127,name:"G",octave:9,label:"G9",frequency:12543.85}],Du=[{number:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,group:"Piano",label:"Bright Acoustic Piano"},{number:2,group:"Piano",label:"Electric Grand Piano"},{number:3,group:"Piano",label:"Honky-tonk Piano"},{number:4,group:"Piano",label:"Electric Piano 1"},{number:5,group:"Piano",label:"Electric Piano 2"},{number:6,group:"Piano",label:"Harpsichord"},{number:7,group:"Piano",label:"Clavinet"},{number:8,group:"Chromatic Percussion",label:"Celesta"},{number:9,group:"Chromatic Percussion",label:"Glockenspiel"},{number:10,group:"Chromatic Percussion",label:"Music Box"},{number:11,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,group:"Chromatic Percussion",label:"Marimba"},{number:13,group:"Chromatic Percussion",label:"Xylophone"},{number:14,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,group:"Chromatic Percussion",label:"Dulcimer"},{number:16,group:"Organ",label:"Drawbar Organ"},{number:17,group:"Organ",label:"Percussive Organ"},{number:18,group:"Organ",label:"Rock Organ"},{number:19,group:"Organ",label:"Church Organ"},{number:20,group:"Organ",label:"Reed Organ"},{number:21,group:"Organ",label:"Accordion"},{number:22,group:"Organ",label:"Harmonica"},{number:23,group:"Organ",label:"Tango Accordion"},{number:24,group:"Guitar",label:"Acoustic Guitar(nylon)"},{number:25,group:"Guitar",label:"Acoustic Guitar(steel)"},{number:26,group:"Guitar",label:"Electric Guitar(jazz)"},{number:27,group:"Guitar",label:"Electric Guitar(clean)"},{number:28,group:"Guitar",label:"Electric Guitar(muted)"},{number:29,group:"Guitar",label:"Overdriven Guitar"},{number:30,group:"Guitar",label:"Distortion Guitar"},{number:31,group:"Guitar",label:"Guitar harmonics"},{number:32,group:"Bass",label:"Acoustic Bass"},{number:33,group:"Bass",label:"Electric Bass(finger)"},{number:34,group:"Bass",label:"Electric Bass(pick)"},{number:35,group:"Bass",label:"Fretless Bass"},{number:36,group:"Bass",label:"Slap Bass 1"},{number:37,group:"Bass",label:"Slap Bass 2"},{number:38,group:"Bass",label:"Synth Bass 1"},{number:39,group:"Bass",label:"Synth Bass 2"},{number:40,group:"Strings",label:"Violin"},{number:41,group:"Strings",label:"Viola"},{number:42,group:"Strings",label:"Cello"},{number:43,group:"Strings",label:"Contrabass"},{number:44,group:"Strings",label:"Tremolo Strings"},{number:45,group:"Strings",label:"Pizzicato Strings"},{number:46,group:"Strings",label:"Orchestral Harp"},{number:47,group:"Strings",label:"Timpani"},{number:48,group:"Strings (continued)",label:"String Ensemble 1"},{number:49,group:"Strings (continued)",label:"String Ensemble 2"},{number:50,group:"Strings (continued)",label:"Synth Strings 1"},{number:51,group:"Strings (continued)",label:"Synth Strings 2"},{number:52,group:"Strings (continued)",label:"Choir Aahs"},{number:53,group:"Strings (continued)",label:"Voice Oohs"},{number:54,group:"Strings (continued)",label:"Synth Voice"},{number:55,group:"Strings (continued)",label:"Orchestra Hit"},{number:56,group:"Brass",label:"Trumpet"},{number:57,group:"Brass",label:"Trombone"},{number:58,group:"Brass",label:"Tuba"},{number:59,group:"Brass",label:"Muted Trumpet"},{number:60,group:"Brass",label:"French Horn"},{number:61,group:"Brass",label:"Brass Section"},{number:62,group:"Brass",label:"Synth Brass 1"},{number:63,group:"Brass",label:"Synth Brass 2"},{number:64,group:"Reed",label:"Soprano Sax"},{number:65,group:"Reed",label:"Alto Sax"},{number:66,group:"Reed",label:"Tenor Sax"},{number:67,group:"Reed",label:"Baritone Sax"},{number:68,group:"Reed",label:"Oboe"},{number:69,group:"Reed",label:"English Horn"},{number:70,group:"Reed",label:"Bassoon"},{number:71,group:"Reed",label:"Clarinet"},{number:72,group:"Pipe",label:"Piccolo"},{number:73,group:"Pipe",label:"Flute"},{number:74,group:"Pipe",label:"Recorder"},{number:75,group:"Pipe",label:"Pan Flute"},{number:76,group:"Pipe",label:"Blown Bottle"},{number:77,group:"Pipe",label:"Shakuhachi"},{number:78,group:"Pipe",label:"Whistle"},{number:79,group:"Pipe",label:"Ocarina"},{number:80,group:"Synth Lead",label:"Lead 1(square)"},{number:81,group:"Synth Lead",label:"Lead 2(sawtooth)"},{number:82,group:"Synth Lead",label:"Lead 3(calliope)"},{number:83,group:"Synth Lead",label:"Lead 4(chiff)"},{number:84,group:"Synth Lead",label:"Lead 5(charang)"},{number:85,group:"Synth Lead",label:"Lead 6(voice)"},{number:86,group:"Synth Lead",label:"Lead 7(fifths)"},{number:87,group:"Synth Lead",label:"Lead 8(bass + lead)"},{number:88,group:"Synth Pad",label:"Pad 1(new age)"},{number:89,group:"Synth Pad",label:"Pad 2(warm)"},{number:90,group:"Synth Pad",label:"Pad 3(polysynth)"},{number:91,group:"Synth Pad",label:"Pad 4(choir)"},{number:92,group:"Synth Pad",label:"Pad 5(bowed)"},{number:93,group:"Synth Pad",label:"Pad 6(metallic)"},{number:94,group:"Synth Pad",label:"Pad 7(halo)"},{number:95,group:"Synth Pad",label:"Pad 8(sweep)"},{number:96,group:"Synth Effects",label:"FX 1(rain)"},{number:97,group:"Synth Effects",label:"FX 2(soundtrack)"},{number:98,group:"Synth Effects",label:"FX 3(crystal)"},{number:99,group:"Synth Effects",label:"FX 4(atmosphere)"},{number:100,group:"Synth Effects",label:"FX 5(brightness)"},{number:101,group:"Synth Effects",label:"FX 6(goblins)"},{number:102,group:"Synth Effects",label:"FX 7(echoes)"},{number:103,group:"Synth Effects",label:"FX 8(sci-fi)"},{number:104,group:"Ethnic",label:"Sitar"},{number:105,group:"Ethnic",label:"Banjo"},{number:106,group:"Ethnic",label:"Shamisen"},{number:107,group:"Ethnic",label:"Koto"},{number:108,group:"Ethnic",label:"Kalimba"},{number:109,group:"Ethnic",label:"Bag pipe"},{number:110,group:"Ethnic",label:"Fiddle"},{number:111,group:"Ethnic",label:"Shanai"},{number:112,group:"Percussive",label:"Tinkle Bell"},{number:113,group:"Percussive",label:"Agogo"},{number:114,group:"Percussive",label:"Steel Drums"},{number:115,group:"Percussive",label:"Woodblock"},{number:116,group:"Percussive",label:"Taiko Drum"},{number:117,group:"Percussive",label:"Melodic Tom"},{number:118,group:"Percussive",label:"Synth Drum"},{number:119,group:"Sound Effects",label:"Reverse Cymbal"},{number:120,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,group:"Sound Effects",label:"Breath Noise"},{number:122,group:"Sound Effects",label:"Seashore"},{number:123,group:"Sound Effects",label:"Bird Tweet"},{number:124,group:"Sound Effects",label:"Telephone Ring"},{number:125,group:"Sound Effects",label:"Helicopter"},{number:126,group:"Sound Effects",label:"Applause"},{number:127,group:"Sound Effects",label:"Gunshot"}],Cu=[{number:1,subnumber:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,subnumber:1,group:"Piano",label:"Wide Acoustic Grand"},{number:1,subnumber:2,group:"Piano",label:"Dark Acoustic Grand"},{number:2,subnumber:0,group:"Piano",label:"Bright Acoustic Piano"},{number:2,subnumber:1,group:"Piano",label:"Wide Bright Acoustic"},{number:3,subnumber:0,group:"Piano",label:"Electric Grand Piano"},{number:3,subnumber:1,group:"Piano",label:"Wide Electric Grand"},{number:4,subnumber:0,group:"Piano",label:"Honky-tonk Piano"},{number:4,subnumber:1,group:"Piano",label:"Wide Honky-tonk"},{number:5,subnumber:0,group:"Piano",label:"Rhodes Piano"},{number:5,subnumber:1,group:"Piano",label:"Detuned Electric Piano 1"},{number:5,subnumber:2,group:"Piano",label:"Electric Piano 1 Variation"},{number:5,subnumber:3,group:"Piano",label:"60's Electric Piano"},{number:6,subnumber:0,group:"Piano",label:"Chorused Electric Piano"},{number:6,subnumber:1,group:"Piano",label:"Detuned Electric Piano 2"},{number:6,subnumber:2,group:"Piano",label:"Electric Piano 2 Variation"},{number:6,subnumber:3,group:"Piano",label:"Electric Piano Legend"},{number:6,subnumber:4,group:"Piano",label:"Electric Piano Phase"},{number:7,subnumber:0,group:"Piano",label:"Harpsichord"},{number:7,subnumber:1,group:"Piano",label:"Coupled Harpsichord"},{number:7,subnumber:2,group:"Piano",label:"Wide Harpsichord"},{number:7,subnumber:3,group:"Piano",label:"Open Harpsichord"},{number:8,subnumber:0,group:"Piano",label:"Clavinet"},{number:8,subnumber:1,group:"Piano",label:"Pulse Clavinet"},{number:9,subnumber:0,group:"Chromatic Percussion",label:"Celesta"},{number:10,subnumber:0,group:"Chromatic Percussion",label:"Glockenspiel"},{number:11,subnumber:0,group:"Chromatic Percussion",label:"Music Box"},{number:12,subnumber:0,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,subnumber:1,group:"Chromatic Percussion",label:"Wet Vibraphone"},{number:13,subnumber:0,group:"Chromatic Percussion",label:"Marimba"},{number:13,subnumber:1,group:"Chromatic Percussion",label:"Wide Marimba"},{number:14,subnumber:0,group:"Chromatic Percussion",label:"Xylophone"},{number:15,subnumber:0,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,subnumber:1,group:"Chromatic Percussion",label:"Church Bells"},{number:15,subnumber:2,group:"Chromatic Percussion",label:"Carillon"},{number:16,subnumber:0,group:"Chromatic Percussion",label:"Dulcimer / Santur"},{number:17,subnumber:0,group:"Organ",label:"Hammond Organ"},{number:17,subnumber:1,group:"Organ",label:"Detuned Organ 1"},{number:17,subnumber:2,group:"Organ",label:"60's Organ 1"},{number:17,subnumber:3,group:"Organ",label:"Organ 4"},{number:18,subnumber:0,group:"Organ",label:"Percussive Organ"},{number:18,subnumber:1,group:"Organ",label:"Detuned Organ 2"},{number:18,subnumber:2,group:"Organ",label:"Organ 5"},{number:19,subnumber:0,group:"Organ",label:"Rock Organ"},{number:20,subnumber:0,group:"Organ",label:"Church Organ 1"},{number:20,subnumber:1,group:"Organ",label:"Church Organ 2"},{number:20,subnumber:2,group:"Organ",label:"Church Organ 3"},{number:21,subnumber:0,group:"Organ",label:"Reed Organ"},{number:21,subnumber:1,group:"Organ",label:"Puff Organ"},{number:22,subnumber:0,group:"Organ",label:"French Accordion"},{number:22,subnumber:1,group:"Organ",label:"Italian Accordion"},{number:23,subnumber:0,group:"Organ",label:"Harmonica"},{number:24,subnumber:0,group:"Organ",label:"Bandoneon"},{number:25,subnumber:0,group:"Guitar",label:"Nylon-String Guitar"},{number:25,subnumber:1,group:"Guitar",label:"Ukelele"},{number:25,subnumber:2,group:"Guitar",label:"Open Nylon Guitar"},{number:25,subnumber:3,group:"Guitar",label:"Nylon Guitar 2"},{number:26,subnumber:0,group:"Guitar",label:"Steel-String Guitar"},{number:26,subnumber:1,group:"Guitar",label:"12-String Guitar"},{number:26,subnumber:2,group:"Guitar",label:"Mandolin"},{number:26,subnumber:3,group:"Guitar",label:"Steel + Body"},{number:27,subnumber:0,group:"Guitar",label:"Jazz Guitar"},{number:27,subnumber:1,group:"Guitar",label:"Hawaiian Guitar"},{number:28,subnumber:0,group:"Guitar",label:"Clean Electric Guitar"},{number:28,subnumber:1,group:"Guitar",label:"Chorus Guitar"},{number:28,subnumber:2,group:"Guitar",label:"Mid Tone Guitar"},{number:29,subnumber:0,group:"Guitar",label:"Muted Electric Guitar"},{number:29,subnumber:1,group:"Guitar",label:"Funk Guitar"},{number:29,subnumber:2,group:"Guitar",label:"Funk Guitar 2"},{number:29,subnumber:3,group:"Guitar",label:"Jazz Man"},{number:30,subnumber:0,group:"Guitar",label:"Overdriven Guitar"},{number:30,subnumber:1,group:"Guitar",label:"Guitar Pinch"},{number:31,subnumber:0,group:"Guitar",label:"Distortion Guitar"},{number:31,subnumber:1,group:"Guitar",label:"Feedback Guitar"},{number:31,subnumber:2,group:"Guitar",label:"Distortion Rtm Guitar"},{number:32,subnumber:0,group:"Guitar",label:"Guitar Harmonics"},{number:32,subnumber:1,group:"Guitar",label:"Guitar Feedback"},{number:33,subnumber:0,group:"Bass",label:"Acoustic Bass"},{number:34,subnumber:0,group:"Bass",label:"Fingered Bass"},{number:34,subnumber:1,group:"Bass",label:"Finger Slap"},{number:35,subnumber:0,group:"Bass",label:"Picked Bass"},{number:36,subnumber:0,group:"Bass",label:"Fretless Bass"},{number:37,subnumber:0,group:"Bass",label:"Slap Bass 1"},{number:38,subnumber:0,group:"Bass",label:"Slap Bass 2"},{number:39,subnumber:0,group:"Bass",label:"Synth Bass 1"},{number:39,subnumber:1,group:"Bass",label:"Synth Bass 101"},{number:39,subnumber:2,group:"Bass",label:"Synth Bass 3"},{number:39,subnumber:3,group:"Bass",label:"Clavi Bass"},{number:39,subnumber:4,group:"Bass",label:"Hammer"},{number:40,subnumber:0,group:"Bass",label:"Synth Bass 2"},{number:40,subnumber:1,group:"Bass",label:"Synth Bass 4"},{number:40,subnumber:2,group:"Bass",label:"Rubber Bass"},{number:40,subnumber:3,group:"Bass",label:"Attack Pulse"},{number:41,subnumber:0,group:"Strings",label:"Violin"},{number:41,subnumber:1,group:"Strings",label:"Slow Violin"},{number:42,subnumber:0,group:"Strings",label:"Viola"},{number:43,subnumber:0,group:"Strings",label:"Cello"},{number:44,subnumber:0,group:"Strings",label:"Contrabass"},{number:45,subnumber:0,group:"Strings",label:"Tremolo Strings"},{number:46,subnumber:0,group:"Strings",label:"Pizzicato Strings"},{number:47,subnumber:0,group:"Strings",label:"Harp"},{number:47,subnumber:1,group:"Strings",label:"Yang Qin"},{number:48,subnumber:0,group:"Strings",label:"Timpani"},{number:49,subnumber:0,group:"Orchestral Ensemble",label:"String Ensemble"},{number:49,subnumber:1,group:"Orchestral Ensemble",label:"Orchestra Strings"},{number:49,subnumber:2,group:"Orchestral Ensemble",label:"60's Strings"},{number:50,subnumber:0,group:"Orchestral Ensemble",label:"Slow String Ensemble"},{number:51,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 1"},{number:51,subnumber:1,group:"Orchestral Ensemble",label:"Synth Strings 3"},{number:52,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 2"},{number:53,subnumber:0,group:"Orchestral Ensemble",label:"Choir Aahs"},{number:53,subnumber:1,group:"Orchestral Ensemble",label:"Choir Aahs 2"},{number:54,subnumber:0,group:"Orchestral Ensemble",label:"Voice Oohs"},{number:54,subnumber:1,group:"Orchestral Ensemble",label:"Humming"},{number:55,subnumber:0,group:"Orchestral Ensemble",label:"Synth Voice"},{number:55,subnumber:1,group:"Orchestral Ensemble",label:"Analog Voice"},{number:56,subnumber:0,group:"Orchestral Ensemble",label:"Orchestra Hit"},{number:56,subnumber:1,group:"Orchestral Ensemble",label:"Bass Hit"},{number:56,subnumber:2,group:"Orchestral Ensemble",label:"6th Hit"},{number:56,subnumber:3,group:"Orchestral Ensemble",label:"Euro Hit"},{number:57,subnumber:0,group:"Brass",label:"Trumpet"},{number:57,subnumber:1,group:"Brass",label:"Dark Trumpet"},{number:58,subnumber:0,group:"Brass",label:"Trombone"},{number:58,subnumber:1,group:"Brass",label:"Trombone 2"},{number:58,subnumber:2,group:"Brass",label:"Bright Trombone"},{number:59,subnumber:0,group:"Brass",label:"Tuba"},{number:60,subnumber:0,group:"Brass",label:"Muted Trumpet"},{number:60,subnumber:1,group:"Brass",label:"Muted Trumpet 2"},{number:61,subnumber:0,group:"Brass",label:"French Horn"},{number:61,subnumber:1,group:"Brass",label:"French Horn 2"},{number:62,subnumber:0,group:"Brass",label:"Brass Section"},{number:62,subnumber:1,group:"Brass",label:"Brass Section"},{number:63,subnumber:0,group:"Brass",label:"Synth Brass 1"},{number:63,subnumber:1,group:"Brass",label:"Synth Brass 3"},{number:63,subnumber:2,group:"Brass",label:"Analog Brass 1"},{number:63,subnumber:3,group:"Brass",label:"Jump Brass"},{number:64,subnumber:0,group:"Brass",label:"Synth Brass 2"},{number:64,subnumber:1,group:"Brass",label:"Synth Brass 4"},{number:64,subnumber:2,group:"Brass",label:"Analog Brass 2"},{number:65,subnumber:0,group:"Reed",label:"Soprano Sax"},{number:66,subnumber:0,group:"Reed",label:"Alto Sax"},{number:67,subnumber:0,group:"Reed",label:"Tenor Sax"},{number:68,subnumber:0,group:"Reed",label:"Baritone Sax"},{number:69,subnumber:0,group:"Reed",label:"Oboe"},{number:70,subnumber:0,group:"Reed",label:"English Horn"},{number:71,subnumber:0,group:"Reed",label:"Bassoon"},{number:72,subnumber:0,group:"Reed",label:"Clarinet"},{number:73,subnumber:0,group:"Wind",label:"Piccolo"},{number:74,subnumber:0,group:"Wind",label:"Flute"},{number:75,subnumber:0,group:"Wind",label:"Recorder"},{number:76,subnumber:0,group:"Wind",label:"Pan Flute"},{number:77,subnumber:0,group:"Wind",label:"Blown Bottle"},{number:78,subnumber:0,group:"Wind",label:"Shakuhachi"},{number:79,subnumber:0,group:"Wind",label:"Whistle"},{number:80,subnumber:0,group:"Wind",label:"Ocarina"},{number:81,subnumber:0,group:"Lead",label:"Square Lead"},{number:81,subnumber:1,group:"Lead",label:"Square Wave"},{number:81,subnumber:2,group:"Lead",label:"Sine Wave"},{number:82,subnumber:0,group:"Lead",label:"Saw Lead"},{number:82,subnumber:1,group:"Lead",label:"Saw Wave"},{number:82,subnumber:2,group:"Lead",label:"Doctor Solo"},{number:82,subnumber:3,group:"Lead",label:"Natural Lead"},{number:82,subnumber:4,group:"Lead",label:"Sequenced Saw"},{number:83,subnumber:0,group:"Lead",label:"Synth Calliope"},{number:84,subnumber:0,group:"Lead",label:"Chiffer Lead"},{number:85,subnumber:0,group:"Lead",label:"Charang"},{number:85,subnumber:1,group:"Lead",label:"Wire Lead"},{number:86,subnumber:0,group:"Lead",label:"Solo Synth Vox"},{number:87,subnumber:0,group:"Lead",label:"5th Saw Wave"},{number:88,subnumber:0,group:"Lead",label:"Bass & Lead"},{number:88,subnumber:1,group:"Lead",label:"Delayed Lead"},{number:89,subnumber:0,group:"Synth Pad",label:"Fantasia Pad"},{number:90,subnumber:0,group:"Synth Pad",label:"Warm Pad"},{number:90,subnumber:1,group:"Synth Pad",label:"Sine Pad"},{number:91,subnumber:0,group:"Synth Pad",label:"Polysynth Pad"},{number:92,subnumber:0,group:"Synth Pad",label:"Space Voice Pad"},{number:92,subnumber:1,group:"Synth Pad",label:"Itopia"},{number:93,subnumber:0,group:"Synth Pad",label:"Bowed Glass Pad"},{number:94,subnumber:0,group:"Synth Pad",label:"Metal Pad"},{number:95,subnumber:0,group:"Synth Pad",label:"Halo Pad"},{number:96,subnumber:0,group:"Synth Pad",label:"Sweep Pad"},{number:97,subnumber:0,group:"Synth Effects",label:"Ice Rain"},{number:98,subnumber:0,group:"Synth Effects",label:"Soundtrack"},{number:99,subnumber:0,group:"Synth Effects",label:"Crystal"},{number:99,subnumber:1,group:"Synth Effects",label:"Synth Mallet"},{number:100,subnumber:0,group:"Synth Effects",label:"Atmosphere"},{number:101,subnumber:0,group:"Synth Effects",label:"Brightness"},{number:102,subnumber:0,group:"Synth Effects",label:"Goblin"},{number:103,subnumber:0,group:"Synth Effects",label:"Echo Drops"},{number:103,subnumber:1,group:"Synth Effects",label:"Echo Bell"},{number:103,subnumber:2,group:"Synth Effects",label:"Echo Pan"},{number:104,subnumber:0,group:"Synth Effects",label:"Star Theme"},{number:105,subnumber:0,group:"Ethnic",label:"Sitar"},{number:105,subnumber:1,group:"Ethnic",label:"Sitar 2"},{number:106,subnumber:0,group:"Ethnic",label:"Banjo"},{number:107,subnumber:0,group:"Ethnic",label:"Shamisen"},{number:108,subnumber:0,group:"Ethnic",label:"Koto"},{number:108,subnumber:1,group:"Ethnic",label:"Taisho Koto"},{number:109,subnumber:0,group:"Ethnic",label:"Kalimba"},{number:110,subnumber:0,group:"Ethnic",label:"Bagpipe"},{number:111,subnumber:0,group:"Ethnic",label:"Fiddle"},{number:112,subnumber:0,group:"Ethnic",label:"Shanai"},{number:113,subnumber:0,group:"Percussive",label:"Tinkle Bell"},{number:114,subnumber:0,group:"Percussive",label:"Agogo"},{number:115,subnumber:0,group:"Percussive",label:"Steel Drums"},{number:116,subnumber:0,group:"Percussive",label:"Woodblock"},{number:116,subnumber:1,group:"Percussive",label:"Castanets"},{number:117,subnumber:0,group:"Percussive",label:"Taiko Drum"},{number:117,subnumber:1,group:"Percussive",label:"Concert Bass Drum"},{number:118,subnumber:0,group:"Percussive",label:"Melodic Tom 1"},{number:118,subnumber:1,group:"Percussive",label:"Melodic Tom 2"},{number:119,subnumber:0,group:"Percussive",label:"Synth Drum"},{number:119,subnumber:1,group:"Percussive",label:"808 Tom"},{number:119,subnumber:2,group:"Percussive",label:"Electric Percussion"},{number:120,subnumber:0,group:"Percussive",label:"Reverse Cymbal"},{number:121,subnumber:0,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,subnumber:1,group:"Sound Effects",label:"Guitar Cut Noise"},{number:121,subnumber:2,group:"Sound Effects",label:"String Slap"},{number:122,subnumber:0,group:"Sound Effects",label:"Breath Noise"},{number:122,subnumber:1,group:"Sound Effects",label:"Flute Key Click"},{number:123,subnumber:0,group:"Sound Effects",label:"Seashore"},{number:123,subnumber:1,group:"Sound Effects",label:"Rain"},{number:123,subnumber:2,group:"Sound Effects",label:"Thunder"},{number:123,subnumber:3,group:"Sound Effects",label:"Wind"},{number:123,subnumber:4,group:"Sound Effects",label:"Stream"},{number:123,subnumber:5,group:"Sound Effects",label:"Bubble"},{number:124,subnumber:0,group:"Sound Effects",label:"Bird Tweet"},{number:124,subnumber:1,group:"Sound Effects",label:"Dog"},{number:124,subnumber:2,group:"Sound Effects",label:"Horse Gallop"},{number:124,subnumber:3,group:"Sound Effects",label:"Bird 2"},{number:125,subnumber:0,group:"Sound Effects",label:"Telephone 1"},{number:125,subnumber:1,group:"Sound Effects",label:"Telephone 2"},{number:125,subnumber:2,group:"Sound Effects",label:"Door Creaking"},{number:125,subnumber:3,group:"Sound Effects",label:"Door Closing"},{number:125,subnumber:4,group:"Sound Effects",label:"Scratch"},{number:125,subnumber:5,group:"Sound Effects",label:"Wind Chimes"},{number:126,subnumber:0,group:"Sound Effects",label:"Helicopter"},{number:126,subnumber:1,group:"Sound Effects",label:"Car Engine"},{number:126,subnumber:2,group:"Sound Effects",label:"Car Stop"},{number:126,subnumber:3,group:"Sound Effects",label:"Car Pass"},{number:126,subnumber:4,group:"Sound Effects",label:"Car Crash"},{number:126,subnumber:5,group:"Sound Effects",label:"Siren"},{number:126,subnumber:6,group:"Sound Effects",label:"Train"},{number:126,subnumber:7,group:"Sound Effects",label:"Jetplane"},{number:126,subnumber:8,group:"Sound Effects",label:"Starship"},{number:126,subnumber:9,group:"Sound Effects",label:"Burst Noise"},{number:127,subnumber:0,group:"Sound Effects",label:"Applause"},{number:127,subnumber:1,group:"Sound Effects",label:"Laughing"},{number:127,subnumber:2,group:"Sound Effects",label:"Screaming"},{number:127,subnumber:3,group:"Sound Effects",label:"Punch"},{number:127,subnumber:4,group:"Sound Effects",label:"Heart Beat"},{number:127,subnumber:5,group:"Sound Effects",label:"Footsteps"},{number:128,subnumber:0,group:"Sound Effects",label:"Gun Shot"},{number:128,subnumber:1,group:"Sound Effects",label:"Machine Gun"},{number:128,subnumber:2,group:"Sound Effects",label:"Lasergun"},{number:128,subnumber:3,group:"Sound Effects",label:"Explosion"}];for(const n of Pu)ps.set(n.pitch,n),gs.set(n.label,n);for(const n of Du)_u.set(n.number,n);for(const n of Cu){const e=`${n.number}-${n.subnumber}`;Mu.set(e,n)}class Xn{constructor(e=0,t=0,r=127,i=0,o=null){if(e<0||e>127)throw new Error(`Invalid pitch ${e}`);try{this.name=Fr(e).label}catch{throw new Error(`Invalid pitch ${e}`)}this.pitch=e,this.start=t,this.velocity=r,this.channel=i,this.end=o}static from(e){let{pitch:t=0,start:r=0,velocity:i=127,channel:o=0,end:a=null,duration:s=null}=e;if(typeof t=="string"&&Number.isNaN(+t)){const u=yo(t);if(u==null)throw new Error("Invalid pitch for Note.from()");t=u.pitch}return a==null&&s!==null&&!Number.isNaN(s)&&(a=r+s),new Xn(t,r,i,o,a)}static startPitchComparator(e,t){return e.start!==t.start?e.start-t.start:e.pitch-t.pitch}clone(){return new Xn(this.pitch,this.start,this.velocity,this.channel,this.end)}getDuration(){return this.end===null?0:this.end-this.start}getName(){return this.name}getLetter(){return Fr(this.pitch).name}getOctave(){return Fr(this.pitch).octave}shiftTime(e){const t=this.clone();return t.start+=e,t.end=t.end===null?null:t.end+e,t}scaleTime(e){const t=this.clone();return t.start*=e,t.end=t.end===null?null:t.end*e,t}overlapsInTime(e){return this.start>=e.start&&this.start<=e.end||this.end>=e.start&&this.end<=e.end}overlapInSeconds(e){if(!this.overlapsInTime(e))return 0;const t=Math.max(this.start,e.start);return Math.min(this.end,e.end)-t}equals(e){return e instanceof Xn?this.pitch===e.pitch&&this.start===e.start&&this.velocity===e.velocity&&this.channel===e.channel&&this.end===e.end:!1}toString(e=!1){return e?`Note(n: ${this.name}, p: ${this.pitch}, s: ${this.start}, e: ${this.end}, v: ${this.velocity}, c: ${this.channel})`:`Note(name: ${this.name}, pitch: ${this.pitch}, start: ${this.start}, end: ${this.end}, velocity: ${this.velocity}, channel: ${this.channel})`}}var Au={value:()=>{}};function bs(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new qr(t)}function qr(n){this._=n}function xu(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}qr.prototype=bs.prototype={constructor:qr,on:function(n,e){var t=this._,r=xu(n+"",t),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(n=r[o]).type)&&(i=Su(t[i],n.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(n=r[o]).type)t[i]=ca(t[i],n.name,e);else if(e==null)for(i in t)t[i]=ca(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new qr(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,o;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],r=0,i=o.length;r<i;++r)o[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(e,t)}};function Su(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function ca(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=Au,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var Hi="http://www.w3.org/1999/xhtml";const ha={svg:"http://www.w3.org/2000/svg",xhtml:Hi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mi(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),ha.hasOwnProperty(e)?{space:ha[e],local:n}:n}function ku(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Hi&&e.documentElement.namespaceURI===Hi?e.createElement(n):e.createElementNS(t,n)}}function Ou(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function ys(n){var e=mi(n);return(e.local?Ou:ku)(e)}function Iu(){}function wo(n){return n==null?Iu:function(){return this.querySelector(n)}}function $u(n){typeof n!="function"&&(n=wo(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,h,c=0;c<a;++c)(u=o[c])&&(h=n.call(u,u.__data__,c,o))&&("__data__"in u&&(h.__data__=u.__data__),s[c]=h);return new ft(r,this._parents)}function ws(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function Ru(){return[]}function vs(n){return n==null?Ru:function(){return this.querySelectorAll(n)}}function Nu(n){return function(){var e=n.apply(this,arguments);return e==null?[]:ws(e)}}function Fu(n){typeof n=="function"?n=Nu(n):n=vs(n);for(var e=this._groups,t=e.length,r=[],i=[],o=0;o<t;++o)for(var a=e[o],s=a.length,u,h=0;h<s;++h)(u=a[h])&&(r.push(n.call(u,u.__data__,h,a)),i.push(u));return new ft(r,i)}function Ts(n){return function(){return this.matches(n)}}function Es(n){return function(e){return e.matches(n)}}var qu=Array.prototype.find;function Lu(n){return function(){return qu.call(this.children,n)}}function Gu(){return this.firstElementChild}function Yu(n){return this.select(n==null?Gu:Lu(typeof n=="function"?n:Es(n)))}var Bu=Array.prototype.filter;function ju(){return this.children}function Uu(n){return function(){return Bu.call(this.children,n)}}function Zu(n){return this.selectAll(n==null?ju:Uu(typeof n=="function"?n:Es(n)))}function zu(n){typeof n!="function"&&(n=Ts(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,h=0;h<a;++h)(u=o[h])&&n.call(u,u.__data__,h,o)&&s.push(u);return new ft(r,this._parents)}function _s(n){return new Array(n.length)}function Hu(){return new ft(this._enter||this._groups.map(_s),this._parents)}function Wr(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Wr.prototype={constructor:Wr,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Wu(n){return function(){return n}}function Vu(n,e,t,r,i,o){for(var a=0,s,u=e.length,h=o.length;a<h;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):t[a]=new Wr(n,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function Xu(n,e,t,r,i,o,a){var s,u,h=new Map,c=e.length,m=o.length,f=new Array(c),p;for(s=0;s<c;++s)(u=e[s])&&(f[s]=p=a.call(u,u.__data__,s,e)+"",h.has(p)?i[s]=u:h.set(p,u));for(s=0;s<m;++s)p=a.call(n,o[s],s,o)+"",(u=h.get(p))?(r[s]=u,u.__data__=o[s],h.delete(p)):t[s]=new Wr(n,o[s]);for(s=0;s<c;++s)(u=e[s])&&h.get(f[s])===u&&(i[s]=u)}function Ku(n){return n.__data__}function Qu(n,e){if(!arguments.length)return Array.from(this,Ku);var t=e?Xu:Vu,r=this._parents,i=this._groups;typeof n!="function"&&(n=Wu(n));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),h=0;h<o;++h){var c=r[h],m=i[h],f=m.length,p=ws(n.call(c,c&&c.__data__,h,r)),g=p.length,b=s[h]=new Array(g),y=a[h]=new Array(g),w=u[h]=new Array(f);t(c,m,b,y,w,p,e);for(var v=0,_=0,E,M;v<g;++v)if(E=b[v]){for(v>=_&&(_=v+1);!(M=y[_])&&++_<g;);E._next=M||null}}return a=new ft(a,r),a._enter=s,a._exit=u,a}function Ju(){return new ft(this._exit||this._groups.map(_s),this._parents)}function ec(n,e,t){var r=this.enter(),i=this,o=this.exit();return r=typeof n=="function"?n(r):r.append(n+""),e!=null&&(i=e(i)),t==null?o.remove():t(o),r&&i?r.merge(i).order():i}function tc(n){if(!(n instanceof ft))throw new Error("invalid merge");for(var e=this._groups,t=n._groups,r=e.length,i=t.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],h=t[s],c=u.length,m=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||h[p])&&(m[p]=f);for(;s<r;++s)a[s]=e[s];return new ft(a,this._parents)}function nc(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function rc(n){n||(n=ic);function e(m,f){return m&&f?n(m.__data__,f.__data__):!m-!f}for(var t=this._groups,r=t.length,i=new Array(r),o=0;o<r;++o){for(var a=t[o],s=a.length,u=i[o]=new Array(s),h,c=0;c<s;++c)(h=a[c])&&(u[c]=h);u.sort(e)}return new ft(i,this._parents).order()}function ic(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function oc(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function ac(){return Array.from(this)}function sc(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function lc(){let n=0;for(const e of this)++n;return n}function uc(){return!this.node()}function cc(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],o=0,a=i.length,s;o<a;++o)(s=i[o])&&n.call(s,s.__data__,o,i);return this}function hc(n){return function(){this.removeAttribute(n)}}function dc(n){return function(){this.removeAttributeNS(n.space,n.local)}}function mc(n,e){return function(){this.setAttribute(n,e)}}function fc(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function pc(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function gc(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function bc(n,e){var t=mi(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?dc:hc:typeof e=="function"?t.local?gc:pc:t.local?fc:mc)(t,e))}function Ms(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function yc(n){return function(){this.style.removeProperty(n)}}function wc(n,e,t){return function(){this.style.setProperty(n,e,t)}}function vc(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function Tc(n,e,t){return arguments.length>1?this.each((e==null?yc:typeof e=="function"?vc:wc)(n,e,t==null?"":t)):xn(this.node(),n)}function xn(n,e){return n.style.getPropertyValue(e)||Ms(n).getComputedStyle(n,null).getPropertyValue(e)}function Ec(n){return function(){delete this[n]}}function _c(n,e){return function(){this[n]=e}}function Mc(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function Pc(n,e){return arguments.length>1?this.each((e==null?Ec:typeof e=="function"?Mc:_c)(n,e)):this.node()[n]}function Ps(n){return n.trim().split(/^|\s+/)}function vo(n){return n.classList||new Ds(n)}function Ds(n){this._node=n,this._names=Ps(n.getAttribute("class")||"")}Ds.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function Cs(n,e){for(var t=vo(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function As(n,e){for(var t=vo(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function Dc(n){return function(){Cs(this,n)}}function Cc(n){return function(){As(this,n)}}function Ac(n,e){return function(){(e.apply(this,arguments)?Cs:As)(this,n)}}function xc(n,e){var t=Ps(n+"");if(arguments.length<2){for(var r=vo(this.node()),i=-1,o=t.length;++i<o;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?Ac:e?Dc:Cc)(t,e))}function Sc(){this.textContent=""}function kc(n){return function(){this.textContent=n}}function Oc(n){return function(){var e=n.apply(this,arguments);this.textContent=e==null?"":e}}function Ic(n){return arguments.length?this.each(n==null?Sc:(typeof n=="function"?Oc:kc)(n)):this.node().textContent}function $c(){this.innerHTML=""}function Rc(n){return function(){this.innerHTML=n}}function Nc(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e==null?"":e}}function Fc(n){return arguments.length?this.each(n==null?$c:(typeof n=="function"?Nc:Rc)(n)):this.node().innerHTML}function qc(){this.nextSibling&&this.parentNode.appendChild(this)}function Lc(){return this.each(qc)}function Gc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yc(){return this.each(Gc)}function Bc(n){var e=typeof n=="function"?n:ys(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function jc(){return null}function Uc(n,e){var t=typeof n=="function"?n:ys(n),r=e==null?jc:typeof e=="function"?e:wo(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Zc(){var n=this.parentNode;n&&n.removeChild(this)}function zc(){return this.each(Zc)}function Hc(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Wc(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Vc(n){return this.select(n?Wc:Hc)}function Xc(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Kc(n){return function(e){n.call(this,e,this.__data__)}}function Qc(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function Jc(n){return function(){var e=this.__on;if(!!e){for(var t=0,r=-1,i=e.length,o;t<i;++t)o=e[t],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function eh(n,e,t){return function(){var r=this.__on,i,o=Kc(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=t),i.value=e;return}}this.addEventListener(n.type,o,t),i={type:n.type,name:n.name,value:e,listener:o,options:t},r?r.push(i):this.__on=[i]}}function th(n,e,t){var r=Qc(n+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,h=s.length,c;u<h;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?eh:Jc,i=0;i<o;++i)this.each(s(r[i],e,t));return this}function xs(n,e,t){var r=Ms(n),i=r.CustomEvent;typeof i=="function"?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function nh(n,e){return function(){return xs(this,n,e)}}function rh(n,e){return function(){return xs(this,n,e.apply(this,arguments))}}function ih(n,e){return this.each((typeof e=="function"?rh:nh)(n,e))}function*oh(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ah=[null];function ft(n,e){this._groups=n,this._parents=e}function gr(){return new ft([[document.documentElement]],ah)}function sh(){return this}ft.prototype=gr.prototype={constructor:ft,select:$u,selectAll:Fu,selectChild:Yu,selectChildren:Zu,filter:zu,data:Qu,enter:Hu,exit:Ju,join:ec,merge:tc,selection:sh,order:nc,sort:rc,call:oc,nodes:ac,node:sc,size:lc,empty:uc,each:cc,attr:bc,style:Tc,property:Pc,classed:xc,text:Ic,html:Fc,raise:Lc,lower:Yc,append:Bc,insert:Uc,remove:zc,clone:Vc,datum:Xc,on:th,dispatch:ih,[Symbol.iterator]:oh};function To(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Ss(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function br(){}var nr=.7,Vr=1/nr,Pn="\\s*([+-]?\\d+)\\s*",rr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lh=/^#([0-9a-f]{3,8})$/,uh=new RegExp("^rgb\\("+[Pn,Pn,Pn]+"\\)$"),ch=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),hh=new RegExp("^rgba\\("+[Pn,Pn,Pn,rr]+"\\)$"),dh=new RegExp("^rgba\\("+[Et,Et,Et,rr]+"\\)$"),mh=new RegExp("^hsl\\("+[rr,Et,Et]+"\\)$"),fh=new RegExp("^hsla\\("+[rr,Et,Et,rr]+"\\)$"),da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};To(br,ir,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:ma,formatHex:ma,formatHsl:ph,formatRgb:fa,toString:fa});function ma(){return this.rgb().formatHex()}function ph(){return ks(this).formatHsl()}function fa(){return this.rgb().formatRgb()}function ir(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=lh.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?pa(e):t===3?new ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Ir(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Ir(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uh.exec(n))?new ct(e[1],e[2],e[3],1):(e=ch.exec(n))?new ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hh.exec(n))?Ir(e[1],e[2],e[3],e[4]):(e=dh.exec(n))?Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mh.exec(n))?ya(e[1],e[2]/100,e[3]/100,1):(e=fh.exec(n))?ya(e[1],e[2]/100,e[3]/100,e[4]):da.hasOwnProperty(n)?pa(da[n]):n==="transparent"?new ct(NaN,NaN,NaN,0):null}function pa(n){return new ct(n>>16&255,n>>8&255,n&255,1)}function Ir(n,e,t,r){return r<=0&&(n=e=t=NaN),new ct(n,e,t,r)}function gh(n){return n instanceof br||(n=ir(n)),n?(n=n.rgb(),new ct(n.r,n.g,n.b,n.opacity)):new ct}function Wi(n,e,t,r){return arguments.length===1?gh(n):new ct(n,e,t,r==null?1:r)}function ct(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}To(ct,Wi,Ss(br,{brighter:function(n){return n=n==null?Vr:Math.pow(Vr,n),new ct(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?nr:Math.pow(nr,n),new ct(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ga,formatHex:ga,formatRgb:ba,toString:ba}));function ga(){return"#"+Ri(this.r)+Ri(this.g)+Ri(this.b)}function ba(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?")":", "+n+")")}function Ri(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n<16?"0":"")+n.toString(16)}function ya(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new vt(n,e,t,r)}function ks(n){if(n instanceof vt)return new vt(n.h,n.s,n.l,n.opacity);if(n instanceof br||(n=ir(n)),!n)return new vt;if(n instanceof vt)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),o=Math.max(e,t,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(t-r)/s+(t<r)*6:t===o?a=(r-e)/s+2:a=(e-t)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new vt(a,s,u,n.opacity)}function Os(n,e,t,r){return arguments.length===1?ks(n):new vt(n,e,t,r==null?1:r)}function vt(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}To(vt,Os,Ss(br,{brighter:function(n){return n=n==null?Vr:Math.pow(Vr,n),new vt(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?nr:Math.pow(nr,n),new vt(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new ct(Ni(n>=240?n-240:n+120,i,r),Ni(n,i,r),Ni(n<120?n+240:n-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(n===1?")":", "+n+")")}}));function Ni(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const Is=n=>()=>n;function bh(n,e){return function(t){return n+t*e}}function yh(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function wh(n){return(n=+n)==1?$s:function(e,t){return t-e?yh(e,t,n):Is(isNaN(e)?t:e)}}function $s(n,e){var t=e-n;return t?bh(n,t):Is(isNaN(n)?e:n)}const Vi=function n(e){var t=wh(e);function r(i,o){var a=t((i=Wi(i)).r,(o=Wi(o)).r),s=t(i.g,o.g),u=t(i.b,o.b),h=$s(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=h(c),i+""}}return r.gamma=n,r}(1);function Yt(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Xi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fi=new RegExp(Xi.source,"g");function vh(n){return function(){return n}}function Th(n){return function(e){return n(e)+""}}function Eh(n,e){var t=Xi.lastIndex=Fi.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(n=n+"",e=e+"";(r=Xi.exec(n))&&(i=Fi.exec(e));)(o=i.index)>t&&(o=e.slice(t,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Yt(r,i)})),t=Fi.lastIndex;return t<e.length&&(o=e.slice(t),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Th(u[0].x):vh(e):(e=u.length,function(h){for(var c=0,m;c<e;++c)s[(m=u[c]).i]=m.x(h);return s.join("")})}var wa=180/Math.PI,Ki={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rs(n,e,t,r,i,o){var a,s,u;return(a=Math.sqrt(n*n+e*e))&&(n/=a,e/=a),(u=n*t+e*r)&&(t-=n*u,r-=e*u),(s=Math.sqrt(t*t+r*r))&&(t/=s,r/=s,u/=s),n*r<e*t&&(n=-n,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,n)*wa,skewX:Math.atan(u)*wa,scaleX:a,scaleY:s}}var $r;function _h(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Ki:Rs(e.a,e.b,e.c,e.d,e.e,e.f)}function Mh(n){return n==null||($r||($r=document.createElementNS("http://www.w3.org/2000/svg","g")),$r.setAttribute("transform",n),!(n=$r.transform.baseVal.consolidate()))?Ki:(n=n.matrix,Rs(n.a,n.b,n.c,n.d,n.e,n.f))}function Ns(n,e,t,r){function i(h){return h.length?h.pop()+" ":""}function o(h,c,m,f,p,g){if(h!==m||c!==f){var b=p.push("translate(",null,e,null,t);g.push({i:b-4,x:Yt(h,m)},{i:b-2,x:Yt(c,f)})}else(m||f)&&p.push("translate("+m+e+f+t)}function a(h,c,m,f){h!==c?(h-c>180?c+=360:c-h>180&&(h+=360),f.push({i:m.push(i(m)+"rotate(",null,r)-2,x:Yt(h,c)})):c&&m.push(i(m)+"rotate("+c+r)}function s(h,c,m,f){h!==c?f.push({i:m.push(i(m)+"skewX(",null,r)-2,x:Yt(h,c)}):c&&m.push(i(m)+"skewX("+c+r)}function u(h,c,m,f,p,g){if(h!==m||c!==f){var b=p.push(i(p)+"scale(",null,",",null,")");g.push({i:b-4,x:Yt(h,m)},{i:b-2,x:Yt(c,f)})}else(m!==1||f!==1)&&p.push(i(p)+"scale("+m+","+f+")")}return function(h,c){var m=[],f=[];return h=n(h),c=n(c),o(h.translateX,h.translateY,c.translateX,c.translateY,m,f),a(h.rotate,c.rotate,m,f),s(h.skewX,c.skewX,m,f),u(h.scaleX,h.scaleY,c.scaleX,c.scaleY,m,f),h=c=null,function(p){for(var g=-1,b=f.length,y;++g<b;)m[(y=f[g]).i]=y.x(p);return m.join("")}}}var Ph=Ns(_h,"px, ","px)","deg)"),Dh=Ns(Mh,", ",")",")"),Sn=0,Un=0,Yn=0,Fs=1e3,Xr,Zn,Kr=0,cn=0,fi=0,or=typeof performance=="object"&&performance.now?performance:Date,qs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Eo(){return cn||(qs(Ch),cn=or.now()+fi)}function Ch(){cn=0}function Qr(){this._call=this._time=this._next=null}Qr.prototype=Ls.prototype={constructor:Qr,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Eo():+t)+(e==null?0:+e),!this._next&&Zn!==this&&(Zn?Zn._next=this:Xr=this,Zn=this),this._call=n,this._time=t,Qi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qi())}};function Ls(n,e,t){var r=new Qr;return r.restart(n,e,t),r}function Ah(){Eo(),++Sn;for(var n=Xr,e;n;)(e=cn-n._time)>=0&&n._call.call(null,e),n=n._next;--Sn}function va(){cn=(Kr=or.now())+fi,Sn=Un=0;try{Ah()}finally{Sn=0,Sh(),cn=0}}function xh(){var n=or.now(),e=n-Kr;e>Fs&&(fi-=e,Kr=n)}function Sh(){for(var n,e=Xr,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Xr=t);Zn=n,Qi(r)}function Qi(n){if(!Sn){Un&&(Un=clearTimeout(Un));var e=n-cn;e>24?(n<1/0&&(Un=setTimeout(va,n-or.now()-fi)),Yn&&(Yn=clearInterval(Yn))):(Yn||(Kr=or.now(),Yn=setInterval(xh,Fs)),Sn=1,qs(va))}}function Ta(n,e,t){var r=new Qr;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var kh=bs("start","end","cancel","interrupt"),Oh=[],Gs=0,Ea=1,Ji=2,Lr=3,_a=4,eo=5,Gr=6;function pi(n,e,t,r,i,o){var a=n.__transition;if(!a)n.__transition={};else if(t in a)return;Ih(n,t,{name:e,index:r,group:i,on:kh,tween:Oh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Gs})}function _o(n,e){var t=yt(n,e);if(t.state>Gs)throw new Error("too late; already scheduled");return t}function Dt(n,e){var t=yt(n,e);if(t.state>Lr)throw new Error("too late; already running");return t}function yt(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Ih(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=Ls(o,0,t.time);function o(h){t.state=Ea,t.timer.restart(a,t.delay,t.time),t.delay<=h&&a(h-t.delay)}function a(h){var c,m,f,p;if(t.state!==Ea)return u();for(c in r)if(p=r[c],p.name===t.name){if(p.state===Lr)return Ta(a);p.state===_a?(p.state=Gr,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete r[c]):+c<e&&(p.state=Gr,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete r[c])}if(Ta(function(){t.state===Lr&&(t.state=_a,t.timer.restart(s,t.delay,t.time),s(h))}),t.state=Ji,t.on.call("start",n,n.__data__,t.index,t.group),t.state===Ji){for(t.state=Lr,i=new Array(f=t.tween.length),c=0,m=-1;c<f;++c)(p=t.tween[c].value.call(n,n.__data__,t.index,t.group))&&(i[++m]=p);i.length=m+1}}function s(h){for(var c=h<t.duration?t.ease.call(null,h/t.duration):(t.timer.restart(u),t.state=eo,1),m=-1,f=i.length;++m<f;)i[m].call(n,c);t.state===eo&&(t.on.call("end",n,n.__data__,t.index,t.group),u())}function u(){t.state=Gr,t.timer.stop(),delete r[e];for(var h in r)return;delete n.__transition}}function $h(n,e){var t=n.__transition,r,i,o=!0,a;if(!!t){e=e==null?null:e+"";for(a in t){if((r=t[a]).name!==e){o=!1;continue}i=r.state>Ji&&r.state<eo,r.state=Gr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[a]}o&&delete n.__transition}}function Rh(n){return this.each(function(){$h(this,n)})}function Nh(n,e){var t,r;return function(){var i=Dt(this,n),o=i.tween;if(o!==t){r=t=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Fh(n,e,t){var r,i;if(typeof t!="function")throw new Error;return function(){var o=Dt(this,n),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:t},u=0,h=i.length;u<h;++u)if(i[u].name===e){i[u]=s;break}u===h&&i.push(s)}o.tween=i}}function qh(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=yt(this.node(),t).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===n)return a.value;return null}return this.each((e==null?Nh:Fh)(t,n,e))}function Mo(n,e,t){var r=n._id;return n.each(function(){var i=Dt(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return yt(i,r).value[e]}}function Ys(n,e){var t;return(typeof e=="number"?Yt:e instanceof ir?Vi:(t=ir(e))?(e=t,Vi):Eh)(n,e)}function Lh(n){return function(){this.removeAttribute(n)}}function Gh(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Yh(n,e,t){var r,i=t+"",o;return function(){var a=this.getAttribute(n);return a===i?null:a===r?o:o=e(r=a,t)}}function Bh(n,e,t){var r,i=t+"",o;return function(){var a=this.getAttributeNS(n.space,n.local);return a===i?null:a===r?o:o=e(r=a,t)}}function jh(n,e,t){var r,i,o;return function(){var a,s=t(this),u;return s==null?void this.removeAttribute(n):(a=this.getAttribute(n),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function Uh(n,e,t){var r,i,o;return function(){var a,s=t(this),u;return s==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function Zh(n,e){var t=mi(n),r=t==="transform"?Dh:Ys;return this.attrTween(n,typeof e=="function"?(t.local?Uh:jh)(t,r,Mo(this,"attr."+n,e)):e==null?(t.local?Gh:Lh)(t):(t.local?Bh:Yh)(t,r,e))}function zh(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Hh(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Wh(n,e){var t,r;function i(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&Hh(n,o)),t}return i._value=e,i}function Vh(n,e){var t,r;function i(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&zh(n,o)),t}return i._value=e,i}function Xh(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=mi(n);return this.tween(t,(r.local?Wh:Vh)(r,e))}function Kh(n,e){return function(){_o(this,n).delay=+e.apply(this,arguments)}}function Qh(n,e){return e=+e,function(){_o(this,n).delay=e}}function Jh(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Kh:Qh)(e,n)):yt(this.node(),e).delay}function ed(n,e){return function(){Dt(this,n).duration=+e.apply(this,arguments)}}function td(n,e){return e=+e,function(){Dt(this,n).duration=e}}function nd(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?ed:td)(e,n)):yt(this.node(),e).duration}function rd(n,e){if(typeof e!="function")throw new Error;return function(){Dt(this,n).ease=e}}function id(n){var e=this._id;return arguments.length?this.each(rd(e,n)):yt(this.node(),e).ease}function od(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Dt(this,n).ease=t}}function ad(n){if(typeof n!="function")throw new Error;return this.each(od(this._id,n))}function sd(n){typeof n!="function"&&(n=Ts(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,h=0;h<a;++h)(u=o[h])&&n.call(u,u.__data__,h,o)&&s.push(u);return new Nt(r,this._parents,this._name,this._id)}function ld(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],h=t[s],c=u.length,m=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||h[p])&&(m[p]=f);for(;s<r;++s)a[s]=e[s];return new Nt(a,this._parents,this._name,this._id)}function ud(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function cd(n,e,t){var r,i,o=ud(e)?_o:Dt;return function(){var a=o(this,n),s=a.on;s!==r&&(i=(r=s).copy()).on(e,t),a.on=i}}function hd(n,e){var t=this._id;return arguments.length<2?yt(this.node(),t).on.on(n):this.each(cd(t,n,e))}function dd(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function md(){return this.on("end.remove",dd(this._id))}function fd(n){var e=this._name,t=this._id;typeof n!="function"&&(n=wo(n));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,h=o[a]=new Array(u),c,m,f=0;f<u;++f)(c=s[f])&&(m=n.call(c,c.__data__,f,s))&&("__data__"in c&&(m.__data__=c.__data__),h[f]=m,pi(h[f],e,t,f,h,yt(c,t)));return new Nt(o,this._parents,e,t)}function pd(n){var e=this._name,t=this._id;typeof n!="function"&&(n=vs(n));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],h=u.length,c,m=0;m<h;++m)if(c=u[m]){for(var f=n.call(c,c.__data__,m,u),p,g=yt(c,t),b=0,y=f.length;b<y;++b)(p=f[b])&&pi(p,e,t,b,f,g);o.push(f),a.push(c)}return new Nt(o,a,e,t)}var gd=gr.prototype.constructor;function bd(){return new gd(this._groups,this._parents)}function yd(n,e){var t,r,i;return function(){var o=xn(this,n),a=(this.style.removeProperty(n),xn(this,n));return o===a?null:o===t&&a===r?i:i=e(t=o,r=a)}}function Bs(n){return function(){this.style.removeProperty(n)}}function wd(n,e,t){var r,i=t+"",o;return function(){var a=xn(this,n);return a===i?null:a===r?o:o=e(r=a,t)}}function vd(n,e,t){var r,i,o;return function(){var a=xn(this,n),s=t(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(n),xn(this,n))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Td(n,e){var t,r,i,o="style."+e,a="end."+o,s;return function(){var u=Dt(this,n),h=u.on,c=u.value[o]==null?s||(s=Bs(e)):void 0;(h!==t||i!==c)&&(r=(t=h).copy()).on(a,i=c),u.on=r}}function Ed(n,e,t){var r=(n+="")=="transform"?Ph:Ys;return e==null?this.styleTween(n,yd(n,r)).on("end.style."+n,Bs(n)):typeof e=="function"?this.styleTween(n,vd(n,r,Mo(this,"style."+n,e))).each(Td(this._id,n)):this.styleTween(n,wd(n,r,e),t).on("end.style."+n,null)}function _d(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function Md(n,e,t){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&_d(n,a,t)),r}return o._value=e,o}function Pd(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Md(n,e,t==null?"":t))}function Dd(n){return function(){this.textContent=n}}function Cd(n){return function(){var e=n(this);this.textContent=e==null?"":e}}function Ad(n){return this.tween("text",typeof n=="function"?Cd(Mo(this,"text",n)):Dd(n==null?"":n+""))}function xd(n){return function(e){this.textContent=n.call(this,e)}}function Sd(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&xd(i)),e}return r._value=n,r}function kd(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,Sd(n))}function Od(){for(var n=this._name,e=this._id,t=js(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,h=0;h<s;++h)if(u=a[h]){var c=yt(u,e);pi(u,n,t,h,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Nt(r,this._parents,n,t)}function Id(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};t.each(function(){var h=Dt(this,r),c=h.on;c!==n&&(e=(n=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),h.on=e}),i===0&&o()})}var $d=0;function Nt(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function js(){return++$d}var en=gr.prototype;Nt.prototype={constructor:Nt,select:fd,selectAll:pd,filter:sd,merge:ld,selection:bd,transition:Od,call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:hd,attr:Zh,attrTween:Xh,style:Ed,styleTween:Pd,text:Ad,textTween:kd,remove:md,tween:qh,delay:Jh,duration:nd,ease:id,easeVarying:ad,end:Id,[Symbol.iterator]:en[Symbol.iterator]};function Rd(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Nd={time:null,delay:0,duration:250,ease:Rd};function Fd(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function qd(n){var e,t;n instanceof Nt?(e=n._id,n=n._name):(e=js(),(t=Nd).time=Eo(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,h=0;h<s;++h)(u=a[h])&&pi(u,n,e,h,a,t||Fd(u,e));return new Nt(r,this._parents,n,e)}gr.prototype.interrupt=Rh;gr.prototype.transition=qd;function Mn(n,e,t){this.k=n,this.x=e,this.y=t}Mn.prototype={constructor:Mn,scale:function(n){return n===1?this:new Mn(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Mn(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Mn(1,0,0);Mn.prototype;var Ld={exports:{}};(function(n){(function(){const e=function(r){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;if(r=r.replace(/^.*?base64,/,""),r=String(r).replace(/[\t\n\f\r ]+/g,""),!o.test(r))throw new TypeError("Failed to execute _atob() : The string to be decoded is not correctly encoded.");r+="==".slice(2-(r.length&3));let a,s="",u,h,c=0;for(;c<r.length;)a=i.indexOf(r.charAt(c++))<<18|i.indexOf(r.charAt(c++))<<12|(u=i.indexOf(r.charAt(c++)))<<6|(h=i.indexOf(r.charAt(c++))),s+=u===64?String.fromCharCode(a>>16&255):h===64?String.fromCharCode(a>>16&255,a>>8&255):String.fromCharCode(a>>16&255,a>>8&255,a&255);return s},t={debug:!1,parse:function(r,i){if(r instanceof Uint8Array)return t.Uint8(r);if(typeof r=="string")return t.Base64(r);if(r instanceof HTMLElement&&r.type==="file")return t.addListener(r,i);throw new Error("MidiParser.parse() : Invalid input provided")},addListener:function(r,i){if(!File||!FileReader)throw new Error("The File|FileReader APIs are not supported in this browser. Use instead MidiParser.Base64() or MidiParser.Uint8()");if(r===void 0||!(r instanceof HTMLElement)||r.tagName!=="INPUT"||r.type.toLowerCase()!=="file")return console.warn("MidiParser.addListener() : Provided element is not a valid FILE INPUT element"),!1;i=i||function(){},r.addEventListener("change",function(o){if(!o.target.files.length)return!1;console.log("MidiParser.addListener() : File detected in INPUT ELEMENT processing data..");let a=new FileReader;a.readAsArrayBuffer(o.target.files[0]),a.onload=function(s){i(t.Uint8(new Uint8Array(s.target.result)))}})},Base64:function(r){r=String(r);let i=e(r),o=i.length,a=new Uint8Array(new ArrayBuffer(o));for(let s=0;s<o;s++)a[s]=i.charCodeAt(s);return t.Uint8(a)},Uint8:function(r){let i={data:null,pointer:0,movePointer:function(u){return this.pointer+=u,this.pointer},readInt:function(u){if(u=Math.min(u,this.data.byteLength-this.pointer),u<1)return-1;let h=0;if(u>1)for(let c=1;c<=u-1;c++)h+=this.data.getUint8(this.pointer)*Math.pow(256,u-c),this.pointer++;return h+=this.data.getUint8(this.pointer),this.pointer++,h},readStr:function(u){let h="";for(let c=1;c<=u;c++)h+=String.fromCharCode(this.readInt(1));return h},readIntVLV:function(){let u=0;if(this.pointer>=this.data.byteLength)return-1;if(this.data.getUint8(this.pointer)<128)u=this.readInt(1);else{let h=[];for(;this.data.getUint8(this.pointer)>=128;)h.push(this.readInt(1)-128);let c=this.readInt(1);for(let m=1;m<=h.length;m++)u+=h[h.length-m]*Math.pow(128,m);u+=c}return u}};if(i.data=new DataView(r.buffer,r.byteOffset,r.byteLength),i.readInt(4)!==1297377380)return console.warn("Header validation failed (not MIDI standard or file corrupt.)"),!1;i.readInt(4);let o={};o.formatType=i.readInt(2),o.tracks=i.readInt(2),o.track=[];let a=i.readInt(1),s=i.readInt(1);a>=128?(o.timeDivision=[],o.timeDivision[0]=a-128,o.timeDivision[1]=s):o.timeDivision=a*256+s;for(let u=1;u<=o.tracks;u++){o.track[u-1]={event:[]};let h=i.readInt(4);if(h===-1)break;if(h!==1297379947)return!1;i.readInt(4);let c=0,m=!1,f,p;for(;!m&&(c++,o.track[u-1].event[c-1]={},o.track[u-1].event[c-1].deltaTime=i.readIntVLV(),f=i.readInt(1),f!==-1);)if(f>=128?p=f:(f=p,i.movePointer(-1)),f===255){o.track[u-1].event[c-1].type=255,o.track[u-1].event[c-1].metaType=i.readInt(1);let g=i.readIntVLV();switch(o.track[u-1].event[c-1].metaType){case 47:case-1:m=!0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 6:o.track[u-1].event[c-1].data=i.readStr(g);break;case 33:case 89:case 81:o.track[u-1].event[c-1].data=i.readInt(g);break;case 84:o.track[u-1].event[c-1].data=[],o.track[u-1].event[c-1].data[0]=i.readInt(1),o.track[u-1].event[c-1].data[1]=i.readInt(1),o.track[u-1].event[c-1].data[2]=i.readInt(1),o.track[u-1].event[c-1].data[3]=i.readInt(1),o.track[u-1].event[c-1].data[4]=i.readInt(1);break;case 88:o.track[u-1].event[c-1].data=[],o.track[u-1].event[c-1].data[0]=i.readInt(1),o.track[u-1].event[c-1].data[1]=i.readInt(1),o.track[u-1].event[c-1].data[2]=i.readInt(1),o.track[u-1].event[c-1].data[3]=i.readInt(1);break;default:this.customInterpreter!==null&&(o.track[u-1].event[c-1].data=this.customInterpreter(o.track[u-1].event[c-1].metaType,i,g)),(this.customInterpreter===null||o.track[u-1].event[c-1].data===!1)&&(i.readInt(g),o.track[u-1].event[c-1].data=i.readInt(g),this.debug&&console.info("Unimplemented 0xFF meta event! data block readed as Integer"))}}else switch(f=f.toString(16).split(""),f[1]||f.unshift("0"),o.track[u-1].event[c-1].type=parseInt(f[0],16),o.track[u-1].event[c-1].channel=parseInt(f[1],16),o.track[u-1].event[c-1].type){case 15:{if(this.customInterpreter!==null&&(o.track[u-1].event[c-1].data=this.customInterpreter(o.track[u-1].event[c-1].type,i,!1)),this.customInterpreter===null||o.track[u-1].event[c-1].data===!1){let g=i.readIntVLV();o.track[u-1].event[c-1].data=i.readInt(g),this.debug&&console.info("Unimplemented 0xF exclusive events! data block readed as Integer")}break}case 10:case 11:case 14:case 8:case 9:o.track[u-1].event[c-1].data=[],o.track[u-1].event[c-1].data[0]=i.readInt(1),o.track[u-1].event[c-1].data[1]=i.readInt(1);break;case 12:case 13:o.track[u-1].event[c-1].data=i.readInt(1);break;case-1:m=!0;break;default:if(this.customInterpreter!==null&&(o.track[u-1].event[c-1].data=this.customInterpreter(o.track[u-1].event[c-1].metaType,i,!1)),this.customInterpreter===null||o.track[u-1].event[c-1].data===!1)return console.log("Unknown EVENT detected... reading cancelled!"),!1}}return o},customInterpreter:null};n.exports=t})()})(Ld);const Us=[],Gd=[2,1,1/2,1/4,1/8,1/16,1/32,1/64];for(const n of Gd)for(let e=0;e<4;e++){let t=n,r=n;for(let i=0;i<e;i++)r/=2,t+=r;Us.push({type:n,dots:e,duration:t})}Us.sort((n,e)=>n.duration-e.duration);const Yd=()=>new Promise(async n=>{let e;try{e=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(s){console.warn("[AudioInput] Cannot access audio",s);return}const t={audioBitsPerSecond:128e3},r=new MediaRecorder(e,t);let i=[];r.addEventListener("dataavailable",s=>{i.push(s.data)}),n({start:()=>{if(!r){console.warn("[AudioInput] Cannot record audio, no microphone?");return}r.state!=="recording"&&(console.log(`[AudioInput] Recording @ ${r.audioBitsPerSecond} b/s`),i=[],r.start())},stop:()=>new Promise(s=>{!r||(console.log("[AudioInput] Stopping audio recording"),r.addEventListener("stop",()=>{const u={type:r.mimeType},h=new Blob(i,u);s(h)}),r.stop())})})}),Bd=n=>new Promise(async e=>{let t;try{t=await navigator.requestMIDIAccess()}catch(s){console.warn("[MidiInput] Cannot access MIDI",s);return}let r=[];const i=s=>{n&&n(s),r.push(s)};e({start:()=>{if(!t){console.warn("[MidiInput] Cannot record MIDI");return}for(const s of t.inputs.values())s.onmidimessage=i;console.log("[MidiInput] Starting recording"),r=[]},stop:()=>t?(console.log("[MidiInput] Stopping recording"),jd(r)):void 0})});function jd(n){const e=new Map,t=[];for(const r of n){const i=r.target.name,o=r.timeStamp,a=r.data[0],s=a%16,u=a-s,h=r.data[1],c=r.data.length>2?r.data[2]:0;switch(u){case 128:Ma(t,e,i,o,h,s);break;case 144:c>0?Ud(e,i,o,h,s,c):Ma(t,e,i,o,h,s);break}}return e.size>0&&console.warn(`[MidiInput] Got ${e.size} unfinished notes`),t.sort((r,i)=>r.start-i.start),t}function Ud(n,e,t,r,i,o){const a=new Xn(r,t/1e3,o,i),s=`${e}-${i}-${r}`;n.set(s,a)}function Ma(n,e,t,r,i,o){const a=`${t}-${o}-${i}`;if(!e.has(a)){console.warn(`[MidiInput] Missing note-on for note-off with key ${a}`);return}const s=e.get(a);s.end=r/1e3,n.push(s),e.delete(a)}class Q{constructor(e,t){this.name=e,this.notes=t,this.short=t.join(" "),this.pitches=t.map(r=>yo(r).pitch),this.stringCount=t.length}}new Q("E stand.",["E2","A2","D3","G3","B3","E4"]),new Q("Drop D",["D2","A2","D3","G3","B3","E4"]),new Q("Drop C",["C2","G2","C3","F3","A3","D4"]),new Q("1/2 down",["D#2","G#2","C#3","F#3","A#3","D#4"]),new Q("1 down",["D2","G2","C3","F3","A3","D4"]),new Q("1 1/2 down",["C#2","F#2","B2","E3","G#3","C#4"]),new Q("2 down",["C2","F2","A#2","D#3","G3","C4"]),new Q("DADGAG",["D2","A2","D3","G3","A3","D4"]),new Q("B stand.",["B1","E2","A2","D3","G3","B3","E4"]),new Q("Drop A",["A1","E2","A2","D3","G3","B3","E4"]),new Q("1/2 down",["A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new Q("1 down",["A1","D2","G2","C3","F3","A3","D4"]),new Q("1 1/2 down",["G#1","C#2","F#2","B2","E3","G#3","C#4"]),new Q("2 down",["G1","C2","F2","A#2","D#3","G3","C4"]),new Q("F# stand.",["F#1","B1","E2","A2","D3","G3","B3","E4"]),new Q("Drop E",["E1","B1","E2","A2","D3","G3","B3","E4"]),new Q("1/2 down",["F1","A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new Q("1 down",["E1","A1","D2","G2","C3","F3","A3","D4"]),new Q("1 1/2 down",["D#1","G#1","C#2","F#2","B2","E3","G#3","C#4"]),new Q("2 down",["D1","G1","C2","F2","A#2","D#3","G3","C4"]),new Q("E stand.",["E1","A1","D2","G2"]),new Q("Drop D",["D1","A1","D2","G2"]),new Q("1/2 down",["D#1","G#1","C#2","F#2"]),new Q("1 down",["D1","G1","C2","F2"]),new Q("1 1/2 down",["C#1","F#1","B1","E2"]),new Q("2 down",["C1","F1","A#1","D#2"]),new Q("B stand.",["B0","E1","A1","D2","G2"]),new Q("Drop A",["A0","D1","A1","D2","G2"]),new Q("1/2 down",["A#0","D#1","G#1","C#2","F#2"]),new Q("1 down",["A0","D1","G1","C2","F2"]),new Q("1 1/2 down",["G#0","C#1","F#1","B1","E2"]),new Q("2 down",["G0","C1","F1","A#1","D#2"]),new Q("F# stand.",["F#0","B0","E1","A1","D2","G2"]),new Q("Drop E",["E0","A0","D1","A1","D2","G2"]),new Q("1/2 down",["F0","A#0","D#1","G#1","C#2","F#2"]),new Q("1 down",["E1","A0","D1","G1","C2","F2"]),new Q("1 1/2 down",["D#0","G#0","C#1","F#1","B1","E2"]),new Q("2 down",["D0","G0","C1","F1","A#1","D#2"]),new Q("Hawaii",["G4","C4","E4","A4"]),new Q("Low G",["G3","C4","E4","A4"]),new Q("D-tuning",["A4","D4","F#4","B4"]),new Q("Canadian",["A3","D4","F#4","B4"]),new Q("Bariton",["D3","G3","B3","E4"]);const Jr=(n,e)=>Array(Math.abs(e)+1).join(n);function Zs(n){return n!==null&&typeof n=="object"&&typeof n.name=="string"}function zs(n){return n!==null&&typeof n=="object"&&typeof n.step=="number"&&typeof n.alt=="number"}const Hs=[0,2,4,-1,1,3,5],Ws=Hs.map(n=>Math.floor(n*7/12));function Vs(n){const{step:e,alt:t,oct:r,dir:i=1}=n,o=Hs[e]+7*t;if(r===void 0)return[i*o];const a=r-Ws[e]-4*t;return[i*o,i*a]}const Zd=[3,0,4,1,5,2,6];function zd(n){const[e,t,r]=n,i=Zd[Hd(e)],o=Math.floor((e+1)/7);if(t===void 0)return{step:i,alt:o,dir:r};const a=t+4*o+Ws[i];return{step:i,alt:o,oct:a,dir:r}}function Hd(n){const e=(n+1)%7;return e<0?7+e:e}const Xs={empty:!0,name:"",pc:"",acc:""},Pa=new Map,Wd=n=>"CDEFGAB".charAt(n),Vd=n=>n<0?Jr("b",-n):Jr("#",n),Xd=n=>n[0]==="b"?-n.length:n.length;function ar(n){const e=Pa.get(n);if(e)return e;const t=typeof n=="string"?tm(n):zs(n)?ar(nm(n)):Zs(n)?ar(n.name):Xs;return Pa.set(n,t),t}const Kd=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Qd(n){const e=Kd.exec(n);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function Jd(n){return ar(zd(n))}const em=(n,e)=>(n%e+e)%e,qi=[0,2,4,5,7,9,11];function tm(n){const e=Qd(n);if(e[0]===""||e[3]!=="")return Xs;const t=e[0],r=e[1],i=e[2],o=(t.charCodeAt(0)+3)%7,a=Xd(r),s=i.length?+i:void 0,u=Vs({step:o,alt:a,oct:s}),h=t+r+i,c=t+r,m=(qi[o]+a+120)%12,f=s===void 0?em(qi[o]+a,12)-12*99:qi[o]+a+12*(s+1),p=f>=0&&f<=127?f:null,g=s===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:r,alt:a,chroma:m,coord:u,freq:g,height:f,letter:t,midi:p,name:h,oct:s,pc:c,step:o}}function nm(n){const{step:e,alt:t,oct:r}=n,i=Wd(e);if(!i)return"";const o=i+Vd(t);return r||r===0?o+r:o}const to={empty:!0,name:"",acc:""},rm="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",im="(AA|A|P|M|m|d|dd)([-+]?\\d+)",om=new RegExp("^"+rm+"|"+im+"$");function am(n){const e=om.exec(`${n}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}const Da={};function ei(n){return typeof n=="string"?Da[n]||(Da[n]=sm(n)):zs(n)?ei(um(n)):Zs(n)?ei(n.name):to}const Ca=[0,2,4,5,7,9,11],Ks="PMMPPMM";function sm(n){const e=am(n);if(e[0]==="")return to;const t=+e[0],r=e[1],i=(Math.abs(t)-1)%7,o=Ks[i];if(o==="M"&&r==="P")return to;const a=o==="M"?"majorable":"perfectable",s=""+t+r,u=t<0?-1:1,h=t===8||t===-8?t:u*(i+1),c=lm(a,r),m=Math.floor((Math.abs(t)-1)/7),f=u*(Ca[i]+c+12*m),p=(u*(Ca[i]+c)%12+12)%12,g=Vs({step:i,alt:c,oct:m,dir:u});return{empty:!1,name:s,num:t,q:r,step:i,alt:c,dir:u,type:a,simple:h,semitones:f,chroma:p,coord:g,oct:m}}function lm(n,e){return e==="M"&&n==="majorable"||e==="P"&&n==="perfectable"?0:e==="m"&&n==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(n==="perfectable"?e.length:e.length+1):0}function um(n){const{step:e,alt:t,oct:r=0,dir:i}=n;if(!i)return"";const o=e+1+7*r,a=o===0?e+1:o,s=i<0?"-":"",u=Ks[e]==="M"?"majorable":"perfectable";return s+a+cm(u,t)}function cm(n,e){return e===0?n==="majorable"?"M":"P":e===-1&&n==="majorable"?"m":e>0?Jr("A",e):Jr("d",n==="perfectable"?e:e+1)}function hm(n,e){const t=ar(n),r=ei(e);if(t.empty||r.empty)return"";const i=t.coord,o=r.coord,a=i.length===1?[i[0]+o[0]]:[i[0]+o[0],i[1]+o[1]];return Jd(a).name}function Qs(n,e){const t=e.length,r=(n%t+t)%t;return e.slice(r,t).concat(e.slice(0,r))}const hn={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Js=n=>Number(n).toString(2),Aa=n=>parseInt(n,2),dm=/^[01]{12}$/;function el(n){return dm.test(n)}const mm=n=>typeof n=="number"&&n>=0&&n<=4095,fm=n=>n&&el(n.chroma),xa={[hn.chroma]:hn};function tl(n){const e=el(n)?n:mm(n)?Js(n):Array.isArray(n)?wm(n):fm(n)?n.chroma:hn.chroma;return xa[e]=xa[e]||ym(e)}const pm=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function gm(n){const e=[];for(let t=0;t<12;t++)n.charAt(t)==="1"&&e.push(pm[t]);return e}function bm(n){const e=n.split("");return e.map((t,r)=>Qs(r,e).join(""))}function ym(n){const e=Aa(n),t=bm(n).map(Aa).filter(o=>o>=2048).sort()[0],r=Js(t),i=gm(n);return{empty:!1,name:"",setNum:e,chroma:n,normalized:r,intervals:i}}function wm(n){if(n.length===0)return hn.chroma;let e;const t=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<n.length;r++)e=ar(n[r]),e.empty&&(e=ei(n[r])),e.empty||(t[e.chroma]=1);return t.join("")}const vm=[["1P 3M 5P","major","M ^ "],["1P 3M 5P 7M","major seventh","maj7 \u0394 ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 \u03949 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth/ninth","6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 \u0394#4 \u0394#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -\u03947 m\u0394 -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim \xB0 o"],["1P 3m 5d 7d","diminished seventh","dim7 \xB07 o7"],["1P 3m 5d 7m","half-diminished","m7b5 \xF8 -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 \u03949#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]];({...hn});let nl=[],Yr={};function Tm(n,e,t){const r=_m(n),i={...tl(n),name:t||"",quality:r,intervals:n,aliases:e};nl.push(i),i.name&&(Yr[i.name]=i),Yr[i.setNum]=i,Yr[i.chroma]=i,i.aliases.forEach(o=>Em(i,o))}function Em(n,e){Yr[e]=n}function _m(n){const e=t=>n.indexOf(t)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}vm.forEach(([n,e,t])=>Tm(n.split(" "),t.split(" "),e));nl.sort((n,e)=>n.setNum-e.setNum);const Mm=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 7m","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3m 4P 5P 6m 7m","aeolian","minor"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],Pm={...hn,intervals:[],aliases:[]};let Kn={};function Dm(n){return Kn[n]||Pm}function Cm(n,e,t=[]){const r={...tl(n),name:e,intervals:n,aliases:t};return Kn[r.name]=r,Kn[r.setNum]=r,Kn[r.chroma]=r,r.aliases.forEach(i=>Am(r,i)),r}function Am(n,e){Kn[e]=n}Mm.forEach(([n,e,...t])=>Cm(n.split(" "),e,t));Object.freeze([]);const Po=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Sa={...hn,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},xm=Po.map(Sm),no={};xm.forEach(n=>{no[n.name]=n,n.aliases.forEach(e=>{no[e]=n})});function rl(n){return typeof n=="string"?no[n.toLowerCase()]||Sa:n&&n.name?rl(n.name):Sa}function Sm(n){const[e,t,r,i,o,a,s]=n,u=s?[s]:[],h=Number(t).toString(2);return{empty:!1,intervals:Dm(i).intervals,modeNum:e,chroma:h,normalized:h,name:i,setNum:t,alt:r,triad:o,seventh:a,aliases:u}}function il(n){return(e,t)=>{const r=rl(e);if(r.empty)return[];const i=Qs(r.modeNum,n),o=r.intervals.map(a=>hm(t,a));return i.map((a,s)=>o[s]+a)}}il(Po.map(n=>n[4]));il(Po.map(n=>n[5]));class Gt{constructor(e,t){this.name=e,this.notes=t,this.short=t.join(" "),this.pitches=t.map(r=>yo(r).pitch),this.pitchesSorted=[...this.pitches].sort((r,i)=>r-i),this.keyCount=t.length}getNumbers(){const e=this.pitchesSorted,t=new Map;for(const[r,i]of e.entries()){let o=r+1,a="",s=i-12;for(;s>0&&t.has(s);)o=t.get(s).number,a+="\xB0",s-=12;t.set(i,{number:o,numberString:`${o}${a}`})}return[...t.values()].map(r=>r.numberString)}getLetters(){const e=this.pitchesSorted,t=new Map;for(const[r,i]of e.entries()){let o=r+1,a="",s=i-12;for(;s>0&&t.has(s);)o=t.get(s).number,a+="\xB0",s-=12;const u=Fr(i).name;t.set(i,{number:o,letterString:`${u}${a}`})}return[...t.values()].map(r=>r.letterString)}}new Gt("9 A Major",["A5","C#6","C#5","A5","A4","F#5","E5","E6","B5"]),new Gt("9 A Minor",["A5","C6","C5","A5","A4","F5","E5","E6","B5"]),new Gt("9 A Minor 7",["A5","C6","C5","A5","A4","F#5","E5","E6","B5"]),new Gt("9 A Ake Bono",["A5","D6","D5","A5","A4","F5","E5","E6","A#5"]),new Gt("9 A Hijaz",["G5","D6","D5","A5","A4","F#5","D#5","D#6","A#5"]),new Gt("9 A Pygmy",["G5","C6","C5","G5","G4","D#5","D5","D#6","A#5"]),new Gt("17 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","C4","E4","G4","B4","D5","F5","A5","C6","E6"]),new Gt("21 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","B3","G3","F3","A3","C4","E4","G4","B4","D5","F5","A5","C6","E6"]);function km(n,e=1){const t=Os(n);return t.s=e,t.toString()}["#ff0000","#ff4e00","#db7b00","#ffcc00","#e4ed00","#81d700","#00ffb4","#00ffea","#00baff","#3c00ff","#a800ff","#ff00fd"].map(n=>km(n,.5));const Om=Vi("black","steelblue");Array.from({length:12}).map((n,e)=>Om(e/11));class d extends Array{constructor(e,t){if(super(e),this.sign=t,Object.setPrototypeOf(this,d.prototype),e>d.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return d.__zero();if(d.__isOneDigitInt(e))return 0>e?d.__oneDigit(-e,!0):d.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return d.__fromDouble(e)}if(typeof e=="string"){const i=d.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?d.__oneDigit(1,!1):d.__zero();if(typeof e=="object"){if(e.constructor===d)return e;const i=d.__toPrimitive(e);return d.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const t of this)e.push((t&&(t>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?d.__toStringBasePowerOfTwo(this,e):d.__toStringGeneric(this,e,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const t=e.length;if(t===0)return 0;if(t===1){const y=e.__unsignedDigit(0);return e.sign?-y:y}const r=e.__digit(t-1),i=d.__clz30(r),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;let a=o-1,s=r,u=t-1;const h=i+3;let c=h===32?0:s<<h;c>>>=12;const m=h-12;let f=12<=h?0:s<<20+h,p=20+h;for(0<m&&0<u&&(u--,s=e.__digit(u),c|=s>>>30-m,f=s<<m+2,p=m+2);0<p&&0<u;)u--,s=e.__digit(u),f|=30<=p?s<<p-30:s>>>30-p,p-=30;const g=d.__decideRounding(e,p,u,s);if((g===1||g===0&&(1&f)==1)&&(f=f+1>>>0,f===0&&(c++,c>>>20!=0&&(c=0,a++,1023<a))))return e.sign?-1/0:1/0;const b=e.sign?-2147483648:0;return a=a+1023<<20,d.__kBitConversionInts[1]=b|a|c,d.__kBitConversionInts[0]=f,d.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?d.__absoluteSubOne(e).__trim():d.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return d.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?d.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(r===1)return e;if(r>=d.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const a=1+(0|r/30),s=e.sign&&(1&r)!=0,u=new d(a,s);u.__initializeDigits();const h=1<<r%30;return u.__setDigit(a-1,h),u}let i=null,o=e;for((1&r)!=0&&(i=e),r>>=1;r!==0;r>>=1)o=d.multiply(o,o),(1&r)!=0&&(i===null?i=o:i=d.multiply(i,o));return i}static multiply(e,t){if(e.length===0)return e;if(t.length===0)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;const i=new d(r,e.sign!==t.sign);i.__initializeDigits();for(let o=0;o<e.length;o++)d.__multiplyAccumulate(t,e.__digit(o),i,o);return i.__trim()}static divide(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>d.__absoluteCompare(e,t))return d.__zero();const r=e.sign!==t.sign,i=t.__unsignedDigit(0);let o;if(t.length===1&&32767>=i){if(i===1)return r===e.sign?e:d.unaryMinus(e);o=d.__absoluteDivSmall(e,i,null)}else o=d.__absoluteDivLarge(e,t,!0,!1);return o.sign=r,o.__trim()}static remainder(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>d.__absoluteCompare(e,t))return e;const r=t.__unsignedDigit(0);if(t.length===1&&32767>=r){if(r===1)return d.__zero();const o=d.__absoluteModSmall(e,r);return o===0?d.__zero():d.__oneDigit(o,e.sign)}const i=d.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,t){const r=e.sign;return r===t.sign?d.__absoluteAdd(e,t,r):0<=d.__absoluteCompare(e,t)?d.__absoluteSub(e,t,r):d.__absoluteSub(t,e,!r)}static subtract(e,t){const r=e.sign;return r===t.sign?0<=d.__absoluteCompare(e,t)?d.__absoluteSub(e,t,r):d.__absoluteSub(t,e,!r):d.__absoluteAdd(e,t,r)}static leftShift(e,t){return t.length===0||e.length===0?e:t.sign?d.__rightShiftByAbsolute(e,t):d.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return t.length===0||e.length===0?e:t.sign?d.__leftShiftByAbsolute(e,t):d.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>d.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=d.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<d.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=d.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!d.equal(e,t)}static bitwiseAnd(e,t){var r=Math.max;if(!e.sign&&!t.sign)return d.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){const i=r(e.length,t.length)+1;let o=d.__absoluteSubOne(e,i);const a=d.__absoluteSubOne(t);return o=d.__absoluteOr(o,a,o),d.__absoluteAddOne(o,!0,o).__trim()}return e.sign&&([e,t]=[t,e]),d.__absoluteAndNot(e,d.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){var r=Math.max;if(!e.sign&&!t.sign)return d.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){const a=r(e.length,t.length),s=d.__absoluteSubOne(e,a),u=d.__absoluteSubOne(t);return d.__absoluteXor(s,u,s).__trim()}const i=r(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let o=d.__absoluteSubOne(t,i);return o=d.__absoluteXor(o,e,o),d.__absoluteAddOne(o,!0,o).__trim()}static bitwiseOr(e,t){var r=Math.max;const i=r(e.length,t.length);if(!e.sign&&!t.sign)return d.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let a=d.__absoluteSubOne(e,i);const s=d.__absoluteSubOne(t);return a=d.__absoluteAnd(a,s,a),d.__absoluteAddOne(a,!0,a).__trim()}e.sign&&([e,t]=[t,e]);let o=d.__absoluteSubOne(t,i);return o=d.__absoluteAndNot(o,e,o),d.__absoluteAddOne(o,!0,o).__trim()}static asIntN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return d.__zero();if(e>=d.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const o=t.__unsignedDigit(i-1),a=1<<(e-1)%30;if(t.length===i&&o<a)return t;if((o&a)!==a)return d.__truncateToNBits(e,t);if(!t.sign)return d.__truncateAndSubFromPowerOfTwo(e,t,!0);if((o&a-1)==0){for(let s=i-2;0<=s;s--)if(t.__digit(s)!==0)return d.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===i&&o===a?t:d.__truncateToNBits(e,t)}return d.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){var r=Math.floor;if(t.length===0)return t;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return d.__zero();if(t.sign){if(e>d.__kMaxLengthBits)throw new RangeError("BigInt too big");return d.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=d.__kMaxLengthBits)return t;const i=0|(e+29)/30;if(t.length<i)return t;const o=e%30;return t.length==i&&(o===0||t.__digit(i-1)>>>o==0)?t:d.__truncateToNBits(e,t)}static ADD(e,t){if(e=d.__toPrimitive(e),t=d.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=d.__toNumeric(e),t=d.__toNumeric(t),d.__isBigInt(e)&&d.__isBigInt(t))return d.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return d.__compare(e,t,0)}static LE(e,t){return d.__compare(e,t,1)}static GT(e,t){return d.__compare(e,t,2)}static GE(e,t){return d.__compare(e,t,3)}static EQ(e,t){for(;;){if(d.__isBigInt(e))return d.__isBigInt(t)?d.equal(e,t):d.EQ(t,e);if(typeof e=="number"){if(d.__isBigInt(t))return d.__equalToNumber(t,e);if(typeof t!="object")return e==t;t=d.__toPrimitive(t)}else if(typeof e=="string"){if(d.__isBigInt(t))return e=d.__fromString(e),e!==null&&d.equal(e,t);if(typeof t!="object")return e==t;t=d.__toPrimitive(t)}else if(typeof e=="boolean"){if(d.__isBigInt(t))return d.__equalToNumber(t,+e);if(typeof t!="object")return e==t;t=d.__toPrimitive(t)}else if(typeof e=="symbol"){if(d.__isBigInt(t))return!1;if(typeof t!="object")return e==t;t=d.__toPrimitive(t)}else if(typeof e=="object"){if(typeof t=="object"&&t.constructor!==d)return e==t;e=d.__toPrimitive(e)}else return e==t}}static NE(e,t){return!d.EQ(e,t)}static DataViewGetBigInt64(e,t,r=!1){return d.asIntN(64,d.DataViewGetBigUint64(e,t,r))}static DataViewGetBigUint64(e,t,r=!1){const[i,o]=r?[4,0]:[0,4],a=e.getUint32(t+i,r),s=e.getUint32(t+o,r),u=new d(3,!1);return u.__setDigit(0,1073741823&s),u.__setDigit(1,(268435455&a)<<2|s>>>30),u.__setDigit(2,a>>>28),u.__trim()}static DataViewSetBigInt64(e,t,r,i=!1){d.DataViewSetBigUint64(e,t,r,i)}static DataViewSetBigUint64(e,t,r,i=!1){r=d.asUintN(64,r);let o=0,a=0;if(0<r.length&&(a=r.__digit(0),1<r.length)){const h=r.__digit(1);a|=h<<30,o=h>>>2,2<r.length&&(o|=r.__digit(2)<<28)}const[s,u]=i?[4,0]:[0,4];e.setUint32(t+s,o,i),e.setUint32(t+u,a,i)}static __zero(){return new d(0,!1)}static __oneDigit(e,t){const r=new d(1,t);return r.__setDigit(0,e),r}__copy(){const e=new d(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,i){if(0<t)return-1;let o;if(0>t)o=-t-1;else{if(r===0)return-1;r--,i=e.__digit(r),o=29}let a=1<<o;if((i&a)==0)return-1;if(a-=1,(i&a)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){d.__kBitConversionDouble[0]=e;const t=2047&d.__kBitConversionInts[1]>>>20,r=t-1023,i=(0|r/30)+1,o=new d(i,0>e);let a=1048575&d.__kBitConversionInts[1]|1048576,s=d.__kBitConversionInts[0];const u=20,h=r%30;let c,m=0;if(h<20){const f=u-h;m=f+32,c=a>>>f,a=a<<32-f|s>>>f,s<<=32-f}else if(h===20)m=32,c=a,a=s,s=0;else{const f=h-u;m=32-f,c=a<<f|s>>>32-f,a=s<<f,s=0}o.__setDigit(i-1,c);for(let f=i-2;0<=f;f--)0<m?(m-=30,c=a>>>2,a=a<<30|s>>>2,s<<=30):c=0,o.__setDigit(f,c);return o.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,t=0){let r=0;const i=e.length;let o=0;if(o===i)return d.__zero();let a=e.charCodeAt(o);for(;d.__isWhitespace(a);){if(++o===i)return d.__zero();a=e.charCodeAt(o)}if(a===43){if(++o===i)return null;a=e.charCodeAt(o),r=1}else if(a===45){if(++o===i)return null;a=e.charCodeAt(o),r=-1}if(t===0){if(t=10,a===48){if(++o===i)return d.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(t=16,++o===i)return null;a=e.charCodeAt(o)}else if(a===79||a===111){if(t=8,++o===i)return null;a=e.charCodeAt(o)}else if(a===66||a===98){if(t=2,++o===i)return null;a=e.charCodeAt(o)}}}else if(t===16&&a===48){if(++o===i)return d.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(++o===i)return null;a=e.charCodeAt(o)}}if(r!=0&&t!==10)return null;for(;a===48;){if(++o===i)return d.__zero();a=e.charCodeAt(o)}const s=i-o;let u=d.__kMaxBitsPerChar[t],h=d.__kBitsPerCharTableMultiplier-1;if(s>1073741824/u)return null;const c=u*s+h>>>d.__kBitsPerCharTableShift,m=new d(0|(c+29)/30,!1),f=10>t?t:10,p=10<t?t-10:0;if((t&t-1)==0){u>>=d.__kBitsPerCharTableShift;const g=[],b=[];let y=!1;do{let w=0,v=0;for(;;){let _;if(a-48>>>0<f)_=a-48;else if((32|a)-97>>>0<p)_=(32|a)-87;else{y=!0;break}if(v+=u,w=w<<u|_,++o===i){y=!0;break}if(a=e.charCodeAt(o),30<v+u)break}g.push(w),b.push(v)}while(!y);d.__fillFromParts(m,g,b)}else{m.__initializeDigits();let g=!1,b=0;do{let y=0,w=1;for(;;){let _;if(a-48>>>0<f)_=a-48;else if((32|a)-97>>>0<p)_=(32|a)-87;else{g=!0;break}const E=w*t;if(1073741823<E)break;if(w=E,y=y*t+_,b++,++o===i){g=!0;break}a=e.charCodeAt(o)}h=30*d.__kBitsPerCharTableMultiplier-1;const v=0|(u*b+h>>>d.__kBitsPerCharTableShift)/30;m.__inplaceMultiplyAdd(w,y,v)}while(!g)}if(o!==i){if(!d.__isWhitespace(a))return null;for(o++;o<i;o++)if(a=e.charCodeAt(o),!d.__isWhitespace(a))return null}return m.sign=r==-1,m.__trim()}static __fillFromParts(e,t,r){let i=0,o=0,a=0;for(let s=t.length-1;0<=s;s--){const u=t[s],h=r[s];o|=u<<a,a+=h,a===30?(e.__setDigit(i++,o),a=0,o=0):30<a&&(e.__setDigit(i++,1073741823&o),a-=30,o=u>>>h-a)}if(o!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,o)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,t){const r=e.length;let i=t-1;i=(85&i>>>1)+(85&i),i=(51&i>>>2)+(51&i),i=(15&i>>>4)+(15&i);const o=i,a=t-1,s=e.__digit(r-1),u=d.__clz30(s);let h=0|(30*r-u+o-1)/o;if(e.sign&&h++,268435456<h)throw new Error("string too long");const c=Array(h);let m=h-1,f=0,p=0;for(let b=0;b<r-1;b++){const y=e.__digit(b),w=(f|y<<p)&a;c[m--]=d.__kConversionChars[w];const v=o-p;for(f=y>>>v,p=30-v;p>=o;)c[m--]=d.__kConversionChars[f&a],f>>>=o,p-=o}const g=(f|s<<p)&a;for(c[m--]=d.__kConversionChars[g],f=s>>>o-p;f!==0;)c[m--]=d.__kConversionChars[f&a],f>>>=o;if(e.sign&&(c[m--]="-"),m!=-1)throw new Error("implementation bug");return c.join("")}static __toStringGeneric(e,t,r){const i=e.length;if(i===0)return"";if(i===1){let b=e.__unsignedDigit(0).toString(t);return r===!1&&e.sign&&(b="-"+b),b}const o=30*i-d.__clz30(e.__digit(i-1)),a=d.__kMaxBitsPerChar[t],s=a-1;let u=o*d.__kBitsPerCharTableMultiplier;u+=s-1,u=0|u/s;const h=u+1>>1,c=d.exponentiate(d.__oneDigit(t,!1),d.__oneDigit(h,!1));let m,f;const p=c.__unsignedDigit(0);if(c.length===1&&32767>=p){m=new d(e.length,!1),m.__initializeDigits();let b=0;for(let y=2*e.length-1;0<=y;y--){const w=b<<15|e.__halfDigit(y);m.__setHalfDigit(y,0|w/p),b=0|w%p}f=b.toString(t)}else{const b=d.__absoluteDivLarge(e,c,!0,!0);m=b.quotient;const y=b.remainder.__trim();f=d.__toStringGeneric(y,t,!0)}m.__trim();let g=d.__toStringGeneric(m,t,!0);for(;f.length<h;)f="0"+f;return r===!1&&e.sign&&(g="-"+g),g+f}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){const r=e.sign;if(r!==t.sign)return d.__unequalSign(r);const i=d.__absoluteCompare(e,t);return 0<i?d.__absoluteGreater(r):0>i?d.__absoluteLess(r):0}static __compareToNumber(e,t){if(d.__isOneDigitInt(t)){const r=e.sign,i=0>t;if(r!==i)return d.__unequalSign(r);if(e.length===0){if(i)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return d.__absoluteGreater(r);const o=Math.abs(t),a=e.__unsignedDigit(0);return a>o?d.__absoluteGreater(r):a<o?d.__absoluteLess(r):0}return d.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;const r=e.sign;if(r!==0>t)return d.__unequalSign(r);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;d.__kBitConversionDouble[0]=t;const i=2047&d.__kBitConversionInts[1]>>>20;if(i==2047)throw new Error("implementation bug: handled elsewhere");const o=i-1023;if(0>o)return d.__absoluteGreater(r);const a=e.length;let s=e.__digit(a-1);const u=d.__clz30(s),h=30*a-u,c=o+1;if(h<c)return d.__absoluteLess(r);if(h>c)return d.__absoluteGreater(r);let m=1048576|1048575&d.__kBitConversionInts[1],f=d.__kBitConversionInts[0];const p=20,g=29-u;if(g!==(0|(h-1)%30))throw new Error("implementation bug");let b,y=0;if(20>g){const w=p-g;y=w+32,b=m>>>w,m=m<<32-w|f>>>w,f<<=32-w}else if(g===20)y=32,b=m,m=f,f=0;else{const w=g-p;y=32-w,b=m<<w|f>>>32-w,m=f<<w,f=0}if(s>>>=0,b>>>=0,s>b)return d.__absoluteGreater(r);if(s<b)return d.__absoluteLess(r);for(let w=a-2;0<=w;w--){0<y?(y-=30,b=m>>>2,m=m<<30|f>>>2,f<<=30):b=0;const v=e.__unsignedDigit(w);if(v>b)return d.__absoluteGreater(r);if(v<b)return d.__absoluteLess(r)}if(m!==0||f!==0){if(y===0)throw new Error("implementation bug");return d.__absoluteLess(r)}return 0}static __equalToNumber(e,t){var r=Math.abs;return d.__isOneDigitInt(t)?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):d.__compareToDouble(e,t)===0}static __comparisonResultToBool(e,t){return t===0?0>e:t===1?0>=e:t===2?0<e:t===3?0<=e:void 0}static __compare(e,t,r){if(e=d.__toPrimitive(e),t=d.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(d.__isBigInt(e)&&typeof t=="string")return t=d.__fromString(t),t!==null&&d.__comparisonResultToBool(d.__compareToBigInt(e,t),r);if(typeof e=="string"&&d.__isBigInt(t))return e=d.__fromString(e),e!==null&&d.__comparisonResultToBool(d.__compareToBigInt(e,t),r);if(e=d.__toNumeric(e),t=d.__toNumeric(t),d.__isBigInt(e)){if(d.__isBigInt(t))return d.__comparisonResultToBool(d.__compareToBigInt(e,t),r);if(typeof t!="number")throw new Error("implementation bug");return d.__comparisonResultToBool(d.__compareToNumber(e,t),r)}if(typeof e!="number")throw new Error("implementation bug");if(d.__isBigInt(t))return d.__comparisonResultToBool(d.__compareToNumber(t,e),2^r);if(typeof t!="number")throw new Error("implementation bug");return r===0?e<t:r===1?e<=t:r===2?e>t:r===3?e>=t:void 0}__clzmsd(){return d.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return d.__absoluteAdd(t,e,r);if(e.length===0)return e;if(t.length===0)return e.sign===r?e:d.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&i++;const o=new d(i,r);let a=0,s=0;for(;s<t.length;s++){const u=e.__digit(s)+t.__digit(s)+a;a=u>>>30,o.__setDigit(s,1073741823&u)}for(;s<e.length;s++){const u=e.__digit(s)+a;a=u>>>30,o.__setDigit(s,1073741823&u)}return s<o.length&&o.__setDigit(s,a),o.__trim()}static __absoluteSub(e,t,r){if(e.length===0)return e;if(t.length===0)return e.sign===r?e:d.unaryMinus(e);const i=new d(e.length,r);let o=0,a=0;for(;a<t.length;a++){const s=e.__digit(a)-t.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}for(;a<e.length;a++){const s=e.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}return i.__trim()}static __absoluteAddOne(e,t,r=null){const i=e.length;r===null?r=new d(i,t):r.sign=t;let o=1;for(let a=0;a<i;a++){const s=e.__digit(a)+o;o=s>>>30,r.__setDigit(a,1073741823&s)}return o!=0&&r.__setDigitGrow(i,1),r}static __absoluteSubOne(e,t){const r=e.length;t=t||r;const i=new d(t,!1);let o=1;for(let a=0;a<r;a++){const s=e.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}if(o!=0)throw new Error("implementation bug");for(let a=r;a<t;a++)i.__setDigit(a,0);return i}static __absoluteAnd(e,t,r=null){let i=e.length,o=t.length,a=o;if(i<o){a=i;const h=e,c=i;e=t,i=o,t=h,o=c}let s=a;r===null?r=new d(s,!1):s=r.length;let u=0;for(;u<a;u++)r.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteAndNot(e,t,r=null){const i=e.length,o=t.length;let a=o;i<o&&(a=i);let s=i;r===null?r=new d(s,!1):s=r.length;let u=0;for(;u<a;u++)r.__setDigit(u,e.__digit(u)&~t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteOr(e,t,r=null){let i=e.length,o=t.length,a=o;if(i<o){a=i;const h=e,c=i;e=t,i=o,t=h,o=c}let s=i;r===null?r=new d(s,!1):s=r.length;let u=0;for(;u<a;u++)r.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteXor(e,t,r=null){let i=e.length,o=t.length,a=o;if(i<o){a=i;const h=e,c=i;e=t,i=o,t=h,o=c}let s=i;r===null?r=new d(s,!1):s=r.length;let u=0;for(;u<a;u++)r.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteCompare(e,t){const r=e.length-t.length;if(r!=0)return r;let i=e.length-1;for(;0<=i&&e.__digit(i)===t.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>t.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,t,r,i){if(t===0)return;const o=32767&t,a=t>>>15;let s=0,u=0;for(let h,c=0;c<e.length;c++,i++){h=r.__digit(i);const m=e.__digit(c),f=32767&m,p=m>>>15,g=d.__imul(f,o),b=d.__imul(f,a),y=d.__imul(p,o),w=d.__imul(p,a);h+=u+g+s,s=h>>>30,h&=1073741823,h+=((32767&b)<<15)+((32767&y)<<15),s+=h>>>30,u=w+(b>>>15)+(y>>>15),r.__setDigit(i,1073741823&h)}for(;s!=0||u!==0;i++){let h=r.__digit(i);h+=s+u,u=0,s=h>>>30,r.__setDigit(i,1073741823&h)}}static __internalMultiplyAdd(e,t,r,i,o){let a=r,s=0;for(let u=0;u<i;u++){const h=e.__digit(u),c=d.__imul(32767&h,t),m=d.__imul(h>>>15,t),f=c+((32767&m)<<15)+s+a;a=f>>>30,s=m>>>15,o.__setDigit(u,1073741823&f)}if(o.length>i)for(o.__setDigit(i++,a+s);i<o.length;)o.__setDigit(i++,0);else if(a+s!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);const i=32767&e,o=e>>>15;let a=0,s=t;for(let u=0;u<r;u++){const h=this.__digit(u),c=32767&h,m=h>>>15,f=d.__imul(c,i),p=d.__imul(c,o),g=d.__imul(m,i),b=d.__imul(m,o);let y=s+f+a;a=y>>>30,y&=1073741823,y+=((32767&p)<<15)+((32767&g)<<15),a+=y>>>30,s=b+(p>>>15)+(g>>>15),this.__setDigit(u,1073741823&y)}if(a!=0||s!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){r===null&&(r=new d(e.length,!1));let i=0;for(let o,a=2*e.length-1;0<=a;a-=2){o=(i<<15|e.__halfDigit(a))>>>0;const s=0|o/t;i=0|o%t,o=(i<<15|e.__halfDigit(a-1))>>>0;const u=0|o/t;i=0|o%t,r.__setDigit(a>>>1,s<<15|u)}return r}static __absoluteModSmall(e,t){let r=0;for(let i=2*e.length-1;0<=i;i--)r=0|((r<<15|e.__halfDigit(i))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,i){const o=t.__halfDigitLength(),a=t.length,s=e.__halfDigitLength()-o;let u=null;r&&(u=new d(s+2>>>1,!1),u.__initializeDigits());const h=new d(o+2>>>1,!1);h.__initializeDigits();const c=d.__clz15(t.__halfDigit(o-1));0<c&&(t=d.__specialLeftShift(t,c,0));const m=d.__specialLeftShift(e,c,1),f=t.__halfDigit(o-1);let p=0;for(let g,b=s;0<=b;b--){g=32767;const y=m.__halfDigit(b+o);if(y!==f){const v=(y<<15|m.__halfDigit(b+o-1))>>>0;g=0|v/f;let _=0|v%f;const E=t.__halfDigit(o-2),M=m.__halfDigit(b+o-2);for(;d.__imul(g,E)>>>0>(_<<16|M)>>>0&&(g--,_+=f,!(32767<_)););}d.__internalMultiplyAdd(t,g,0,a,h);let w=m.__inplaceSub(h,b,o+1);w!==0&&(w=m.__inplaceAdd(t,b,o),m.__setHalfDigit(b+o,32767&m.__halfDigit(b+o)+w),g--),r&&(1&b?p=g<<15:u.__setDigit(b>>>1,p|g))}if(i)return m.__inplaceRightShift(c),r?{quotient:u,remainder:m}:m;if(r)return u;throw new Error("unreachable")}static __clz15(e){return d.__clz30(e)-15}__inplaceAdd(e,t,r){let i=0;for(let o=0;o<r;o++){const a=this.__halfDigit(t+o)+e.__halfDigit(o)+i;i=a>>>15,this.__setHalfDigit(t+o,32767&a)}return i}__inplaceSub(e,t,r){let i=0;if(1&t){t>>=1;let o=this.__digit(t),a=32767&o,s=0;for(;s<r-1>>>1;s++){const c=e.__digit(s),m=(o>>>15)-(32767&c)-i;i=1&m>>>15,this.__setDigit(t+s,(32767&m)<<15|32767&a),o=this.__digit(t+s+1),a=(32767&o)-(c>>>15)-i,i=1&a>>>15}const u=e.__digit(s),h=(o>>>15)-(32767&u)-i;if(i=1&h>>>15,this.__setDigit(t+s,(32767&h)<<15|32767&a),t+s+1>=this.length)throw new RangeError("out of bounds");(1&r)==0&&(o=this.__digit(t+s+1),a=(32767&o)-(u>>>15)-i,i=1&a>>>15,this.__setDigit(t+e.length,1073709056&o|32767&a))}else{t>>=1;let o=0;for(;o<e.length-1;o++){const c=this.__digit(t+o),m=e.__digit(o),f=(32767&c)-(32767&m)-i;i=1&f>>>15;const p=(c>>>15)-(m>>>15)-i;i=1&p>>>15,this.__setDigit(t+o,(32767&p)<<15|32767&f)}const a=this.__digit(t+o),s=e.__digit(o),u=(32767&a)-(32767&s)-i;i=1&u>>>15;let h=0;(1&r)==0&&(h=(a>>>15)-(s>>>15)-i,i=1&h>>>15),this.__setDigit(t+o,(32767&h)<<15|32767&u)}return i}__inplaceRightShift(e){if(e===0)return;let t=this.__digit(0)>>>e;const r=this.length-1;for(let i=0;i<r;i++){const o=this.__digit(i+1);this.__setDigit(i,1073741823&o<<30-e|t),t=o>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){const i=e.length,o=new d(i+r,!1);if(t===0){for(let s=0;s<i;s++)o.__setDigit(s,e.__digit(s));return 0<r&&o.__setDigit(i,0),o}let a=0;for(let s=0;s<i;s++){const u=e.__digit(s);o.__setDigit(s,1073741823&u<<t|a),a=u>>>30-t}return 0<r&&o.__setDigit(i,a),o}static __leftShiftByAbsolute(e,t){const r=d.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");const i=0|r/30,o=r%30,a=e.length,s=o!==0&&e.__digit(a-1)>>>30-o!=0,u=a+i+(s?1:0),h=new d(u,e.sign);if(o===0){let c=0;for(;c<i;c++)h.__setDigit(c,0);for(;c<u;c++)h.__setDigit(c,e.__digit(c-i))}else{let c=0;for(let m=0;m<i;m++)h.__setDigit(m,0);for(let m=0;m<a;m++){const f=e.__digit(m);h.__setDigit(m+i,1073741823&f<<o|c),c=f>>>30-o}if(s)h.__setDigit(a+i,c);else if(c!==0)throw new Error("implementation bug")}return h.__trim()}static __rightShiftByAbsolute(e,t){const r=e.length,i=e.sign,o=d.__toShiftAmount(t);if(0>o)return d.__rightShiftByMaximum(i);const a=0|o/30,s=o%30;let u=r-a;if(0>=u)return d.__rightShiftByMaximum(i);let h=!1;if(i){if((e.__digit(a)&(1<<s)-1)!=0)h=!0;else for(let m=0;m<a;m++)if(e.__digit(m)!==0){h=!0;break}}h&&s===0&&~e.__digit(r-1)==0&&u++;let c=new d(u,i);if(s===0){c.__setDigit(u-1,0);for(let m=a;m<r;m++)c.__setDigit(m-a,e.__digit(m))}else{let m=e.__digit(a)>>>s;const f=r-a-1;for(let p=0;p<f;p++){const g=e.__digit(p+a+1);c.__setDigit(p,1073741823&g<<30-s|m),m=g>>>s}c.__setDigit(f,m)}return h&&(c=d.__absoluteAddOne(c,!0,c)),c.__trim()}static __rightShiftByMaximum(e){return e?d.__oneDigit(1,!0):d.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const t=e.__unsignedDigit(0);return t>d.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if(typeof e!="object"||e.constructor===d)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const o=e[Symbol.toPrimitive];if(o){const a=o(t);if(typeof a!="object")return a;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const o=r.call(e);if(typeof o!="object")return o}const i=e.toString;if(i){const o=i.call(e);if(typeof o!="object")return o}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return d.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===d}static __truncateToNBits(e,t){const r=0|(e+29)/30,i=new d(r,t.sign),o=r-1;for(let s=0;s<o;s++)i.__setDigit(s,t.__digit(s));let a=t.__digit(o);if(e%30!=0){const s=32-e%30;a=a<<s>>>s}return i.__setDigit(o,a),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){var i=Math.min;const o=0|(e+29)/30,a=new d(o,r);let s=0;const u=o-1;let h=0;for(const p=i(u,t.length);s<p;s++){const g=0-t.__digit(s)-h;h=1&g>>>30,a.__setDigit(s,1073741823&g)}for(;s<u;s++)a.__setDigit(s,0|1073741823&-h);let c=u<t.length?t.__digit(u):0;const m=e%30;let f;if(m==0)f=0-c-h,f&=1073741823;else{const p=32-m;c=c<<p>>>p;const g=1<<32-p;f=g-c-h,f&=g-1}return a.__setDigit(u,f),a.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){const r=e>>>1,i=this.__digit(r),o=1&e?32767&i|t<<15:1073709056&i|32767&t;this.__setDigit(r,o)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}d.__kMaxLength=33554432,d.__kMaxLengthBits=d.__kMaxLength<<5,d.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],d.__kBitsPerCharTableShift=5,d.__kBitsPerCharTableMultiplier=1<<d.__kBitsPerCharTableShift,d.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],d.__kBitConversionBuffer=new ArrayBuffer(8),d.__kBitConversionDouble=new Float64Array(d.__kBitConversionBuffer),d.__kBitConversionInts=new Int32Array(d.__kBitConversionBuffer),d.__clz30=Math.clz32?function(n){return Math.clz32(n)-2}:function(n){return n===0?30:0|29-(0|Math.log(n>>>0)/Math.LN2)},d.__imul=Math.imul||function(n,e){return 0|n*e};const ro={};function Ct(n,e){Object.defineProperty(n.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(n)){const r=Object.getOwnPropertyDescriptor(n,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n,t,r))}for(const t of Object.getOwnPropertyNames(n.prototype)){const r=Object.getOwnPropertyDescriptor(n.prototype,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(n.prototype,t,r))}io(e,n),io(`${e}.prototype`,n.prototype)}function io(n,e){const t=`%${n}%`;if(ro[t]!==void 0)throw new Error(`intrinsic ${n} already exists`);ro[t]=e}function L(n){return ro[n]}const q="slot-epochNanoSeconds",Bt="slot-timezone-identifier",x="slot-year",k="slot-month",O="slot-day",B="slot-hour",j="slot-minute",U="slot-second",Z="slot-millisecond",z="slot-microsecond",H="slot-nanosecond",T="slot-calendar",Be="slot-cached-instant",ie="slot-time-zone",Ue="slot-years",$e="slot-months",tt="slot-weeks",Ze="slot-days",ze="slot-hours",He="slot-minutes",We="slot-seconds",Ve="slot-milliseconds",Xe="slot-microseconds",Ke="slot-nanoseconds",Te="slot-calendar-identifier",ol=new WeakMap;function At(n){ol.set(n,Object.create(null))}function Do(n){return ol.get(n)}function Ie(n,...e){if(!n||typeof n!="object")return!1;const t=Do(n);return!!t&&e.reduce((r,i)=>r&&i in t,!0)}function l(n,e){const t=Do(n)[e];if(t===void 0)throw new TypeError(`Missing internal slot ${e}`);return t}function V(n,e,t){Do(n)[e]=t}const ka=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Im=new RegExp(`(?:(?:${ka.source})(?:\\/(?:${ka.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),Oa=/[A-Za-z0-9]{3,8}/,$m=new RegExp(`(?:${Oa.source}(?:-${Oa.source})*)`),al=/(?:[+\u2212-]\d{6}|\d{4})/,ti=/(?:0[1-9]|1[0-2])/,oo=/(?:0[1-9]|[12]\d|3[01])/,Rm=new RegExp(`(${al.source})(?:-(${ti.source})-(${oo.source})|(${ti.source})(${oo.source}))`),sl=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,ll=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,ul=new RegExp(`(?:([zZ])|(?:${ll.source})?)(?:\\[(${Im.source})\\])?`),cl=new RegExp(`\\[u-ca=(${$m.source})\\]`),Nm=new RegExp(`^${Rm.source}(?:(?:T|\\s+)${sl.source})?${ul.source}(?:${cl.source})?$`,"i"),Fm=new RegExp(`^T?${sl.source}(?:${ul.source})?(?:${cl.source})?$`,"i"),qm=new RegExp(`^(${al.source})-?(${ti.source})$`),Lm=new RegExp(`^(?:--)?(${ti.source})-?(${oo.source})$`),Li=/(\d+)(?:[.,](\d{1,9}))?/,Gm=new RegExp(`(?:${Li.source}H)?(?:${Li.source}M)?(?:${Li.source}S)?`),Ym=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${Gm.source})?$`,"i"),hl=Array.prototype.includes,Co=Array.prototype.push,dl=globalThis.Intl.DateTimeFormat,Bm=Math.min,jm=Math.max,te=Math.abs,ke=Math.floor,sr=Math.sign,_n=Math.trunc,yr=Number.isNaN,Ne=Number.isFinite,Um=Number,wr=String,Zm=Number.MAX_SAFE_INTEGER,ml=Object.assign,Ge=Object.create,zm=Object.getOwnPropertyDescriptor,Hm=Object.is,Ao=Reflect.apply,Ee=d.BigInt(0),xo=d.BigInt(1),on=d.BigInt(60),oe=d.BigInt(1e3),ht=d.BigInt(1e6),It=d.BigInt(1e9),Wm=d.BigInt(-1),Ht=d.multiply(d.BigInt(86400),It),lr=d.multiply(d.BigInt(-86400),d.BigInt(1e17)),ur=d.multiply(d.BigInt(86400),d.BigInt(1e17)),fl=d.multiply(d.BigInt(-388152),d.BigInt(1e13)),Vm=d.multiply(Ht,d.BigInt(3660)),pl=d.multiply(Ht,d.BigInt(366)),gl=d.multiply(Ht,d.BigInt(14)),Xm=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function bl(n){if(typeof n!="number"||!Ne(n))return!1;const e=te(n);return ke(e)===e}function he(n){return typeof n=="object"&&n!==null||typeof n=="function"}function cr(n){if(typeof n=="bigint")throw new TypeError("Cannot convert BigInt to number");return Um(n)}function ae(n){const e=cr(n);if(yr(e))return 0;const t=_n(e);return e===0?0:t}function Y(n){if(typeof n=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return wr(n)}function ce(n){const e=ae(n);if(!Ne(e))throw new RangeError("infinity is out of range");return e}function hr(n,e){const t=ae(n);if(!Ne(t))throw new RangeError("infinity is out of range");if(t<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return t}function Se(n){const e=cr(n);if(yr(e))return 0;if(!Ne(e))throw new RangeError("infinity is out of range");if(!bl(e))throw new RangeError(`unsupported fractional value ${e}`);return ae(e)}function xe(n,e){return{quotient:d.divide(n,e),remainder:d.remainder(n,e)}}function So(n){return d.lessThan(n,Ee)?d.multiply(n,Wm):n}function ao(n,...e){return Co.apply(n,e),n}const Ia=new Map([["year",ce],["month",hr],["monthCode",Y],["day",hr],["hour",ce],["minute",ce],["second",ce],["millisecond",ce],["microsecond",ce],["nanosecond",ce],["years",Se],["months",Se],["weeks",Se],["days",Se],["hours",Se],["minutes",Se],["seconds",Se],["milliseconds",Se],["microseconds",Se],["nanoseconds",Se],["era",Y],["eraYear",ae],["offset",Y]]),Km=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Nn=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],ni=new Map(Nn.map(n=>[n[0],n[1]])),Qm=new Map(Nn.map(([n,e])=>[e,n])),$a=Nn.map(([,n])=>n),Ra=Array.from(ni.keys()).sort(),Na=new Map;function yl(n){let e=Na.get(n);return e===void 0&&(e=new dl("en-us",{timeZone:wr(n),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Na.set(n,e)),e}function Ce(n){return Ie(n,q)&&!Ie(n,ie,T)}function wt(n){return Ie(n,Bt)}function ve(n){return Ie(n,Te)}function ge(n){return Ie(n,Ue,$e,Ze,ze,He,We,Ve,Xe,Ke)}function ee(n){return Ie(n,"slot-date-brand")}function be(n){return Ie(n,B,j,U,Z,z,H)&&!Ie(n,x,k,O)}function W(n){return Ie(n,x,k,O,B,j,U,Z,z,H)}function ne(n){return Ie(n,"slot-year-month-brand")}function Re(n){return Ie(n,"slot-month-day-brand")}function R(n){return Ie(n,q,ie,T)}function Fn(n){if(Ie(n,T)||Ie(n,ie))throw new TypeError("with() does not support a calendar or timeZone property");if(n.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(n.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function wl(n){let{ianaName:e,offset:t,z:r}=function(o){try{let a=Fo(o);if(a)return{ianaName:a.toString()}}catch{}try{const a=xt(o);if(a.z||a.offset||a.ianaName)return a}catch{}throw new RangeError(`Invalid time zone: ${o}`)}(n);return e||(r?"UTC":t)}function vr(n,e){return e==="never"||e==="auto"&&n==="iso8601"?"":`[u-ca=${n}]`}function xt(n){const e=Nm.exec(n);if(!e)throw new RangeError(`invalid ISO 8601 string: ${n}`);let t=e[1];if(t[0]==="\u2212"&&(t=`-${t.slice(1)}`),t==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);const r=ae(t),i=ae(e[2]||e[4]),o=ae(e[3]||e[5]),a=ae(e[6]),s=e[6]!==void 0,u=ae(e[7]||e[10]);let h=ae(e[8]||e[11]);h===60&&(h=59);const c=(e[9]||e[12])+"000000000",m=ae(c.slice(0,3)),f=ae(c.slice(3,6)),p=ae(c.slice(6,9));let g,b=!1;if(e[13])g=void 0,b=!0;else if(e[14]&&e[15]){const v=e[14]==="-"||e[14]==="\u2212"?"-":"+",_=e[15]||"00",E=e[16]||"00",M=e[17]||"00";let D=e[18]||"0";if(g=`${v}${_}:${E}`,+D){for(;D.endsWith("0");)D=D.slice(0,-1);g+=`:${M}.${D}`}else+M&&(g+=`:${M}`);g==="-00:00"&&(g="+00:00")}let y=e[19];if(y)try{y=Fo(y).toString()}catch{}const w=e[20];return Yo(r,i,o,a,u,h,m,f,p),{year:r,month:i,day:o,hasTime:s,hour:a,minute:u,second:h,millisecond:m,microsecond:f,nanosecond:p,ianaName:y,offset:g,z:b,calendar:w}}function vl(n){const e=qm.exec(n);let t,r,i,o;if(e){let a=e[1];if(a[0]==="\u2212"&&(a=`-${a.slice(1)}`),a==="-000000")throw new RangeError(`invalid ISO 8601 string: ${n}`);t=ae(a),r=ae(e[2]),i=e[3]}else{let a;if({year:t,month:r,calendar:i,day:o,z:a}=xt(n),a)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:t,month:r,calendar:i,referenceISODay:o}}function Tl(n){const e=Lm.exec(n);let t,r,i,o;if(e)t=ae(e[1]),r=ae(e[2]);else{let a;if({month:t,day:r,calendar:i,year:o,z:a}=xt(n),a)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:t,day:r,calendar:i,referenceISOYear:o}}function Jm(n){const e=Ym.exec(n);if(!e)throw new RangeError(`invalid duration: ${n}`);if(e.slice(2).every(y=>y===void 0))throw new RangeError(`invalid duration: ${n}`);const t=e[1]==="-"||e[1]==="\u2212"?-1:1,r=ae(e[2])*t,i=ae(e[3])*t,o=ae(e[4])*t,a=ae(e[5])*t,s=ae(e[6])*t;let u=e[7],h=ae(e[8])*t,c=e[9],m=ae(e[10])*t;const f=e[11]+"000000000";let p=ae(f.slice(0,3))*t,g=ae(f.slice(3,6))*t,b=ae(f.slice(6,9))*t;return u=u?t*ae(u)/10**u.length:0,c=c?t*ae(c)/10**c.length:0,{minutes:h,seconds:m,milliseconds:p,microseconds:g,nanoseconds:b}=function(w,v,_,E,M,D,P){let A=w,S=v,G=_,F=E,$=M,I=D,N=P;if(A!==0){[S,G,F,$,I,N].forEach(J=>{if(J!==0)throw new RangeError("only the smallest unit can be fractional")});const C=60*A;S=_n(C),G=C%1}if(G!==0){[F,$,I,N].forEach(se=>{if(se!==0)throw new RangeError("only the smallest unit can be fractional")});const C=60*G;F=_n(C);const J=C%1;if(J!==0){const se=1e3*J;$=_n(se);const re=se%1;if(re!==0){const le=1e3*re;I=_n(le);const pe=le%1;pe!==0&&(N=_n(1e3*pe))}}}return{minutes:S,seconds:F,milliseconds:$,microseconds:I,nanoseconds:N}}(u,h,c,m,p,g,b),xi(r,i,o,a,s,h,m,p,g,b),{years:r,months:i,weeks:o,days:a,hours:s,minutes:h,seconds:m,milliseconds:p,microseconds:g,nanoseconds:b}}function ef(n){let{year:e,month:t,day:r,hour:i,minute:o,second:a,millisecond:s,microsecond:u,nanosecond:h,offset:c,z:m}=function(b){const y=xt(b);if(!y.z&&!y.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return y}(n);if(!m&&!c)throw new RangeError("Temporal.Instant requires a time zone offset");const f=m?0:pn(c);({year:e,month:t,day:r,hour:i,minute:o,second:a,millisecond:s,microsecond:u,nanosecond:h}=Lo(e,t,r,i,o,a,s,u,h-f));const p=Xt(e,t,r,i,o,a,s,u,h);if(p===null)throw new RangeError("DateTime outside of supported range");return p}function ri(n,e,t,r){let i=n,o=e,a=t;switch(r){case"reject":Mt(i,o,a);break;case"constrain":({year:i,month:o,day:a}=Nl(i,o,a))}return{year:i,month:o,day:a}}function gi(n,e,t,r,i,o,a){let s=n,u=e,h=t,c=r,m=i,f=o;switch(a){case"reject":Ai(s,u,h,c,m,f);break;case"constrain":({hour:s,minute:u,second:h,millisecond:c,microsecond:m,nanosecond:f}=function(g,b,y,w,v,_){const E=ot(g,0,23),M=ot(b,0,59),D=ot(y,0,59),P=ot(w,0,999),A=ot(v,0,999),S=ot(_,0,999);return{hour:E,minute:M,second:D,millisecond:P,microsecond:A,nanosecond:S}}(s,u,h,c,m,f))}return{hour:s,minute:u,second:h,millisecond:c,microsecond:m,nanosecond:f}}function bn(n){if(!he(n))return Jm(Y(n));if(ge(n))return{years:l(n,Ue),months:l(n,$e),weeks:l(n,tt),days:l(n,Ze),hours:l(n,ze),minutes:l(n,He),seconds:l(n,We),milliseconds:l(n,Ve),microseconds:l(n,Xe),nanoseconds:l(n,Ke)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let t=function(g){if(!he(g))throw new TypeError("invalid duration-like");const b={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let y=!1;for(const w of Ra){const v=g[w];v!==void 0&&(y=!0,b[w]=Se(v))}if(!y)throw new TypeError("invalid duration-like");return b}(n);for(const p of Ra){const g=t[p];g!==void 0&&(e[p]=g)}let{years:r,months:i,weeks:o,days:a,hours:s,minutes:u,seconds:h,milliseconds:c,microseconds:m,nanoseconds:f}=e;return xi(r,i,o,a,s,u,h,c,m,f),{years:r,months:i,weeks:o,days:a,hours:s,minutes:u,seconds:h,milliseconds:c,microseconds:m,nanoseconds:f}}function _e(n){return n===void 0?"constrain":Qt(n,"overflow",["constrain","reject"],"constrain")}function dr(n){return n===void 0?"compatible":Qt(n,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function nt(n,e){return Qt(n,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function Tr(n){switch(n){case"ceil":return"floor";case"floor":return"ceil";default:return n}}function so(n,e){return n===void 0?e:Qt(n,"offset",["prefer","use","ignore","reject"],e)}function Er(n){return Qt(n,"calendarName",["auto","always","never"],"auto")}function Ft(n,e,t){let r=1/0;e!==void 0&&(r=e),t||e===void 0||(r=e>1?e-1:1);const i=function(a,s,u,h,c){let m=a[s];if(m===void 0)return c;const f=cr(m);if(yr(f)||f<u||f>h)throw new RangeError(`${String(s)} must be between ${u} and ${h}, not ${f}`);return ke(f)}(n,"roundingIncrement",1,r,1);if(e!==void 0&&e%i!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return i}function ko(n,e){return Ft(n,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function _r(n){const e=Oe(n,"smallestUnit","time",void 0);if(e==="hour"){const i=Nn.reduce((o,[a,s,u])=>(u==="time"&&s!=="hour"&&o.push(s,a),o),[]);throw new RangeError(`smallestUnit must be one of ${i.join(", ")}, not ${e}`)}switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let t=n.fractionalSecondDigits;if(t===void 0&&(t="auto"),typeof t!="number"){const i=Y(t);if(i==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${i}`)}if(yr(t)||t<0||t>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);const r=ke(t);switch(r){case 0:return{precision:r,unit:"second",increment:1};case 1:case 2:case 3:return{precision:r,unit:"millisecond",increment:10**(3-r)};case 4:case 5:case 6:return{precision:r,unit:"microsecond",increment:10**(6-r)};case 7:case 8:case 9:return{precision:r,unit:"nanosecond",increment:10**(9-r)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const dn=Symbol("~required~");function Oe(n,e,t,r,i=[]){const o=[];for(const[,h,c]of Nn)t!=="datetime"&&t!==c||o.push(h);o.push(...i);let a=r;a===dn?a=void 0:a!==void 0&&o.push(a);const s=[...o];for(const h of o){const c=Qm.get(h);c!==void 0&&s.push(c)}let u=Qt(n,e,s,a);if(u===void 0&&r===dn)throw new RangeError(`${e} is required`);return ni.has(u)?ni.get(u):u}function Br(n){const e=n.relativeTo;if(e===void 0)return e;let t,r,i,o,a,s,u,h,c,m,f,p,g="option",b=!1;if(he(e)){if(R(e)||ee(e))return e;if(W(e))return On(e);m=qn(e);const y=X(e,Pe(m,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),w=Ge(null);w.overflow="constrain",{year:t,month:r,day:i,hour:o,minute:a,second:s,millisecond:u,microsecond:h,nanosecond:c}=Mr(m,y,w),p=e.offset,p===void 0&&(g="wall"),f=e.timeZone}else{let y,w;({year:t,month:r,day:i,hour:o,minute:a,second:s,millisecond:u,microsecond:h,nanosecond:c,calendar:m,ianaName:y,offset:p,z:w}=xt(Y(e))),y&&(f=y),w?g="exact":p||(g="wall"),m||(m=Me()),m=Fe(m),b=!0}if(f!==void 0){f=et(f);let y=0;return g==="option"&&(y=pn(Y(p))),qe(oi(t,r,i,o,a,s,u,h,c,g,y,f,"compatible","reject",b),f,m)}return pt(t,r,i,m)}function lo(n,e,t,r,i,o,a,s,u,h){for(const[c,m]of[["years",n],["months",e],["weeks",t],["days",r],["hours",i],["minutes",o],["seconds",a],["milliseconds",s],["microseconds",u],["nanoseconds",h]])if(m!==0)return ni.get(c);return"nanosecond"}function st(n,e){return $a.indexOf(n)>$a.indexOf(e)?e:n}function bi(n,e){let t=n;return t===void 0&&(t=Ge(null)),ml(Ge(null),t,{largestUnit:e})}function X(n,e,t,{emptySourceErrorMessage:r}={emptySourceErrorMessage:"no supported properties found"}){const i=Ge(null);let o=!1;for(const a of e){let s=n[a];if(s!==void 0)o=!0,Ia.has(a)&&(s=Ia.get(a)(s)),i[a]=s;else if(t!=="partial"){if(hl.call(t,a))throw new TypeError(`required property '${a}' missing or undefined`);s=Km.get(a),i[a]=s}}if(t==="partial"&&!o)throw new TypeError(r);if(i.era===void 0!=(i.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return i}function ii(n,e="complete"){const t=["hour","microsecond","millisecond","minute","nanosecond","second"],r=X(n,t,"partial",{emptySourceErrorMessage:"invalid time-like"}),i={};for(const o of t){const a=zm(r,o);a!==void 0?i[o]=a.value:e==="complete"&&(i[o]=0)}return i}function ue(n,e){let t=n;if(he(t)){if(ee(t))return t;if(R(t)&&(_e(e),t=ut(l(t,ie),l(t,Be),l(t,T))),W(t))return _e(e),pt(l(t,x),l(t,k),l(t,O),l(t,T));const u=qn(t);return Vt(u,X(t,Pe(u,["day","month","monthCode","year"]),[]),e)}_e(e);const{year:r,month:i,day:o,calendar:a,z:s}=function(h){return xt(h)}(Y(t));if(s)throw new RangeError("Z designator not supported for PlainDate");return new(L("%Temporal.PlainDate%"))(r,i,o,a)}function Mr(n,e,t){let{hour:r,minute:i,second:o,millisecond:a,microsecond:s,nanosecond:u}=ii(e);const h=_e(t),c=Vt(n,e,t),m=l(c,x),f=l(c,k),p=l(c,O);return{hour:r,minute:i,second:o,millisecond:a,microsecond:s,nanosecond:u}=gi(r,i,o,a,s,u,h),{year:m,month:f,day:p,hour:r,minute:i,second:o,millisecond:a,microsecond:s,nanosecond:u}}function rn(n,e){let t,r,i,o,a,s,u,h,c,m;if(he(n)){if(W(n))return n;if(R(n))return _e(e),ut(l(n,ie),l(n,Be),l(n,T));if(ee(n))return _e(e),it(l(n,x),l(n,k),l(n,O),0,0,0,0,0,0,l(n,T));m=qn(n);const f=X(n,Pe(m,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:t,month:r,day:i,hour:o,minute:a,second:s,millisecond:u,microsecond:h,nanosecond:c}=Mr(m,f,e))}else{let f;if(_e(e),{year:t,month:r,day:i,hour:o,minute:a,second:s,millisecond:u,microsecond:h,nanosecond:c,calendar:m,z:f}=function(g){return xt(g)}(Y(n)),f)throw new RangeError("Z designator not supported for PlainDateTime");Yo(t,r,i,o,a,s,u,h,c),m===void 0&&(m=Me()),m=Fe(m)}return it(t,r,i,o,a,s,u,h,c,m)}function Dn(n){if(ge(n))return n;let{years:e,months:t,weeks:r,days:i,hours:o,minutes:a,seconds:s,milliseconds:u,microseconds:h,nanoseconds:c}=bn(n);return new(L("%Temporal.Duration%"))(e,t,r,i,o,a,s,u,h,c)}function Tt(n){if(Ce(n))return n;if(R(n))return new(L("%Temporal.Instant%"))(l(n,q));const e=ef(Y(n));return new(L("%Temporal.Instant%"))(e)}function Fa(n,e){let t=n;if(he(t)){if(Re(t))return t;let u,h;if(Ie(t,T))u=l(t,T),h=!1;else{let m=t.calendar;h=m===void 0,m===void 0&&(m=Me()),u=Fe(m)}t=t;const c=X(t,Pe(u,["day","month","monthCode","year"]),[]);return h&&c.month!==void 0&&c.monthCode===void 0&&c.year===void 0&&(c.year=1972),kn(u,c,e)}_e(e);let{month:r,day:i,referenceISOYear:o,calendar:a}=Tl(Y(t)),s=a;return s===void 0&&(s=Me()),s=Fe(s),o===void 0?(Mt(1972,r,i),mr(r,i,s)):kn(s,mr(r,i,s,o))}function Ot(n,e="constrain"){let t,r,i,o,a,s,u,h=n;if(he(h)){if(be(h))return h;if(R(h)&&(h=ut(l(h,ie),l(h,Be),l(h,T))),W(h))return new(L("%Temporal.PlainTime%"))(l(h,B),l(h,j),l(h,U),l(h,Z),l(h,z),l(h,H));if(u=qn(h),Y(u)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:t,minute:r,second:i,millisecond:o,microsecond:a,nanosecond:s}=ii(h)),{hour:t,minute:r,second:i,millisecond:o,microsecond:a,nanosecond:s}=gi(t,r,i,o,a,s,e)}else if({hour:t,minute:r,second:i,millisecond:o,microsecond:a,nanosecond:s,calendar:u}=function(m){const f=Fm.exec(m);let p,g,b,y,w,v,_;if(f){p=ae(f[1]),g=ae(f[2]||f[5]),b=ae(f[3]||f[6]),b===60&&(b=59);const E=(f[4]||f[7])+"000000000";y=ae(E.slice(0,3)),w=ae(E.slice(3,6)),v=ae(E.slice(6,9)),_=f[15]}else{let E,M;if({hasTime:M,hour:p,minute:g,second:b,millisecond:y,microsecond:w,nanosecond:v,calendar:_,z:E}=xt(m),!M)throw new RangeError(`time is missing in string: ${m}`);if(E)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(m))return{hour:p,minute:g,second:b,millisecond:y,microsecond:w,nanosecond:v,calendar:_};try{const{month:E,day:M}=Tl(m);Mt(1972,E,M)}catch{try{const{year:E,month:M}=vl(m);Mt(E,M,1)}catch{return{hour:p,minute:g,second:b,millisecond:y,microsecond:w,nanosecond:v,calendar:_}}}throw new RangeError(`invalid ISO 8601 time-only string ${m}; may need a T prefix`)}(Y(h)),Ai(t,r,i,o,a,s),u!==void 0&&u!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");return new(L("%Temporal.PlainTime%"))(t,r,i,o,a,s)}function zn(n,e){if(he(n)){if(ne(n))return n;const s=qn(n);return fn(s,X(n,Pe(s,["month","monthCode","year"]),[]),e)}_e(e);let{year:t,month:r,referenceISODay:i,calendar:o}=vl(Y(n)),a=o;return a===void 0&&(a=Me()),a=Fe(a),i===void 0?(Mt(t,r,1),fr(t,r,a)):fn(a,fr(t,r,a,i))}function oi(n,e,t,r,i,o,a,s,u,h,c,m,f,p,g){const b=new(L("%Temporal.PlainDateTime%"))(n,e,t,r,i,o,a,s,u);if(h==="wall"||p==="ignore")return l(Je(m,b,f),q);if(h==="exact"||p==="use"){const w=Xt(n,e,t,r,i,o,a,s,u);if(w===null)throw new RangeError("ZonedDateTime outside of supported range");return d.subtract(w,d.BigInt(c))}const y=ai(m,b);for(const w of y){const v=bt(m,w),_=d.toNumber(rt(d.BigInt(v),6e10,"halfExpand"));if(v===c||g&&_===c)return l(w,q)}if(p==="reject"){const w=qo(c),v=wt(m)?l(m,Bt):"time zone";throw new RangeError(`Offset ${w} is invalid for ${b.toString()} in ${v}`)}return l(xl(y,m,b,f),q)}function Hn(n,e){let t,r,i,o,a,s,u,h,c,m,f,p,g=!1,b="option";if(he(n)){if(R(n))return n;p=qn(n);const w=X(n,ao(Pe(p,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:t,month:r,day:i,hour:o,minute:a,second:s,millisecond:u,microsecond:h,nanosecond:c}=Mr(p,w,e)),m=et(w.timeZone),f=w.offset,f===void 0?b="wall":f=Y(f)}else{let w,v;if(_e(e),{year:t,month:r,day:i,hour:o,minute:a,second:s,millisecond:u,microsecond:h,nanosecond:c,ianaName:w,offset:f,z:v,calendar:p}=function(E){const M=xt(E);if(!M.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return M}(Y(n)),!w)throw new RangeError("time zone ID required in brackets");v?b="exact":f||(b="wall"),m=new(L("%Temporal.TimeZone%"))(w),p||(p=Me()),p=Fe(p),g=!0}let y=0;return b==="option"&&(y=pn(f)),qe(oi(t,r,i,o,a,s,u,h,c,b,y,m,dr(e),so(e,"reject"),g),m,p)}function El(n,e,t,r,i){Mt(e,t,r),Fl(e,t,r),At(n),V(n,x,e),V(n,k,t),V(n,O,r),V(n,T,i),V(n,"slot-date-brand",!0)}function pt(n,e,t,r=Me()){const i=L("%Temporal.PlainDate%"),o=Ge(i.prototype);return El(o,n,e,t,r),o}function _l(n,e,t,r,i,o,a,s,u,h,c){Yo(e,t,r,i,o,a,s,u,h),ql(e,t,r,i,o,a,s,u,h),At(n),V(n,x,e),V(n,k,t),V(n,O,r),V(n,B,i),V(n,j,o),V(n,U,a),V(n,Z,s),V(n,z,u),V(n,H,h),V(n,T,c)}function it(n,e,t,r,i,o,a,s,u,h=Me()){const c=L("%Temporal.PlainDateTime%"),m=Ge(c.prototype);return _l(m,n,e,t,r,i,o,a,s,u,h),m}function Ml(n,e,t,r,i){Mt(i,e,t),Fl(i,e,t),At(n),V(n,k,e),V(n,O,t),V(n,x,i),V(n,T,r),V(n,"slot-month-day-brand",!0)}function mr(n,e,t=Me(),r=1972){const i=L("%Temporal.PlainMonthDay%"),o=Ge(i.prototype);return Ml(o,n,e,t,r),o}function Pl(n,e,t,r,i){Mt(e,t,i),function(a,s){Le(a,-271821,275760),a===-271821?Le(s,4,12):a===275760&&Le(s,1,9)}(e,t),At(n),V(n,x,e),V(n,k,t),V(n,O,i),V(n,T,r),V(n,"slot-year-month-brand",!0)}function fr(n,e,t=Me(),r=1){const i=L("%Temporal.PlainYearMonth%"),o=Ge(i.prototype);return Pl(o,n,e,t,r),o}function Dl(n,e,t,r){nn(e),At(n),V(n,q,e),V(n,ie,t),V(n,T,r);const i=new(L("%Temporal.Instant%"))(l(n,q));V(n,Be,i)}function qe(n,e,t=Me()){const r=L("%Temporal.ZonedDateTime%"),i=Ge(r.prototype);return Dl(i,n,e,t),i}function Me(){return new(L("%Temporal.Calendar%"))("iso8601")}function Pe(n,e){let t=e;n.fields&&(t=n.fields(t));const r=[];for(const i of t){if(typeof i!="string")throw new TypeError("bad return from calendar.fields()");Co.call(r,i)}return r}function mn(n,e,t){const r=n.mergeFields;if(!r)return{...e,...t};const i=Reflect.apply(r,n,[e,t]);if(!he(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Qe(n,e,t,r,i){let o=i;o===void 0&&(o=n.dateAdd);const a=Ao(o,n,[e,t,r]);if(!ee(a))throw new TypeError("invalid result");return a}function Wt(n,e,t,r,i){let o=i;o===void 0&&(o=n.dateUntil);const a=Ao(o,n,[e,t,r]);if(!ge(a))throw new TypeError("invalid result");return a}function yi(n,e){const t=n.year(e);if(t===void 0)throw new RangeError("calendar year result must be an integer");return ce(t)}function wi(n,e){const t=n.month(e);if(t===void 0)throw new RangeError("calendar month result must be a positive integer");return hr(t)}function Pr(n,e){const t=n.monthCode(e);if(t===void 0)throw new RangeError("calendar monthCode result must be a string");return Y(t)}function vi(n,e){const t=n.day(e);if(t===void 0)throw new RangeError("calendar day result must be a positive integer");return hr(t)}function Ti(n,e){let t=n.era(e);return t!==void 0&&(t=Y(t)),t}function Ei(n,e){let t=n.eraYear(e);return t!==void 0&&(t=ce(t)),t}function Oo(n,e){return n.dayOfWeek(e)}function Io(n,e){return n.dayOfYear(e)}function $o(n,e){return n.weekOfYear(e)}function Ro(n,e){return n.daysInWeek(e)}function Dr(n,e){return n.daysInMonth(e)}function _i(n,e){return n.daysInYear(e)}function Mi(n,e){return n.monthsInYear(e)}function Pi(n,e){return n.inLeapYear(e)}function Fe(n){let e=n;if(he(e)){if(Ie(e,T))return l(e,T);if(!("calendar"in e)||(e=e.calendar,he(e)&&!("calendar"in e)))return e}const t=Y(e),r=L("%Temporal.Calendar%");if(Ul(t))return new r(t);let i;try{({calendar:i}=xt(t))}catch{throw new RangeError(`Invalid calendar: ${t}`)}return i||(i="iso8601"),new r(i)}function qn(n){if(Ie(n,T))return l(n,T);const{calendar:e}=n;return e===void 0?Me():Fe(e)}function Cr(n,e){return n===e?!0:Y(n)===Y(e)}function Cl(n,e){if(n===e)return e;const t=Y(n),r=Y(e);if(t===r||t==="iso8601")return e;if(r==="iso8601")return n;throw new RangeError("irreconcilable calendars")}function Vt(n,e,t){const r=n.dateFromFields(e,t);if(!ee(r))throw new TypeError("invalid result");return r}function fn(n,e,t){const r=n.yearMonthFromFields(e,t);if(!ne(r))throw new TypeError("invalid result");return r}function kn(n,e,t){const r=n.monthDayFromFields(e,t);if(!Re(r))throw new TypeError("invalid result");return r}function et(n){let e=n;if(he(e)){if(R(e))return l(e,ie);if(!("timeZone"in e)||(e=e.timeZone,he(e)&&!("timeZone"in e)))return e}const t=wl(Y(e));return new(L("%Temporal.TimeZone%"))(t)}function Al(n,e){return n===e?!0:Y(n)===Y(e)}function On(n){return pt(l(n,x),l(n,k),l(n,O),l(n,T))}function No(n){return new(L("%Temporal.PlainTime%"))(l(n,B),l(n,j),l(n,U),l(n,Z),l(n,z),l(n,H))}function bt(n,e){let t=n.getOffsetNanosecondsFor;if(typeof t!="function")throw new TypeError("getOffsetNanosecondsFor not callable");const r=Reflect.apply(t,n,[e]);if(typeof r!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!bl(r)||te(r)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function uo(n,e){return qo(bt(n,e))}function ut(n,e,t){const r=l(e,q),i=bt(n,e);let{year:o,month:a,day:s,hour:u,minute:h,second:c,millisecond:m,microsecond:f,nanosecond:p}=kl(r);return{year:o,month:a,day:s,hour:u,minute:h,second:c,millisecond:m,microsecond:f,nanosecond:p}=Lo(o,a,s,u,h,c,m,f,p+i),it(o,a,s,u,h,c,m,f,p,t)}function Je(n,e,t){return xl(ai(n,e),n,e,t)}function xl(n,e,t,r){const i=L("%Temporal.Instant%"),o=n.length;if(o===1)return n[0];if(o)switch(r){case"compatible":case"earlier":return n[0];case"later":return n[o-1];case"reject":throw new RangeError("multiple instants found")}const a=l(t,x),s=l(t,k),u=l(t,O),h=l(t,B),c=l(t,j),m=l(t,U),f=l(t,Z),p=l(t,z),g=l(t,H),b=Xt(a,s,u,h,c,m,f,p,g);if(b===null)throw new RangeError("DateTime outside of supported range");const y=new i(d.subtract(b,Ht)),w=new i(d.add(b,Ht)),v=bt(e,y),_=bt(e,w)-v;switch(r){case"earlier":{const E=l(t,T),M=L("%Temporal.PlainDateTime%"),D=ho(a,s,u,h,c,m,f,p,g,E,0,0,0,0,0,0,0,0,0,-_,void 0);return ai(e,new M(D.year,D.month,D.day,D.hour,D.minute,D.second,D.millisecond,D.microsecond,D.nanosecond,E))[0]}case"compatible":case"later":{const E=l(t,T),M=L("%Temporal.PlainDateTime%"),D=ho(a,s,u,h,c,m,f,p,g,E,0,0,0,0,0,0,0,0,0,_,void 0),P=ai(e,new M(D.year,D.month,D.day,D.hour,D.minute,D.second,D.millisecond,D.microsecond,D.nanosecond,E));return P[P.length-1]}case"reject":throw new RangeError("no such instant found")}}function ai(n,e){const t=n.getPossibleInstantsFor(e),r=[];for(const i of t){if(!Ce(i))throw new TypeError("bad return from getPossibleInstantsFor");Co.call(r,i)}return r}function yn(n){let e;return n<0||n>9999?e=(n<0?"-":"+")+`000000${te(n)}`.slice(-6):e=`0000${n}`.slice(-4),e}function me(n){return`00${n}`.slice(-2)}function Di(n,e,t,r,i){if(i==="minute")return"";const o=`:${me(n)}`;let a,s=1e6*e+1e3*t+r;if(i==="auto"){if(s===0)return o;for(a=`${s}`.padStart(9,"0");a[a.length-1]==="0";)a=a.slice(0,-1)}else{if(i===0)return o;a=`${s}`.padStart(9,"0").slice(0,i)}return`${o}.${a}`}function qa(n,e,t){let r=e;r===void 0&&(r=new(L("%Temporal.TimeZone%"))("UTC"));const i=ut(r,n,Me()),o=yn(l(i,x)),a=me(l(i,k)),s=me(l(i,O)),u=me(l(i,B)),h=me(l(i,j)),c=Di(l(i,U),l(i,Z),l(i,z),l(i,H),t);let m="Z";return e!==void 0&&(m=Sl(bt(r,n))),`${o}-${a}-${s}T${u}:${h}${c}${m}`}function Gi(n,e="auto",t){function r(S){return S<=Zm?S.toString(10):d.BigInt(S).toString(10)}const i=l(n,Ue),o=l(n,$e),a=l(n,tt),s=l(n,Ze),u=l(n,ze),h=l(n,He);let c=l(n,We),m=l(n,Ve),f=l(n,Xe),p=l(n,Ke);const g=_t(i,o,a,s,u,h,c,m,f,p);if(t){const{unit:S,increment:G,roundingMode:F}=t;({seconds:c,milliseconds:m,microseconds:f,nanoseconds:p}=Kt(0,0,0,0,0,0,c,m,f,p,G,S,F))}const b=[];i&&b.push(`${r(te(i))}Y`),o&&b.push(`${r(te(o))}M`),a&&b.push(`${r(te(a))}W`),s&&b.push(`${r(te(s))}D`);const y=[];u&&y.push(`${r(te(u))}H`),h&&y.push(`${r(te(h))}M`);const w=[];let v,_,E,M,D=In(0,0,0,c,m,f,p,0);({quotient:D,remainder:v}=xe(D,oe)),{quotient:D,remainder:_}=xe(D,oe),{quotient:M,remainder:E}=xe(D,oe);const P=1e6*te(d.toNumber(E))+1e3*te(d.toNumber(_))+te(d.toNumber(v));let A;if(e==="auto"){if(P!==0)for(A=`${P}`.padStart(9,"0");A[A.length-1]==="0";)A=A.slice(0,-1)}else e!==0&&(A=`${P}`.padStart(9,"0").slice(0,e));return A&&w.unshift(".",A),d.equal(M,Ee)&&!w.length&&e==="auto"||w.unshift(So(M).toString()),w.length&&y.push(`${w.join("")}S`),y.length&&y.unshift("T"),b.length||y.length?`${g<0?"-":""}P${b.join("")}${y.join("")}`:"PT0S"}function La(n,e="auto"){return`${yn(l(n,x))}-${me(l(n,k))}-${me(l(n,O))}${vr(Y(l(n,T)),e)}`}function Ga(n,e,t="auto",r){let i=l(n,x),o=l(n,k),a=l(n,O),s=l(n,B),u=l(n,j),h=l(n,U),c=l(n,Z),m=l(n,z),f=l(n,H);if(r){const{unit:p,increment:g,roundingMode:b}=r;({year:i,month:o,day:a,hour:s,minute:u,second:h,millisecond:c,microsecond:m,nanosecond:f}=Zo(i,o,a,s,u,h,c,m,f,g,p,b))}return`${yn(i)}-${me(o)}-${me(a)}T${me(s)}:${me(u)}${Di(h,c,m,f,e)}${vr(Y(l(n,T)),t)}`}function Ya(n,e="auto"){let t=`${me(l(n,k))}-${me(l(n,O))}`;const r=Y(l(n,T));(e==="always"||r!=="iso8601")&&(t=`${yn(l(n,x))}-${t}`);const i=vr(r,e);return i&&(t+=i),t}function Ba(n,e="auto"){let t=`${yn(l(n,x))}-${me(l(n,k))}`;const r=Y(l(n,T));(e==="always"||r!=="iso8601")&&(t+=`-${me(l(n,O))}`);const i=vr(r,e);return i&&(t+=i),t}function ja(n,e,t="auto",r="auto",i="auto",o){let a=l(n,Be);if(o){const{unit:c,increment:m,roundingMode:f}=o,p=li(l(n,q),m,c,f);a=new(L("%Temporal.Instant%"))(p)}const s=l(n,ie),u=ut(s,a,Me());let h=`${yn(l(u,x))}-${me(l(u,k))}-${me(l(u,O))}T${me(l(u,B))}:${me(l(u,j))}${Di(l(u,U),l(u,Z),l(u,z),l(u,H),e)}`;return i!=="never"&&(h+=Sl(bt(s,a))),r!=="never"&&(h+=`[${s}]`),h+=vr(Y(l(n,T)),t),h}function Wn(n){return Zl.test(wr(n))}function pn(n){const e=Zl.exec(wr(n));if(!e)throw new RangeError(`invalid time zone offset: ${n}`);return(e[1]==="-"||e[1]==="\u2212"?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function Fo(n){return Wn(n)?qo(pn(n)):yl(wr(n)).resolvedOptions().timeZone}function St(n,e){const{year:t,month:r,day:i,hour:o,minute:a,second:s,millisecond:u,microsecond:h,nanosecond:c}=Ol(n,e),m=Xt(t,r,i,o,a,s,u,h,c);if(m===null)throw new RangeError("Date outside of supported range");return d.toNumber(d.subtract(m,n))}function qo(n){const e=n<0?"-":"+",t=te(n),r=t%1e9,i=ke(t/1e9)%60,o=ke(t/6e10)%60,a=me(ke(t/36e11)),s=me(o),u=me(i);let h="";if(r){let c=`${r}`.padStart(9,"0");for(;c[c.length-1]==="0";)c=c.slice(0,-1);h=`:${u}.${c}`}else i&&(h=`:${u}`);return`${e}${a}:${s}${h}`}function Sl(n){let e=d.toNumber(rt(d.BigInt(n),6e10,"halfExpand"));const t=e<0?"-":"+";e=te(e);const r=e/6e10%60;return`${t}${me(ke(e/36e11))}:${me(r)}`}function Xt(n,e,t,r,i,o,a,s,u){const h=new Date;h.setUTCHours(r,i,o,a),h.setUTCFullYear(n,e-1,t);const c=h.getTime();if(yr(c))return null;let m=d.multiply(d.BigInt(c),ht);return m=d.add(m,d.multiply(d.BigInt(s),oe)),m=d.add(m,d.BigInt(u)),d.lessThan(m,lr)||d.greaterThan(m,ur)?null:m}function kl(n){const{quotient:e,remainder:t}=xe(n,ht);let r=d.toNumber(e),i=d.toNumber(t);i<0&&(i+=1e6,r-=1);const o=ke(i/1e3)%1e3,a=i%1e3,s=new Date(r);return{epochMilliseconds:r,year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds(),microsecond:o,nanosecond:a}}function Ol(n,e){const{epochMilliseconds:t,millisecond:r,microsecond:i,nanosecond:o}=kl(n),{year:a,month:s,day:u,hour:h,minute:c,second:m}=function(p,g){const b=yl(p);return function(w){const v=w.split(/[^\w]+/);if(v.length!==7)throw new RangeError(`expected 7 parts in "${w}`);const _=+v[0],E=+v[1];let M=+v[2];const D=v[3].toUpperCase();if(D==="B"||D==="BC")M=1-M;else if(D!=="A"&&D!=="AD")throw new RangeError(`Unknown era ${D} in "${w}`);let P=+v[4];P===24&&(P=0);const A=+v[5],S=+v[6];if(!(Ne(M)&&Ne(_)&&Ne(E)&&Ne(P)&&Ne(A)&&Ne(S)))throw new RangeError(`Invalid number in "${w}`);return{year:M,month:_,day:E,hour:P,minute:A,second:S}}(b.format(new Date(g)))}(e,t);return Lo(a,s,u,h,c,m,r,i,o)}function Ua(n,e){return d.lessThan(n,e)?e:n}function Il(){return d.add(Ho(),Vm)}function $l(n,e){const t=Il(),r=d.greaterThan(n,t),i=r?d.subtract(n,pl):fl;let o=d.subtract(n,xo);const a=St(o,e);let s=o,u=a;for(;a===u&&d.greaterThan(o,i);)s=d.subtract(o,gl),u=St(s,e),a===u&&(o=s);return a===u?r?$l(d.subtract(t,Ht),e):null:zl(h=>St(h,e),s,o,u,a)}function Ut(n){return n===void 0?!1:n%4==0&&(n%100!=0||n%400==0)}function $t(n,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[Ut(n)?"leapyear":"standard"][e-1]}function Yi(n,e,t){const r=e+(e<3?10:-2),i=n-(e<3?1:0),o=ke(i/100),a=i-100*o,s=(t+ke(2.6*r-.2)+(a+ke(a/4))+(ke(o/4)-2*o))%7;return s+(s<=0?7:0)}function si(n,e,t){let r=t;for(let i=e-1;i>0;i--)r+=$t(n,i);return r}function _t(n,e,t,r,i,o,a,s,u,h){for(const c of[n,e,t,r,i,o,a,s,u,h])if(c!==0)return c<0?-1:1;return 0}function jr(n,e){let t=n,r=e;if(!Ne(t)||!Ne(r))throw new RangeError("infinity is out of range");return r-=1,t+=ke(r/12),r%=12,r<0&&(r+=12),r+=1,{year:t,month:r}}function Ci(n,e,t){let r=n,i=e,o=t;if(!Ne(o))throw new RangeError("infinity is out of range");({year:r,month:i}=jr(r,i));let a=0,s=i>2?r:r-1;for(;a=Ut(s)?366:365,o<-a;)r-=1,s-=1,o+=a;for(s+=1;a=Ut(s)?366:365,o>a;)r+=1,s+=1,o-=a;for(;o<1;)({year:r,month:i}=jr(r,i-1)),o+=$t(r,i);for(;o>$t(r,i);)o-=$t(r,i),{year:r,month:i}=jr(r,i+1);return{year:r,month:i,day:o}}function Lo(n,e,t,r,i,o,a,s,u){const{deltaDays:h,hour:c,minute:m,second:f,millisecond:p,microsecond:g,nanosecond:b}=kt(r,i,o,a,s,u),{year:y,month:w,day:v}=Ci(n,e,t+h);return{year:y,month:w,day:v,hour:c,minute:m,second:f,millisecond:p,microsecond:g,nanosecond:b}}function kt(n,e,t,r,i,o){let a=n,s=e,u=t,h=r,c=i,m=o;if(!(Ne(a)&&Ne(s)&&Ne(u)&&Ne(h)&&Ne(c)&&Ne(m)))throw new RangeError("infinity is out of range");c+=ke(m/1e3),m=En(m,1e3),h+=ke(c/1e3),c=En(c,1e3),u+=ke(h/1e3),h=En(h,1e3),s+=ke(u/60),u=En(u,60),a+=ke(s/60),s=En(s,60);const f=ke(a/24);return a=En(a,24),{deltaDays:f,hour:a,minute:s,second:u,millisecond:h,microsecond:c,nanosecond:m}}function In(n,e,t,r,i,o,a,s){const u=d.BigInt(n);let h=d.BigInt(a);n!==0&&(h=d.subtract(d.BigInt(a),d.BigInt(s)));const c=d.add(d.BigInt(e),d.multiply(u,d.BigInt(24))),m=d.add(d.BigInt(t),d.multiply(c,on)),f=d.add(d.BigInt(r),d.multiply(m,on)),p=d.add(d.BigInt(i),d.multiply(f,oe)),g=d.add(d.BigInt(o),d.multiply(p,oe));return d.add(d.BigInt(h),d.multiply(g,oe))}function Go(n,e){const t=L("%Temporal.Instant%"),r=sr(d.toNumber(n));let i=d.BigInt(n),o=864e11;if(r===0)return{days:0,nanoseconds:Ee,dayLengthNs:o};if(!R(e)){let v;return{quotient:v,remainder:i}=xe(i,d.BigInt(o)),{days:d.toNumber(v),nanoseconds:i,dayLengthNs:o}}const a=l(e,q),s=l(e,Be),u=d.add(a,i),h=new t(u),c=l(e,ie),m=l(e,T),f=ut(c,s,m),p=ut(c,h,m);let{days:g}=Uo(l(f,x),l(f,k),l(f,O),l(f,B),l(f,j),l(f,U),l(f,Z),l(f,z),l(f,H),l(p,x),l(p,k),l(p,O),l(p,B),l(p,j),l(p,U),l(p,Z),l(p,z),l(p,H),m,"day",Ge(null)),b=dt(s,c,m,0,0,0,g,0,0,0,0,0,0);if(r===1)for(;g>0&&d.greaterThan(b,u);)--g,b=dt(s,c,m,0,0,0,g,0,0,0,0,0,0);i=d.subtract(u,b);let y=!1,w=new t(b);do{const v=dt(w,c,m,0,0,0,r,0,0,0,0,0,0),_=l(w,q);o=d.toNumber(d.subtract(v,_)),y=d.greaterThan(d.multiply(d.subtract(i,d.BigInt(o)),d.BigInt(r)),Ee),y&&(i=d.subtract(i,d.BigInt(o)),w=new t(v),g+=r)}while(y);return{days:g,nanoseconds:i,dayLengthNs:te(o)}}function at(n,e,t,r,i,o,a,s,u){let h,c,m,f,p,g,b=n;if(R(u)){const w=dt(l(u,Be),l(u,ie),l(u,T),0,0,0,b,e,t,r,i,o,a),v=l(u,q);h=d.subtract(w,v)}else h=In(b,e,t,r,i,o,a,0);s==="year"||s==="month"||s==="week"||s==="day"?{days:b,nanoseconds:h}=Go(h,u):b=0;const y=d.lessThan(h,Ee)?-1:1;switch(h=So(h),c=m=f=p=g=Ee,s){case"year":case"month":case"week":case"day":case"hour":({quotient:c,remainder:h}=xe(h,oe)),{quotient:m,remainder:c}=xe(c,oe),{quotient:f,remainder:m}=xe(m,oe),{quotient:p,remainder:f}=xe(f,on),{quotient:g,remainder:p}=xe(p,on);break;case"minute":({quotient:c,remainder:h}=xe(h,oe)),{quotient:m,remainder:c}=xe(c,oe),{quotient:f,remainder:m}=xe(m,oe),{quotient:p,remainder:f}=xe(f,on);break;case"second":({quotient:c,remainder:h}=xe(h,oe)),{quotient:m,remainder:c}=xe(c,oe),{quotient:f,remainder:m}=xe(m,oe);break;case"millisecond":({quotient:c,remainder:h}=xe(h,oe)),{quotient:m,remainder:c}=xe(c,oe);break;case"microsecond":({quotient:c,remainder:h}=xe(h,oe));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:b,hours:d.toNumber(g)*y,minutes:d.toNumber(p)*y,seconds:d.toNumber(f)*y,milliseconds:d.toNumber(m)*y,microseconds:d.toNumber(c)*y,nanoseconds:d.toNumber(h)*y}}function Rr(n,e,t,r,i,o){let a=n,s=e,u=t,h=r;const c=L("%Temporal.Duration%"),m=_t(a,s,u,h,0,0,0,0,0,0);let f,p;o&&(p=ue(o),f=l(p,T));const g=new c(m),b=new c(0,m),y=new c(0,0,m);switch(i){case"year":break;case"month":{if(!f)throw new RangeError("a starting point is required for months balancing");const w=f.dateAdd,v=f.dateUntil;let _=p;for(;te(a)>0;){const E=Qe(f,_,g,void 0,w),M=Ge(null);M.largestUnit="month";const D=l(Wt(f,_,E,M,v),$e);_=E,s+=D,a-=m}}break;case"week":if(!f)throw new RangeError("a starting point is required for weeks balancing");for(;te(a)>0;){let w;({relativeTo:p,days:w}=Ye(f,p,g)),h+=w,a-=m}for(;te(s)>0;){let w;({relativeTo:p,days:w}=Ye(f,p,b)),h+=w,s-=m}break;default:for(;te(a)>0;){if(!f)throw new RangeError("a starting point is required for balancing calendar units");let w;({relativeTo:p,days:w}=Ye(f,p,g)),h+=w,a-=m}for(;te(s)>0;){if(!f)throw new RangeError("a starting point is required for balancing calendar units");let w;({relativeTo:p,days:w}=Ye(f,p,b)),h+=w,s-=m}for(;te(u)>0;){if(!f)throw new RangeError("a starting point is required for balancing calendar units");let w;({relativeTo:p,days:w}=Ye(f,p,y)),h+=w,u-=m}}return{years:a,months:s,weeks:u,days:h}}function Za(n,e,t,r,i){if(R(n)){const o=l(n,Be),a=l(n,ie),s=l(n,T),u=bt(a,o),h=dt(o,a,s,e,t,r,i,0,0,0,0,0,0);return bt(a,new(L("%Temporal.Instant%"))(h))-u}return 0}function Rl(n){return new(L("%Temporal.Duration%"))(-l(n,Ue),-l(n,$e),-l(n,tt),-l(n,Ze),-l(n,ze),-l(n,He),-l(n,We),-l(n,Ve),-l(n,Xe),-l(n,Ke))}function ot(n,e,t){return Bm(t,jm(e,n))}function Nl(n,e,t){const r=ot(e,1,12);return{year:n,month:r,day:ot(t,1,$t(n,r))}}function Le(n,e,t){if(n<e||n>t)throw new RangeError(`value out of range: ${e} <= ${n} <= ${t}`)}function Mt(n,e,t){Le(e,1,12),Le(t,1,$t(n,e))}function Fl(n,e,t){ql(n,e,t,12,0,0,0,0,0)}function Ai(n,e,t,r,i,o){Le(n,0,23),Le(e,0,59),Le(t,0,59),Le(r,0,999),Le(i,0,999),Le(o,0,999)}function Yo(n,e,t,r,i,o,a,s,u){Mt(n,e,t),Ai(r,i,o,a,s,u)}function ql(n,e,t,r,i,o,a,s,u){if(Le(n,-271821,275760),n===-271821&&Xt(n,e,t+1,r,i,o,a,s,u-1)==null||n===275760&&Xt(n,e,t-1,r,i,o,a,s,u+1)==null)throw new RangeError("DateTime outside of supported range")}function nn(n){if(d.lessThan(n,lr)||d.greaterThan(n,ur))throw new RangeError("Instant outside of supported range")}function xi(n,e,t,r,i,o,a,s,u,h){const c=_t(n,e,t,r,i,o,a,s,u,h);for(const m of[n,e,t,r,i,o,a,s,u,h]){if(!Ne(m))throw new RangeError("infinite values not allowed as duration fields");const f=sr(m);if(f!==0&&f!==c)throw new RangeError("mixed-sign values not allowed as duration fields")}}function Bo(n,e,t,r,i,o,a){switch(a){case"year":case"month":{const s=-Zt(n,e,t,r,i,o);if(s===0)return{years:0,months:0,weeks:0,days:0};const u={year:n,month:e,day:t},h={year:r,month:i,day:o};let c=h.year-u.year,m=an(n,e,t,c,0,0,0,"constrain"),f=-Zt(m.year,m.month,m.day,r,i,o);if(f===0)return a==="year"?{years:c,months:0,weeks:0,days:0}:{years:0,months:12*c,weeks:0,days:0};let p=h.month-u.month;if(f!==s&&(c-=s,p+=12*s),m=an(n,e,t,c,p,0,0,"constrain"),f=-Zt(m.year,m.month,m.day,r,i,o),f===0)return a==="year"?{years:c,months:p,weeks:0,days:0}:{years:0,months:p+12*c,weeks:0,days:0};f!==s&&(p-=s,p===-s&&(c-=s,p=11*s),m=an(n,e,t,c,p,0,0,"constrain"));let g=0;return g=m.month===h.month?h.day-m.day:s<0?-m.day-($t(h.year,h.month)-h.day):h.day+($t(m.year,m.month)-m.day),a==="month"&&(p+=12*c,c=0),{years:c,months:p,weeks:0,days:g}}case"week":case"day":{let s,u,h;Zt(n,e,t,r,i,o)<0?(u={year:n,month:e,day:t},s={year:r,month:i,day:o},h=1):(u={year:r,month:i,day:o},s={year:n,month:e,day:t},h=-1);let c=si(s.year,s.month,s.day)-si(u.year,u.month,u.day);for(let f=u.year;f<s.year;++f)c+=Ut(f)?366:365;let m=0;return a==="week"&&(m=ke(c/7),c%=7),m*=h,c*=h,{years:0,months:0,weeks:m,days:c}}default:throw new Error("assert not reached")}}function Ll(n,e,t,r,i,o,a,s,u,h,c,m){let f=a-n,p=s-e,g=u-t,b=h-r,y=c-i,w=m-o;const v=_t(0,0,0,0,f,p,g,b,y,w);f*=v,p*=v,g*=v,b*=v,y*=v,w*=v;let _=0;if({deltaDays:_,hour:f,minute:p,second:g,millisecond:b,microsecond:y,nanosecond:w}=kt(f,p,g,b,y,w),_!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return f*=v,p*=v,g*=v,b*=v,y*=v,w*=v,{hours:f,minutes:p,seconds:g,milliseconds:b,microseconds:y,nanoseconds:w}}function jo(n,e,t,r,i){const o=d.subtract(e,n),a=d.remainder(o,d.BigInt(864e11)),s=d.subtract(o,a),u=rt(a,Wo[r]*t,i),h=d.add(s,u),c=d.toNumber(d.remainder(h,oe)),m=d.toNumber(d.remainder(d.divide(h,oe),oe)),f=d.toNumber(d.remainder(d.divide(h,ht),oe));return{seconds:d.toNumber(d.divide(h,It)),milliseconds:f,microseconds:m,nanoseconds:c}}function Uo(n,e,t,r,i,o,a,s,u,h,c,m,f,p,g,b,y,w,v,_,E){let M=n,D=e,P=t,{hours:A,minutes:S,seconds:G,milliseconds:F,microseconds:$,nanoseconds:I}=Ll(r,i,o,a,s,u,f,p,g,b,y,w);const N=_t(0,0,0,0,A,S,G,F,$,I);Zt(h,c,m,M,D,P)===-N&&({year:M,month:D,day:P}=Ci(M,D,P-N),{hours:A,minutes:S,seconds:G,milliseconds:F,microseconds:$,nanoseconds:I}=at(-N,A,S,G,F,$,I,_));const C=pt(M,D,P,v),J=pt(h,c,m,v),se=bi(E,st("day",_));let{years:re,months:le,weeks:pe,days:je}=Wt(v,C,J,se);return{days:je,hours:A,minutes:S,seconds:G,milliseconds:F,microseconds:$,nanoseconds:I}=at(je,A,S,G,F,$,I,_),{years:re,months:le,weeks:pe,days:je,hours:A,minutes:S,seconds:G,milliseconds:F,microseconds:$,nanoseconds:I}}function Gl(n,e,t,r,i,o){const a=d.subtract(e,n);if(d.equal(a,Ee))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const s=L("%Temporal.Instant%"),u=new s(n),h=new s(e),c=ut(t,u,r),m=ut(t,h,r);let{years:f,months:p,weeks:g,days:b}=Uo(l(c,x),l(c,k),l(c,O),l(c,B),l(c,j),l(c,U),l(c,Z),l(c,z),l(c,H),l(m,x),l(m,k),l(m,O),l(m,B),l(m,j),l(m,U),l(m,Z),l(m,z),l(m,H),r,i,o);const y=dt(u,t,r,f,p,g,0,0,0,0,0,0,0);let w=d.subtract(e,y);const v=qe(y,t,r);({nanoseconds:w,days:b}=Go(w,v));const{hours:_,minutes:E,seconds:M,milliseconds:D,microseconds:P,nanoseconds:A}=at(0,0,0,0,0,0,d.toNumber(w),"hour");return{years:f,months:p,weeks:g,days:b,hours:_,minutes:E,seconds:M,milliseconds:D,microseconds:P,nanoseconds:A}}function za(n,e,t,r){const i=Tt(t);let o,a;[o,a]=n==="until"?[e,i]:[i,e];const s=K(r),u=Oe(s,"smallestUnit","time","nanosecond"),h=st("second",u);let c=Oe(s,"largestUnit","time","auto");if(c==="auto"&&(c=h),st(c,u)!==c)throw new RangeError(`largestUnit ${c} cannot be smaller than smallestUnit ${u}`);const m=nt(s,"trunc"),f=Ft(s,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[u],!1),p=l(o,q),g=l(a,q);let b,y,{seconds:w,milliseconds:v,microseconds:_,nanoseconds:E}=jo(p,g,f,u,m);return{hours:b,minutes:y,seconds:w,milliseconds:v,microseconds:_,nanoseconds:E}=at(0,0,0,w,v,_,E,c),new(L("%Temporal.Duration%"))(0,0,0,0,b,y,w,v,_,E)}function Ha(n,e,t,r){const i=n==="since"?-1:1,o=ue(t),a=l(e,T),s=l(o,T),u=Y(a),h=Y(s);if(u!==h)throw new RangeError(`cannot compute difference between dates of ${u} and ${h} calendars`);const c=K(r),m=Oe(c,"smallestUnit","date","day"),f=st("day",m);let p=Oe(c,"largestUnit","date","auto");if(p==="auto"&&(p=f),st(p,m)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${m}`);let g=nt(c,"trunc");n==="since"&&(g=Tr(g));const b=Ft(c,void 0,!1),y=bi(c,p);let{years:w,months:v,weeks:_,days:E}=Wt(a,e,o,y);return m==="day"&&b===1||({years:w,months:v,weeks:_,days:E}=Kt(w,v,_,E,0,0,0,0,0,0,b,m,g,e)),new(L("%Temporal.Duration%"))(i*w,i*v,i*_,i*E,0,0,0,0,0,0)}function Wa(n,e,t,r){const i=n==="since"?-1:1,o=rn(t),a=l(e,T),s=l(o,T),u=Y(a),h=Y(s);if(u!==h)throw new RangeError(`cannot compute difference between dates of ${u} and ${h} calendars`);const c=K(r),m=Oe(c,"smallestUnit","datetime","nanosecond"),f=st("day",m);let p=Oe(c,"largestUnit","datetime","auto");if(p==="auto"&&(p=f),st(p,m)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${m}`);let g=nt(c,"trunc");n==="since"&&(g=Tr(g));const b=ko(c,m);let{years:y,months:w,weeks:v,days:_,hours:E,minutes:M,seconds:D,milliseconds:P,microseconds:A,nanoseconds:S}=Uo(l(e,x),l(e,k),l(e,O),l(e,B),l(e,j),l(e,U),l(e,Z),l(e,z),l(e,H),l(o,x),l(o,k),l(o,O),l(o,B),l(o,j),l(o,U),l(o,Z),l(o,z),l(o,H),a,p,c);const G=On(e);return{years:y,months:w,weeks:v,days:_,hours:E,minutes:M,seconds:D,milliseconds:P,microseconds:A,nanoseconds:S}=Kt(y,w,v,_,E,M,D,P,A,S,b,m,g,G),{days:_,hours:E,minutes:M,seconds:D,milliseconds:P,microseconds:A,nanoseconds:S}=at(_,E,M,D,P,A,S,p),new(L("%Temporal.Duration%"))(i*y,i*w,i*v,i*_,i*E,i*M,i*D,i*P,i*A,i*S)}function Va(n,e,t,r){const i=n==="since"?-1:1,o=Ot(t),a=K(r);let s=Oe(a,"largestUnit","time","auto");s==="auto"&&(s="hour");const u=Oe(a,"smallestUnit","time","nanosecond");if(st(s,u)!==s)throw new RangeError(`largestUnit ${s} cannot be smaller than smallestUnit ${u}`);let h=nt(a,"trunc");n==="since"&&(h=Tr(h));const c=Ft(a,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[u],!1);let{hours:m,minutes:f,seconds:p,milliseconds:g,microseconds:b,nanoseconds:y}=Ll(l(e,B),l(e,j),l(e,U),l(e,Z),l(e,z),l(e,H),l(o,B),l(o,j),l(o,U),l(o,Z),l(o,z),l(o,H));return{hours:m,minutes:f,seconds:p,milliseconds:g,microseconds:b,nanoseconds:y}=Kt(0,0,0,0,m,f,p,g,b,y,c,u,h),{hours:m,minutes:f,seconds:p,milliseconds:g,microseconds:b,nanoseconds:y}=at(0,m,f,p,g,b,y,s),new(L("%Temporal.Duration%"))(0,0,0,0,i*m,i*f,i*p,i*g,i*b,i*y)}function Xa(n,e,t,r){const i=n==="since"?-1:1,o=zn(t),a=l(e,T),s=l(o,T),u=Y(a),h=Y(s);if(u!==h)throw new RangeError(`cannot compute difference between months of ${u} and ${h} calendars`);const c=K(r),m=Nn.reduce((A,[S,G,F])=>(F==="date"&&G!=="week"&&G!=="day"&&A.push(G,S),A),[]),f=Oe(c,"smallestUnit","date","month");if(f==="week"||f==="day")throw new RangeError(`smallestUnit must be one of ${m.join(", ")}, not ${f}`);let p=Oe(c,"largestUnit","date","auto");if(p==="week"||p==="day")throw new RangeError(`largestUnit must be one of ${m.join(", ")}, not ${p}`);if(p==="auto"&&(p="year"),st(p,f)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${f}`);let g=nt(c,"trunc");n==="since"&&(g=Tr(g));const b=Ft(c,void 0,!1),y=Pe(a,["monthCode","year"]),w=X(o,y,[]);w.day=1;const v=X(e,y,[]);v.day=1;const _=Vt(a,w),E=Vt(a,v),M=bi(c,p);let{years:D,months:P}=Wt(a,E,_,M);return f==="month"&&b===1||({years:D,months:P}=Kt(D,P,0,0,0,0,0,0,0,0,b,f,g,E)),new(L("%Temporal.Duration%"))(i*D,i*P,0,0,0,0,0,0,0,0)}function Ka(n,e,t,r){const i=n==="since"?-1:1,o=Hn(t),a=l(e,T),s=l(o,T),u=Y(a),h=Y(s);if(u!==h)throw new RangeError(`cannot compute difference between dates of ${u} and ${h} calendars`);const c=K(r),m=Oe(c,"smallestUnit","datetime","nanosecond"),f=st("hour",m);let p=Oe(c,"largestUnit","datetime","auto");if(p==="auto"&&(p=f),st(p,m)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${m}`);let g=nt(c,"trunc");n==="since"&&(g=Tr(g));const b=ko(c,m),y=l(e,q),w=l(o,q);let v,_,E,M,D,P,A,S,G,F;if(p!=="year"&&p!=="month"&&p!=="week"&&p!=="day")v=0,_=0,E=0,M=0,{seconds:A,milliseconds:S,microseconds:G,nanoseconds:F}=jo(y,w,b,m,g),{hours:D,minutes:P,seconds:A,milliseconds:S,microseconds:G,nanoseconds:F}=at(0,0,0,A,S,G,F,p);else{const $=l(e,ie);if(!Al($,l(o,ie)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const I=bi(c,p);({years:v,months:_,weeks:E,days:M,hours:D,minutes:P,seconds:A,milliseconds:S,microseconds:G,nanoseconds:F}=Gl(y,w,$,a,p,I)),{years:v,months:_,weeks:E,days:M,hours:D,minutes:P,seconds:A,milliseconds:S,microseconds:G,nanoseconds:F}=Kt(v,_,E,M,D,P,A,S,G,F,b,m,g,e),{years:v,months:_,weeks:E,days:M,hours:D,minutes:P,seconds:A,milliseconds:S,microseconds:G,nanoseconds:F}=jl(v,_,E,M,D,P,A,S,G,F,b,m,g,e)}return new(L("%Temporal.Duration%"))(i*v,i*_,i*E,i*M,i*D,i*P,i*A,i*S,i*G,i*F)}function an(n,e,t,r,i,o,a,s){let u=n,h=e,c=t,m=o,f=a;return u+=r,h+=i,{year:u,month:h}=jr(u,h),{year:u,month:h,day:c}=ri(u,h,c,s),f+=7*m,c+=f,{year:u,month:h,day:c}=Ci(u,h,c),{year:u,month:h,day:c}}function Yl(n,e,t,r,i,o,a,s,u,h,c,m){let f=n,p=e,g=t,b=r,y=i,w=o;f+=a,p+=s,g+=u,b+=h,y+=c,w+=m;let v=0;return{deltaDays:v,hour:f,minute:p,second:g,millisecond:b,microsecond:y,nanosecond:w}=kt(f,p,g,b,y,w),{deltaDays:v,hour:f,minute:p,second:g,millisecond:b,microsecond:y,nanosecond:w}}function Bl(n,e,t,r,i,o,a,s,u,h,c,m,f,p,g,b,y,w,v,_,E){const M=st(lo(n,e,t,r,i,o,a,s,u,h),lo(c,m,f,p,g,b,y,w,v,_));let D,P,A,S,G,F,$,I,N,C;if(E)if(ee(E)){const J=L("%Temporal.Duration%"),se=l(E,T),re=new J(n,e,t,r,0,0,0,0,0,0),le=new J(c,m,f,p,0,0,0,0,0,0),pe=se.dateAdd,je=Qe(se,E,re,void 0,pe),qt=Qe(se,je,le,void 0,pe),we=st("day",M),De=Ge(null);De.largestUnit=we,{years:D,months:P,weeks:A,days:S}=Wt(se,E,qt,De),{days:S,hours:G,minutes:F,seconds:$,milliseconds:I,microseconds:N,nanoseconds:C}=at(S,i+g,o+b,a+y,s+w,u+v,h+_,M)}else{const J=L("%Temporal.Instant%"),se=l(E,ie),re=l(E,T),le=dt(l(E,Be),se,re,n,e,t,r,i,o,a,s,u,h),pe=dt(new J(le),se,re,c,m,f,p,g,b,y,w,v,_);M!=="year"&&M!=="month"&&M!=="week"&&M!=="day"?(D=0,P=0,A=0,S=0,{seconds:$,milliseconds:I,microseconds:N,nanoseconds:C}=jo(l(E,q),pe,1,"nanosecond","halfExpand"),{hours:G,minutes:F,seconds:$,milliseconds:I,microseconds:N,nanoseconds:C}=at(0,0,0,$,I,N,C,M)):{years:D,months:P,weeks:A,days:S,hours:G,minutes:F,seconds:$,milliseconds:I,microseconds:N,nanoseconds:C}=Gl(l(E,q),pe,se,re,M,Ge(null))}else{if(M==="year"||M==="month"||M==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");D=P=A=0,{days:S,hours:G,minutes:F,seconds:$,milliseconds:I,microseconds:N,nanoseconds:C}=at(r+p,i+g,o+b,a+y,s+w,u+v,h+_,M)}return xi(D,P,A,S,G,F,$,I,N,C),{years:D,months:P,weeks:A,days:S,hours:G,minutes:F,seconds:$,milliseconds:I,microseconds:N,nanoseconds:C}}function co(n,e,t,r,i,o,a){let s=Ee;s=d.add(s,d.BigInt(a)),s=d.add(s,d.multiply(d.BigInt(o),oe)),s=d.add(s,d.multiply(d.BigInt(i),ht)),s=d.add(s,d.multiply(d.BigInt(r),It)),s=d.add(s,d.multiply(d.BigInt(t),d.BigInt(6e10))),s=d.add(s,d.multiply(d.BigInt(e),d.BigInt(36e11)));const u=d.add(n,s);return nn(u),u}function ho(n,e,t,r,i,o,a,s,u,h,c,m,f,p,g,b,y,w,v,_,E){let M=p,{deltaDays:D,hour:P,minute:A,second:S,millisecond:G,microsecond:F,nanosecond:$}=Yl(r,i,o,a,s,u,g,b,y,w,v,_);M+=D;const I=L("%Temporal.Duration%"),N=Qe(h,pt(n,e,t,h),new I(c,m,f,M,0,0,0,0,0,0),E);return{year:l(N,x),month:l(N,k),day:l(N,O),hour:P,minute:A,second:S,millisecond:G,microsecond:F,nanosecond:$}}function dt(n,e,t,r,i,o,a,s,u,h,c,m,f,p){const g=L("%Temporal.Duration%");if(_t(r,i,o,a,0,0,0,0,0,0)===0)return co(l(n,q),s,u,h,c,m,f);const b=ut(e,n,t),y=Qe(t,pt(l(b,x),l(b,k),l(b,O),t),new g(r,i,o,a,0,0,0,0,0,0),p),w=it(l(y,x),l(y,k),l(y,O),l(b,B),l(b,j),l(b,U),l(b,Z),l(b,z),l(b,H),t);return co(l(Je(e,w,"compatible"),q),s,u,h,c,m,f)}function Qa(n,e,t,r){const i=n==="subtract"?-1:1;let{years:o,months:a,weeks:s,days:u,hours:h,minutes:c,seconds:m,milliseconds:f,microseconds:p,nanoseconds:g}=bn(t);const b=Br(K(r));return{years:o,months:a,weeks:s,days:u,hours:h,minutes:c,seconds:m,milliseconds:f,microseconds:p,nanoseconds:g}=Bl(l(e,Ue),l(e,$e),l(e,tt),l(e,Ze),l(e,ze),l(e,He),l(e,We),l(e,Ve),l(e,Xe),l(e,Ke),i*o,i*a,i*s,i*u,i*h,i*c,i*m,i*f,i*p,i*g,b),new(L("%Temporal.Duration%"))(o,a,s,u,h,c,m,f,p,g)}function Ja(n,e,t){const r=n==="subtract"?-1:1,{hours:i,minutes:o,seconds:a,milliseconds:s,microseconds:u,nanoseconds:h}=function(f,p){let g=bn(f);for(const b of p)if(g[b]!==0)throw new RangeError(`Duration field ${b} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return g}(t,["years","months","weeks","days"]),c=co(l(e,q),r*i,r*o,r*a,r*s,r*u,r*h);return new(L("%Temporal.Instant%"))(c)}function es(n,e,t,r){const i=n==="subtract"?-1:1,{years:o,months:a,weeks:s,days:u,hours:h,minutes:c,seconds:m,milliseconds:f,microseconds:p,nanoseconds:g}=bn(t),b=K(r),y=l(e,T),{year:w,month:v,day:_,hour:E,minute:M,second:D,millisecond:P,microsecond:A,nanosecond:S}=ho(l(e,x),l(e,k),l(e,O),l(e,B),l(e,j),l(e,U),l(e,Z),l(e,z),l(e,H),y,i*o,i*a,i*s,i*u,i*h,i*c,i*m,i*f,i*p,i*g,b);return it(w,v,_,E,M,D,P,A,S,y)}function ts(n,e,t){const r=n==="subtract"?-1:1,{hours:i,minutes:o,seconds:a,milliseconds:s,microseconds:u,nanoseconds:h}=bn(t);let{hour:c,minute:m,second:f,millisecond:p,microsecond:g,nanosecond:b}=Yl(l(e,B),l(e,j),l(e,U),l(e,Z),l(e,z),l(e,H),r*i,r*o,r*a,r*s,r*u,r*h);return{hour:c,minute:m,second:f,millisecond:p,microsecond:g,nanosecond:b}=gi(c,m,f,p,g,b,"reject"),new(L("%Temporal.PlainTime%"))(c,m,f,p,g,b)}function ns(n,e,t,r){let i=bn(t);n==="subtract"&&(i={years:-i.years,months:-i.months,weeks:-i.weeks,days:-i.days,hours:-i.hours,minutes:-i.minutes,seconds:-i.seconds,milliseconds:-i.milliseconds,microseconds:-i.microseconds,nanoseconds:-i.nanoseconds});let{years:o,months:a,weeks:s,days:u,hours:h,minutes:c,seconds:m,milliseconds:f,microseconds:p,nanoseconds:g}=i;({days:u}=at(u,h,c,m,f,p,g,"day"));const b=K(r),y=l(e,T),w=Pe(y,["monthCode","year"]),v=X(e,w,[]),_=_t(o,a,s,u,0,0,0,0,0,0);v.day=_<0?hr(Dr(y,e)):1;const E=Vt(y,v),M=new(L("%Temporal.Duration%"))(o,a,s,u,0,0,0,0,0,0),D=ml(Ge(null),b);return fn(y,X(Qe(y,E,M,b),w,[]),D)}function rs(n,e,t,r){const i=n==="subtract"?-1:1,{years:o,months:a,weeks:s,days:u,hours:h,minutes:c,seconds:m,milliseconds:f,microseconds:p,nanoseconds:g}=bn(t),b=K(r),y=l(e,ie),w=l(e,T);return qe(dt(l(e,Be),y,w,i*o,i*a,i*s,i*u,i*h,i*c,i*m,i*f,i*p,i*g,b),y,w)}function rt(n,e,t){if(e===1)return n;let{quotient:r,remainder:i}=xe(n,d.BigInt(e));if(d.equal(i,Ee))return n;const o=d.lessThan(i,Ee)?-1:1;switch(t){case"ceil":o>0&&(r=d.add(r,d.BigInt(o)));break;case"floor":o<0&&(r=d.add(r,d.BigInt(o)));break;case"trunc":break;case"halfExpand":d.toNumber(So(d.multiply(i,d.BigInt(2))))>=e&&(r=d.add(r,d.BigInt(o)))}return d.multiply(r,d.BigInt(e))}function li(n,e,t,r){let i=d.remainder(n,d.BigInt(864e11));d.lessThan(i,Ee)&&(i=d.add(i,d.BigInt(864e11)));const o=d.subtract(n,i),a=rt(i,Wo[t]*e,r);return d.add(o,a)}function Zo(n,e,t,r,i,o,a,s,u,h,c,m,f=864e11){const{deltaDays:p,hour:g,minute:b,second:y,millisecond:w,microsecond:v,nanosecond:_}=zo(r,i,o,a,s,u,h,c,m,f),{year:E,month:M,day:D}=Ci(n,e,t+p);return{year:E,month:M,day:D,hour:g,minute:b,second:y,millisecond:w,microsecond:v,nanosecond:_}}function zo(n,e,t,r,i,o,a,s,u,h=864e11){let c=Ee;switch(s){case"day":case"hour":c=d.BigInt(n);case"minute":c=d.add(d.multiply(c,on),d.BigInt(e));case"second":c=d.add(d.multiply(c,on),d.BigInt(t));case"millisecond":c=d.add(d.multiply(c,oe),d.BigInt(r));case"microsecond":c=d.add(d.multiply(c,oe),d.BigInt(i));case"nanosecond":c=d.add(d.multiply(c,oe),d.BigInt(o))}const m=s==="day"?h:Wo[s],f=rt(c,m*a,u),p=d.toNumber(d.divide(f,d.BigInt(m)));switch(s){case"day":return{deltaDays:p,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return kt(p,0,0,0,0,0);case"minute":return kt(n,p,0,0,0,0);case"second":return kt(n,e,p,0,0,0);case"millisecond":return kt(n,e,t,p,0,0);case"microsecond":return kt(n,e,t,r,p,0);case"nanosecond":return kt(n,e,t,r,i,p);default:throw new Error(`Invalid unit ${s}`)}}function Ur(n,e){return Bo(l(n,x),l(n,k),l(n,O),l(e,x),l(e,k),l(e,O),"day").days}function Ye(n,e,t){const r=Qe(n,e,t,void 0);return{relativeTo:r,days:Ur(e,r)}}function mo(n,e,t,r,i){const o=l(n,ie),a=l(n,T);return qe(dt(l(n,Be),o,a,e,t,r,i,0,0,0,0,0,0),o,a)}function jl(n,e,t,r,i,o,a,s,u,h,c,m,f,p){let g=n,b=e,y=t,w=r,v=i,_=o,E=a,M=s,D=u,P=h;if(!R(p)||m==="year"||m==="month"||m==="week"||m==="day"||m==="nanosecond"&&c===1)return{years:g,months:b,weeks:y,days:w,hours:v,minutes:_,seconds:E,milliseconds:M,microseconds:D,nanoseconds:P};let A=In(0,v,_,E,M,D,P,0);const S=sr(d.toNumber(A)),G=l(p,ie),F=l(p,T),$=dt(l(p,Be),G,F,g,b,y,w,0,0,0,0,0,0),I=dt(new(L("%Temporal.Instant%"))($),G,F,0,0,0,S,0,0,0,0,0,0),N=d.subtract(I,$);return d.greaterThanOrEqual(d.multiply(d.subtract(A,N),d.BigInt(S)),Ee)&&({years:g,months:b,weeks:y,days:w}=Bl(g,b,y,w,0,0,0,0,0,0,0,0,0,S,0,0,0,0,0,0,p),A=li(d.subtract(A,N),c,m,f),{hours:v,minutes:_,seconds:E,milliseconds:M,microseconds:D,nanoseconds:P}=at(0,0,0,0,0,0,d.toNumber(A),"hour")),{years:g,months:b,weeks:y,days:w,hours:v,minutes:_,seconds:E,milliseconds:M,microseconds:D,nanoseconds:P}}function Kt(n,e,t,r,i,o,a,s,u,h,c,m,f,p){let g=n,b=e,y=t,w=r,v=i,_=o,E=a,M=s,D=u,P=d.BigInt(h);const A=L("%Temporal.Duration%");let S,G,F,$,I=p;if(I){if(R(I))G=I,I=ue(I);else if(!ee(I))throw new TypeError("starting point must be PlainDate or ZonedDateTime");S=l(I,T)}if(m==="year"||m==="month"||m==="week"||m==="day"){let N,C,J;P=In(0,v,_,E,M,D,h,0),G&&(N=mo(G,g,b,y,w)),{days:C,nanoseconds:P,dayLengthNs:J}=Go(P,N),F=d.BigInt(J),w+=C,v=_=E=M=D=0}switch(m){case"year":{if(!S)throw new RangeError("A starting point is required for years rounding");const N=new A(g),C=S.dateAdd,J=Qe(S,I,N,void 0,C),se=Qe(S,I,new A(g,b,y),void 0,C);I=J,w+=Ur(J,se);const re=Qe(S,I,{days:w},void 0,C),le=Ge(null);le.largestUnit="year";const pe=Wt(S,I,re,le).years;g+=pe;const je=I;I=Qe(S,I,{years:pe},void 0,C),w-=Ur(je,I);const qt=new A(w<0?-1:1);let{days:we}=Ye(S,I,qt);we=te(we);const De=d.multiply(d.BigInt(we),F);P=d.add(d.add(d.multiply(De,d.BigInt(g)),d.multiply(d.BigInt(w),F)),P);const wn=rt(P,d.toNumber(d.multiply(De,d.BigInt(c))),f);$=d.toNumber(P)/d.toNumber(De),g=d.toNumber(d.divide(wn,De)),P=Ee,b=y=w=0;break}case"month":{if(!S)throw new RangeError("A starting point is required for months rounding");const N=new A(g,b),C=S.dateAdd,J=Qe(S,I,N,void 0,C),se=Qe(S,I,new A(g,b,y),void 0,C);I=J,w+=Ur(J,se);const re=sr(w),le=new A(0,w<0?-1:1);let pe;for({relativeTo:I,days:pe}=Ye(S,I,le);te(w)>=te(pe);)b+=re,w-=pe,{relativeTo:I,days:pe}=Ye(S,I,le);pe=te(pe);const je=d.multiply(d.BigInt(pe),F);P=d.add(d.add(d.multiply(je,d.BigInt(b)),d.multiply(d.BigInt(w),F)),P);const qt=rt(P,d.toNumber(d.multiply(je,d.BigInt(c))),f);$=d.toNumber(P)/d.toNumber(je),b=d.toNumber(d.divide(qt,je)),P=Ee,y=w=0;break}case"week":{if(!S)throw new RangeError("A starting point is required for weeks rounding");const N=sr(w),C=new A(0,0,w<0?-1:1);let J;for({relativeTo:I,days:J}=Ye(S,I,C);te(w)>=te(J);)y+=N,w-=J,{relativeTo:I,days:J}=Ye(S,I,C);J=te(J);const se=d.multiply(d.BigInt(J),F);P=d.add(d.add(d.multiply(se,d.BigInt(y)),d.multiply(d.BigInt(w),F)),P);const re=rt(P,d.toNumber(d.multiply(se,d.BigInt(c))),f);$=d.toNumber(P)/d.toNumber(se),y=d.toNumber(d.divide(re,se)),P=Ee,w=0;break}case"day":{const N=F;P=d.add(d.multiply(N,d.BigInt(w)),P);const C=rt(P,d.toNumber(d.multiply(N,d.BigInt(c))),f);$=d.toNumber(P)/d.toNumber(N),w=d.toNumber(d.divide(C,N)),P=Ee;break}case"hour":{let C=d.multiply(d.BigInt(v),d.BigInt(36e11));C=d.add(C,d.multiply(d.BigInt(_),d.BigInt(6e10))),C=d.add(C,d.multiply(d.BigInt(E),It)),C=d.add(C,d.multiply(d.BigInt(M),ht)),C=d.add(C,d.multiply(d.BigInt(D),oe)),C=d.add(C,P),$=d.toNumber(C)/36e11;const J=rt(C,36e11*c,f);v=d.toNumber(d.divide(J,d.BigInt(36e11))),P=Ee,_=E=M=D=0;break}case"minute":{let C=d.multiply(d.BigInt(_),d.BigInt(6e10));C=d.add(C,d.multiply(d.BigInt(E),It)),C=d.add(C,d.multiply(d.BigInt(M),ht)),C=d.add(C,d.multiply(d.BigInt(D),oe)),C=d.add(C,P),$=d.toNumber(C)/6e10;const J=rt(C,6e10*c,f);_=d.toNumber(d.divide(J,d.BigInt(6e10))),P=Ee,E=M=D=0;break}case"second":{let C=d.multiply(d.BigInt(E),It);C=d.add(C,d.multiply(d.BigInt(M),ht)),C=d.add(C,d.multiply(d.BigInt(D),oe)),C=d.add(C,P),$=d.toNumber(C)/1e9;const J=rt(C,1e9*c,f);E=d.toNumber(d.divide(J,d.BigInt(1e9))),P=Ee,M=D=0;break}case"millisecond":{let C=d.multiply(d.BigInt(M),ht);C=d.add(C,d.multiply(d.BigInt(D),oe)),C=d.add(C,P),$=d.toNumber(C)/1e6;const J=rt(C,1e6*c,f);M=d.toNumber(d.divide(J,d.BigInt(1e6))),P=Ee,D=0;break}case"microsecond":{let C=d.multiply(d.BigInt(D),oe);C=d.add(C,P),$=d.toNumber(C)/1e3;const J=rt(C,1e3*c,f);D=d.toNumber(d.divide(J,d.BigInt(1e3))),P=Ee;break}case"nanosecond":$=d.toNumber(P),P=rt(P,c,f)}return{years:g,months:b,weeks:y,days:w,hours:v,minutes:_,seconds:E,milliseconds:M,microseconds:D,nanoseconds:d.toNumber(P),total:$}}function Zt(n,e,t,r,i,o){for(const[a,s]of[[n,r],[e,i],[t,o]])if(a!==s)return sn(a-s);return 0}function En(n,e){let t=n%e;return Hm(t,-0)?0:(t<0&&(t+=e),t)}function ui(n){const e=Qn(n);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Qn(n){if(n instanceof d)return n;let e=n;if(typeof n=="object"){const t=n[Symbol.toPrimitive];t&&typeof t=="function"&&(e=Ao(t,n,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof n} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return d.BigInt(e.toString())}catch(t){throw t instanceof Error&&t.message.startsWith("Invalid integer")?new SyntaxError(t.message):t}case"boolean":return e?xo:Ee}}const Ho=(()=>{let n=d.BigInt(Date.now()%1e6);return()=>{const e=d.BigInt(Date.now()),t=d.add(d.multiply(e,ht),n);return n=d.remainder(e,ht),d.greaterThan(t,ur)?ur:d.lessThan(t,lr)?lr:t}})();function sn(n){return n<0?-1:n>0?1:n}function K(n){if(n===void 0)return Ge(null);if(he(n)&&n!==null)return n;throw new TypeError("Options parameter must be an object, not "+(n===null?"null":typeof n))}function $n(n,e){const t=Ge(null);return t[n]=e,t}function Qt(n,e,t,r){let i=n[e];if(i!==void 0){if(i=Y(i),!t.includes(i))throw new RangeError(`${e} must be one of ${t.join(", ")}, not ${i}`);return i}return r}function Ul(n){return hl.call(Xm,n)}const Zl=new RegExp(`^${ll.source}$`);function zl(n,e,t,r=n(e),i=n(t)){let o=d.BigInt(e),a=d.BigInt(t),s=r,u=i;for(;d.greaterThan(d.subtract(a,o),xo);){const h=d.divide(d.add(o,a),d.BigInt(2)),c=n(h);if(c===s)o=h,s=c;else{if(c!==u)throw new Error(`invalid state in bisection ${s} - ${c} - ${u}`);a=h,u=c}}return a}const Wo={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},Hl=Symbol("date"),Wl=Symbol("ym"),Vl=Symbol("md"),Xl=Symbol("time"),Kl=Symbol("datetime"),Ql=Symbol("zoneddatetime"),Jl=Symbol("instant"),Cn=Symbol("original"),fo=Symbol("timezone"),Zr=Symbol("timezone-id-given"),lt=Symbol("calendar-id"),eu=Symbol("locale"),po=Symbol("options"),Jn=n=>({value:n,enumerable:!0,writable:!1,configurable:!0}),ln=globalThis.Intl.DateTimeFormat,Pt=Object.assign,tf=Object.prototype.hasOwnProperty,nf=Reflect.apply;function tn(n,e){let t=n[e];return typeof t=="function"&&(t=new ln(n[eu],t(n[po])),n[e]=t),t}function Bn(n){let e=n[fo];return typeof e=="string"&&(e=et(e),n[fo]=e),e}function gn(n,e={}){if(!(this instanceof gn))return new gn(n,e);const t=e!==void 0,r=t?Pt({},e):{},i=new ln(n,r),o=i.resolvedOptions();if(t){const a=Pt({},o);for(const s in a)nf(tf,r,[s])||delete a[s];this[po]=a}else this[po]=r;this[Zr]=r.timeZone?r.timeZone:null,this[eu]=o.locale,this[Cn]=i,this[fo]=o.timeZone,this[lt]=o.calendar,this[Hl]=sf,this[Wl]=of,this[Vl]=af,this[Xl]=rf,this[Kl]=lf,this[Ql]=uf,this[Jl]=cf}Object.defineProperty(gn,"name",{writable:!0,value:"DateTimeFormat"}),gn.supportedLocalesOf=function(n,e){return ln.supportedLocalesOf(n,e)};const Bi={resolvedOptions:Jn(function(){return this[Cn].resolvedOptions()}),format:Jn(function(e,...t){let{instant:r,formatter:i,timeZone:o}=An(e,this);return r&&i?(i=ci(i,o),i.format(r.epochMilliseconds)):this[Cn].format(e,...t)}),formatRange:Jn(function(e,t){if(Rn(e)||Rn(t)){if(!tu(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:r,formatter:i,timeZone:o}=An(e,this),{instant:a,formatter:s,timeZone:u}=An(t,this);if(o&&u&&o!==u)throw new RangeError("cannot format range between different time zones");if(r&&a&&i&&s&&i===s)return ci(i,o).formatRange(r.epochMilliseconds,a.epochMilliseconds)}return this[Cn].formatRange(e,t)})};"formatToParts"in ln.prototype&&(Bi.formatToParts=Jn(function(e,...t){let{instant:r,formatter:i,timeZone:o}=An(e,this);return r&&i?(i=ci(i,o),i.formatToParts(r.epochMilliseconds)):this[Cn].formatToParts(e,...t)})),"formatRangeToParts"in ln.prototype&&(Bi.formatRangeToParts=Jn(function(e,t){if(Rn(e)||Rn(t)){if(!tu(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:r,formatter:i,timeZone:o}=An(e,this),{instant:a,formatter:s,timeZone:u}=An(t,this);if(o&&u&&o!==u)throw new RangeError("cannot format range between different time zones");if(r&&a&&i&&s&&i===s)return ci(i,o).formatRangeToParts(r.epochMilliseconds,a.epochMilliseconds)}return this[Cn].formatRangeToParts(e,t)})),gn.prototype=Object.create(ln.prototype,Bi),Object.defineProperty(gn,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Jt=gn;function ci(n,e){if(!e)return n;const t=n.resolvedOptions();return t.timeZone===e?n:((t.dateStyle||t.timeStyle)&&(delete t.weekday,delete t.era,delete t.year,delete t.month,delete t.day,delete t.hour,delete t.minute,delete t.second,delete t.timeZoneName,delete t.hourCycle,delete t.hour12,delete t.dayPeriod),new ln(t.locale,{...t,timeZone:e}))}function Ar(n={},e={}){const t=Pt({},n);for(const r of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])t[r]=r in e?e[r]:t[r],t[r]!==!1&&t[r]!==void 0||delete t[r];return t}function rf(n){let e=Ar(n,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return ki(e)||(e=Pt({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function of(n){let e=Ar(n,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=Pt(e,{year:"numeric",month:"numeric"})),e}function af(n){let e=Ar(n,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=Pt({},e,{month:"numeric",day:"numeric"})),e}function sf(n){let e=Ar(n,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return Si(e)||(e=Pt({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function lf(n){let e=Ar(n,{timeZoneName:!1});return ki(e)||Si(e)||(e=Pt({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function uf(n){let e=n;return ki(e)||Si(e)||(e=Pt({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function cf(n){let e=n;return ki(e)||Si(e)||(e=Pt({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Si(n){return"year"in n||"month"in n||"day"in n||"weekday"in n||"dateStyle"in n}function ki(n){return"hour"in n||"minute"in n||"second"in n||"timeStyle"in n||"dayPeriod"in n}function Rn(n){return ee(n)||be(n)||W(n)||R(n)||ne(n)||Re(n)||Ce(n)}function tu(n,e){return!(!Rn(n)||!Rn(e))&&!(be(n)&&!be(e))&&!(ee(n)&&!ee(e))&&!(W(n)&&!W(e))&&!(R(n)&&!R(e))&&!(ne(n)&&!ne(e))&&!(Re(n)&&!Re(e))&&!(Ce(n)&&!Ce(e))}function An(n,e){const t=L("%Temporal.PlainDateTime%");if(be(n)){const r=new t(1970,1,1,l(n,B),l(n,j),l(n,U),l(n,Z),l(n,z),l(n,H),e[lt]);return{instant:Je(Bn(e),r,"compatible"),formatter:tn(e,Xl)}}if(ne(n)){const r=l(n,x),i=l(n,k),o=l(n,O),a=Y(l(n,T));if(a!==e[lt])throw new RangeError(`cannot format PlainYearMonth with calendar ${a} in locale with calendar ${e[lt]}`);const s=new t(r,i,o,12,0,0,0,0,0,a);return{instant:Je(Bn(e),s,"compatible"),formatter:tn(e,Wl)}}if(Re(n)){const r=l(n,x),i=l(n,k),o=l(n,O),a=Y(l(n,T));if(a!==e[lt])throw new RangeError(`cannot format PlainMonthDay with calendar ${a} in locale with calendar ${e[lt]}`);const s=new t(r,i,o,12,0,0,0,0,0,a);return{instant:Je(Bn(e),s,"compatible"),formatter:tn(e,Vl)}}if(ee(n)){const r=l(n,x),i=l(n,k),o=l(n,O),a=Y(l(n,T));if(a!=="iso8601"&&a!==e[lt])throw new RangeError(`cannot format PlainDate with calendar ${a} in locale with calendar ${e[lt]}`);const s=new t(r,i,o,12,0,0,0,0,0,e[lt]);return{instant:Je(Bn(e),s,"compatible"),formatter:tn(e,Hl)}}if(W(n)){const r=l(n,x),i=l(n,k),o=l(n,O),a=l(n,B),s=l(n,j),u=l(n,U),h=l(n,Z),c=l(n,z),m=l(n,H),f=Y(l(n,T));if(f!=="iso8601"&&f!==e[lt])throw new RangeError(`cannot format PlainDateTime with calendar ${f} in locale with calendar ${e[lt]}`);let p=n;return f==="iso8601"&&(p=new t(r,i,o,a,s,u,h,c,m,e[lt])),{instant:Je(Bn(e),p,"compatible"),formatter:tn(e,Kl)}}if(R(n)){const r=Y(l(n,T));if(r!=="iso8601"&&r!==e[lt])throw new RangeError(`cannot format ZonedDateTime with calendar ${r} in locale with calendar ${e[lt]}`);const i=Y(l(n,ie));if(e[Zr]&&e[Zr]!==i)throw new RangeError(`timeZone option ${e[Zr]} doesn't match actual time zone ${i}`);return{instant:l(n,Be),formatter:tn(e,Ql),timeZone:i}}return Ce(n)?{instant:n,formatter:tn(e,Jl)}:{}}Object.freeze({__proto__:null,DateTimeFormat:Jt});class gt{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=Qn(e);nn(t),At(this),V(this,q,t)}get epochSeconds(){if(!Ce(this))throw new TypeError("invalid receiver");const e=l(this,q);return d.toNumber(d.divide(e,It))}get epochMilliseconds(){if(!Ce(this))throw new TypeError("invalid receiver");const e=d.BigInt(l(this,q));return d.toNumber(d.divide(e,ht))}get epochMicroseconds(){if(!Ce(this))throw new TypeError("invalid receiver");const e=d.BigInt(l(this,q));return ui(d.divide(e,oe))}get epochNanoseconds(){if(!Ce(this))throw new TypeError("invalid receiver");return ui(d.BigInt(l(this,q)))}add(e){if(!Ce(this))throw new TypeError("invalid receiver");return Ja("add",this,e)}subtract(e){if(!Ce(this))throw new TypeError("invalid receiver");return Ja("subtract",this,e)}until(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return za("until",this,e,t)}since(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return za("since",this,e,t)}round(e){if(!Ce(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?$n("smallestUnit",e):K(e),r=Oe(t,"smallestUnit","time",dn),i=nt(t,"halfExpand"),o=Ft(t,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[r],!0),a=li(l(this,q),o,r,i);return new gt(a)}equals(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=Tt(e),r=l(this,q),i=l(t,q);return d.equal(d.BigInt(r),d.BigInt(i))}toString(e){if(!Ce(this))throw new TypeError("invalid receiver");const t=K(e);let r=t.timeZone;r!==void 0&&(r=et(r));const{precision:i,unit:o,increment:a}=_r(t),s=nt(t,"trunc"),u=li(l(this,q),a,o,s);return qa(new gt(u),r,i)}toJSON(){if(!Ce(this))throw new TypeError("invalid receiver");return qa(this,void 0,"auto")}toLocaleString(e,t){if(!Ce(this))throw new TypeError("invalid receiver");return new Jt(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Ce(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(t===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const r=Fe(t),i=e.timeZone;if(i===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const o=et(i);return qe(l(this,q),o,r)}toZonedDateTimeISO(e){let t=e;if(!Ce(this))throw new TypeError("invalid receiver");if(he(t)){const o=t.timeZone;o!==void 0&&(t=o)}const r=et(t),i=Me();return qe(l(this,q),r,i)}static fromEpochSeconds(e){const t=cr(e),r=d.multiply(d.BigInt(t),It);return nn(r),new gt(r)}static fromEpochMilliseconds(e){const t=cr(e),r=d.multiply(d.BigInt(t),ht);return nn(r),new gt(r)}static fromEpochMicroseconds(e){const t=Qn(e),r=d.multiply(t,oe);return nn(r),new gt(r)}static fromEpochNanoseconds(e){const t=Qn(e);return nn(t),new gt(t)}static from(e){return Ce(e)?new gt(l(e,q)):Tt(e)}static compare(e,t){const r=Tt(e),i=Tt(t),o=l(r,q),a=l(i,q);return d.lessThan(o,a)?-1:d.greaterThan(o,a)?1:0}}Ct(gt,"Temporal.Instant");const hi=Array.prototype.includes,hf=Array.prototype.push,df=globalThis.Intl.DateTimeFormat,mf=Array.prototype.sort,ff=Math.abs,pf=Math.floor,go=Object.entries,is=Object.keys,ye={};class di{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Y(e);if(!Ul(t))throw new RangeError(`invalid calendar identifier ${t}`);At(this),V(this,Te,t)}get id(){if(!ve(this))throw new TypeError("invalid receiver");return Y(this)}dateFromFields(e,t){if(!ve(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid fields");const r=K(t);return ye[l(this,Te)].dateFromFields(e,r,this)}yearMonthFromFields(e,t){if(!ve(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid fields");const r=K(t);return ye[l(this,Te)].yearMonthFromFields(e,r,this)}monthDayFromFields(e,t){if(!ve(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid fields");const r=K(t);return ye[l(this,Te)].monthDayFromFields(e,r,this)}fields(e){if(!ve(this))throw new TypeError("invalid receiver");const t=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const i of e){if(typeof i!="string")throw new TypeError("invalid fields");if(!r.has(i))throw new RangeError(`invalid field name ${i}`);r.delete(i),hf.call(t,i)}return ye[l(this,Te)].fields(t)}mergeFields(e,t){if(!ve(this))throw new TypeError("invalid receiver");return ye[l(this,Te)].mergeFields(e,t)}dateAdd(e,t,r){if(!ve(this))throw new TypeError("invalid receiver");const i=ue(e),o=Dn(t),a=_e(K(r)),{days:s}=at(l(o,Ze),l(o,ze),l(o,He),l(o,We),l(o,Ve),l(o,Xe),l(o,Ke),"day");return ye[l(this,Te)].dateAdd(i,l(o,Ue),l(o,$e),l(o,tt),s,a,this)}dateUntil(e,t,r){if(!ve(this))throw new TypeError("invalid receiver");const i=ue(e),o=ue(t);let a=Oe(K(r),"largestUnit","date","auto");a==="auto"&&(a="day");const{years:s,months:u,weeks:h,days:c}=ye[l(this,Te)].dateUntil(i,o,a);return new(L("%Temporal.Duration%"))(s,u,h,c,0,0,0,0,0,0)}year(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||(t=ue(t)),ye[l(this,Te)].year(t)}month(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");if(Re(t))throw new TypeError("use monthCode on PlainMonthDay instead");return ne(t)||(t=ue(t)),ye[l(this,Te)].month(t)}monthCode(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||Re(t)||(t=ue(t)),ye[l(this,Te)].monthCode(t)}day(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return Re(t)||(t=ue(t)),ye[l(this,Te)].day(t)}era(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||(t=ue(t)),ye[l(this,Te)].era(t)}eraYear(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||(t=ue(t)),ye[l(this,Te)].eraYear(t)}dayOfWeek(e){if(!ve(this))throw new TypeError("invalid receiver");const t=ue(e);return ye[l(this,Te)].dayOfWeek(t)}dayOfYear(e){if(!ve(this))throw new TypeError("invalid receiver");const t=ue(e);return ye[l(this,Te)].dayOfYear(t)}weekOfYear(e){if(!ve(this))throw new TypeError("invalid receiver");const t=ue(e);return ye[l(this,Te)].weekOfYear(t)}daysInWeek(e){if(!ve(this))throw new TypeError("invalid receiver");const t=ue(e);return ye[l(this,Te)].daysInWeek(t)}daysInMonth(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||(t=ue(t)),ye[l(this,Te)].daysInMonth(t)}daysInYear(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||(t=ue(t)),ye[l(this,Te)].daysInYear(t)}monthsInYear(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||(t=ue(t)),ye[l(this,Te)].monthsInYear(t)}inLeapYear(e){let t=e;if(!ve(this))throw new TypeError("invalid receiver");return ne(t)||(t=ue(t)),ye[l(this,Te)].inLeapYear(t)}toString(){if(!ve(this))throw new TypeError("invalid receiver");return l(this,Te)}toJSON(){if(!ve(this))throw new TypeError("invalid receiver");return Y(this)}static from(e){return Fe(e)}}function Vo(n){if(!n.startsWith("M"))throw new RangeError(`Invalid month code: ${n}.  Month codes must start with M.`);const e=+n.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${n}`);return e}function Rt(n,e=!1){return`M${n.toString().padStart(2,"0")}${e?"L":""}`}function zr(n,e,t=12){let{month:r,monthCode:i}=n;if(i===void 0){if(r===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Le(r,1,t),e==="constrain"&&(r=ot(r,1,t)),i=Rt(r)}else{const o=Vo(i);if(r!==void 0&&r!==o)throw new RangeError(`monthCode ${i} and month ${r} must match if both are present`);if(i!==Rt(o))throw new RangeError(`Invalid month code: ${i}`);if(r=o,r<1||r>t)throw new RangeError(`Invalid monthCode: ${i}`)}return{...n,month:r,monthCode:i}}Ct(di,"Temporal.Calendar"),io("Temporal.Calendar.from",di.from),ye.iso8601={dateFromFields(n,e,t){const r=_e(e);let i=X(n,["day","month","monthCode","year"],["year","day"]);i=zr(i);let{year:o,month:a,day:s}=i;return{year:o,month:a,day:s}=ri(o,a,s,r),pt(o,a,s,t)},yearMonthFromFields(n,e,t){const r=_e(e);let i=X(n,["month","monthCode","year"],["year"]);i=zr(i);let{year:o,month:a}=i;return{year:o,month:a}=function(u,h,c){let m=u,f=h;switch(c){case"reject":Mt(m,f,1);break;case"constrain":({year:m,month:f}=Nl(m,f))}return{year:m,month:f}}(o,a,r),fr(o,a,t,1)},monthDayFromFields(n,e,t){const r=_e(e);let i=X(n,["day","month","monthCode","year"],["day"]);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const o=i.monthCode===void 0;i=zr(i);let{month:a,day:s,year:u}=i;return{month:a,day:s}=ri(o?u:1972,a,s,r),mr(a,s,t,1972)},fields:n=>n,mergeFields(n,e){const t={};for(const i of is(n))i!=="month"&&i!=="monthCode"&&(t[i]=n[i]);const r=is(e);for(const i of r)t[i]=e[i];if(!hi.call(r,"month")&&!hi.call(r,"monthCode")){const{month:i,monthCode:o}=n;i!==void 0&&(t.month=i),o!==void 0&&(t.monthCode=o)}return t},dateAdd(n,e,t,r,i,o,a){let s=l(n,x),u=l(n,k),h=l(n,O);return{year:s,month:u,day:h}=an(s,u,h,e,t,r,i,o),pt(s,u,h,a)},dateUntil:(n,e,t)=>Bo(l(n,x),l(n,k),l(n,O),l(e,x),l(e,k),l(e,O),t),year:n=>l(n,x),era(){},eraYear(){},month:n=>l(n,k),monthCode:n=>Rt(l(n,k)),day:n=>l(n,O),dayOfWeek:n=>Yi(l(n,x),l(n,k),l(n,O)),dayOfYear:n=>si(l(n,x),l(n,k),l(n,O)),weekOfYear:n=>function(t,r,i){const o=si(t,r,i),a=Yi(t,r,i)||7,s=Yi(t,1,1),u=ke((o-a+10)/7);return u<1?s===5||s===6&&Ut(t-1)?53:52:u===53&&(Ut(t)?366:365)-o<4-a?1:u}(l(n,x),l(n,k),l(n,O)),daysInWeek:()=>7,daysInMonth:n=>$t(l(n,x),l(n,k)),daysInYear(n){let e=n;return Ie(e,x)||(e=ue(e)),Ut(l(e,x))?366:365},monthsInYear:()=>12,inLeapYear(n){let e=n;return Ie(e,x)||(e=ue(e)),Ut(l(e,x))}};class fe{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let t=0;for(const r of e.map.entries()){if(++t>fe.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(fe.objectMap.get(e))throw new RangeError("object already cached");fe.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=fe.objectMap.get(e);return t||(t=new fe,fe.objectMap.set(e,t)),t}}function nu({isoYear:n,isoMonth:e,isoDay:t}){return`${yn(n)}-${me(e)}-${me(t)}T00:00Z`}function ji(n,e){return{years:n.year-e.year,months:n.month-e.month,days:n.day-e.day}}fe.objectMap=new WeakMap,fe.MAX_CACHE_ENTRIES=1e3;class Ln{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return this.formatter===void 0&&(this.formatter=new df(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:r,month:i,day:o}=e,a=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:i,isoDay:o,id:this.id}),s=t.get(a);if(s)return s;const u=this.getFormatter();let h,c;try{c=nu({isoYear:r,isoMonth:i,isoDay:o}),h=u.formatToParts(new Date(c))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:i,isoDay:o})}`)}const m={};for(let{type:p,value:g}of h){if(p==="year"&&(m.eraYear=+g),p==="relatedYear"&&(m.eraYear=+g),p==="month"){const b=/^([0-9]*)(.*?)$/.exec(g);if(!b||b.length!=3||!b[1]&&!b[2])throw new RangeError(`Unexpected month: ${g}`);if(m.month=b[1]?+b[1]:1,m.month<1)throw new RangeError(`Invalid month ${g} from ${c}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(m.month>13)throw new RangeError(`Invalid month ${g} from ${c}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);b[2]&&(m.monthExtra=b[2])}p==="day"&&(m.day=+g),this.hasEra&&p==="era"&&g!=null&&g!==""&&(g=g.split(" (")[0],m.era=g.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(m.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:p,eraYear:g}=this.reviseIntlEra(m,e);m.era=p,m.eraYear=g}this.checkIcuBugs&&this.checkIcuBugs(e);const f=this.adjustCalendarDate(m,t,"constrain",!0);if(f.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(f.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(f.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(a,f),["constrain","reject"].forEach(p=>{const g=JSON.stringify({func:"calendarToIsoDate",year:f.year,month:f.month,day:f.day,overflow:p,id:this.id});t.set(g,e)}),f}validateCalendarDate(e){const{era:t,month:r,year:i,day:o,eraYear:a,monthCode:s,monthExtra:u}=e;if(u!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(i===void 0&&a===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&s===void 0)throw new TypeError("month or monthCode is required");if(o===void 0)throw new RangeError("Missing day");if(s!==void 0){if(typeof s!="string")throw new RangeError("monthCode must be a string, not "+typeof s);if(!/^M([01]?\d)(L?)$/.test(s))throw new RangeError(`Invalid monthCode: ${s}`)}if(this.constantEra){if(t!==void 0&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(a!==void 0&&i!==void 0&&a!==i)throw new RangeError(`eraYear ${a} does not match year ${i}`)}}adjustCalendarDate(e,t,r="constrain",i=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let o=e;if(this.validateCalendarDate(o),this.constantEra){const{year:h,eraYear:c}=o;o={...o,era:this.constantEra,year:h!==void 0?h:c,eraYear:c!==void 0?c:h}}const a=this.monthsInYear(o,t);let{month:s,monthCode:u}=o;return{month:s,monthCode:u}=zr(o,r,a),{...o,month:s,monthCode:u}}regulateMonthDayNaive(e,t,r){const i=this.monthsInYear(e,r);let{month:o,day:a}=e;return t==="reject"?(Le(o,1,i),Le(a,1,this.maximumMonthLength(e))):(o=ot(o,1,i),a=ot(a,1,this.maximumMonthLength({...e,month:o}))),{...e,month:o,day:a}}calendarToIsoDate(e,t="constrain",r){const i=e;let o=this.adjustCalendarDate(e,r,t,!1);o=this.regulateMonthDayNaive(o,t,r);const{year:a,month:s,day:u}=o,h=JSON.stringify({func:"calendarToIsoDate",year:a,month:s,day:u,overflow:t,id:this.id});let c,m=r.get(h);if(m||i.year!==void 0&&i.month!==void 0&&i.day!==void 0&&(i.year!==o.year||i.month!==o.month||i.day!==o.day)&&(c=JSON.stringify({func:"calendarToIsoDate",year:i.year,month:i.month,day:i.day,overflow:t,id:this.id}),m=r.get(c),m))return m;let f=this.estimateIsoDate({year:a,month:s,day:u});const p=_=>{let E=this.addDaysIso(f,_);if(o.day>this.minimumMonthLength(o)){let M=this.isoToCalendarDate(E,r);for(;M.month!==s||M.year!==a;){if(t==="reject")throw new RangeError(`day ${u} does not exist in month ${s} of year ${a}`);E=this.addDaysIso(E,-1),M=this.isoToCalendarDate(E,r)}}return E};let g=0,b=this.isoToCalendarDate(f,r),y=ji(o,b);if(y.years!==0||y.months!==0||y.days!==0){const _=365*y.years+30*y.months+y.days;f=this.addDaysIso(f,_),b=this.isoToCalendarDate(f,r),y=ji(o,b),y.years===0&&y.months===0?f=p(y.days):g=this.compareCalendarDates(o,b)}let w=8,v=!1;for(;g;){f=this.addDaysIso(f,g*w);const _=b;b=this.isoToCalendarDate(f,r);const E=g;if(g=this.compareCalendarDates(o,b),g){if(y=ji(o,b),y.years===0&&y.months===0)f=p(y.days),g=0,v=o.day>this.minimumMonthLength(o);else if(E&&g!==E)if(w>1)w/=2;else{if(t==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...i})}`);this.compareCalendarDates(b,_)>0&&(f=this.addDaysIso(f,-1)),v=!0,g=0}}}if(r.set(h,f),c&&r.set(c,f),o.year===void 0||o.month===void 0||o.day===void 0||o.monthCode===void 0||this.hasEra&&(o.era===void 0||o.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!v){const _=JSON.stringify({func:"isoToCalendarDate",isoYear:f.year,isoMonth:f.month,isoDay:f.day,id:this.id});r.set(_,o)}return f}temporalToCalendarDate(e,t){const r={year:l(e,x),month:l(e,k),day:l(e,O)};return this.isoToCalendarDate(r,t)}compareCalendarDates(e,t){const r=X(e,["day","month","year"],["day","month","year"]),i=X(t,["day","month","year"],["day","month","year"]);return r.year!==i.year?sn(r.year-i.year):r.month!==i.month?sn(r.month-i.month):r.day!==i.day?sn(r.day-i.day):0}regulateDate(e,t="constrain",r){const i=this.calendarToIsoDate(e,t,r);return this.isoToCalendarDate(i,r)}addDaysIso(e,t){return an(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,r){const i=this.calendarToIsoDate(e,"constrain",r),o=this.addDaysIso(i,t);return this.isoToCalendarDate(o,r)}addMonthsCalendar(e,t,r,i){let o=e;const{day:a}=o;for(let s=0,u=ff(t);s<u;s++){const{month:h}=o,c=o,m=t<0?-Math.max(a,this.daysInPreviousMonth(o,i)):this.daysInMonth(o,i),f=this.calendarToIsoDate(o,"constrain",i);let p=this.addDaysIso(f,m);if(o=this.isoToCalendarDate(p,i),t>0){const g=this.monthsInYear(c,i);for(;o.month-1!=h%g;)p=this.addDaysIso(p,-1),o=this.isoToCalendarDate(p,i)}o.day!==a&&(o=this.regulateDate({...o,day:a},"constrain",i))}if(r==="reject"&&o.day!==a)throw new RangeError(`Day ${a} does not exist in resulting calendar month`);return o}addCalendar(e,{years:t=0,months:r=0,weeks:i=0,days:o=0},a,s){const{year:u,day:h,monthCode:c}=e,m=this.adjustCalendarDate({year:u+t,monthCode:c,day:h},s),f=this.addMonthsCalendar(m,r,a,s),p=o+7*i;return this.addDaysCalendar(f,p,s)}untilCalendar(e,t,r,i){let o=0,a=0,s=0,u=0;switch(r){case"day":o=this.calendarDaysUntil(e,t,i);break;case"week":{const h=this.calendarDaysUntil(e,t,i);o=h%7,a=(h-o)/7;break}case"month":case"year":{const h=t.year-e.year,c=t.month-e.month,m=t.day-e.day,f=this.compareCalendarDates(t,e);if(!f)return{years:0,months:0,weeks:0,days:0};r==="year"&&h&&(u=c*f<0||c===0&&m*f<0?h-f:h);let p,g=u?this.addCalendar(e,{years:u},"constrain",i):e;do s+=f,p=g,g=this.addMonthsCalendar(p,f,"constrain",i),g.day!==e.day&&(g=this.regulateDate({...g,day:e.day},"constrain",i));while(this.compareCalendarDates(t,g)*f>=0);s-=f,o=this.calendarDaysUntil(p,t,i);break}}return{years:u,months:s,weeks:a,days:o}}daysInMonth(e,t){const{day:r}=e,i=this.maximumMonthLength(e),o=this.minimumMonthLength(e);if(o===i)return o;const a=r<=i-o?i:o,s=this.calendarToIsoDate(e,"constrain",t),u=this.addDaysIso(s,a),h=this.isoToCalendarDate(u,t),c=this.addDaysIso(u,-h.day);return this.isoToCalendarDate(c,t).day}daysInPreviousMonth(e,t){const{day:r,month:i,year:o}=e;let a={year:i>1?o:o-1,month:i,day:1};const s=i>1?i-1:this.monthsInYear(a,t);a={...a,month:s};const u=this.minimumMonthLength(a),h=this.maximumMonthLength(a);if(u===h)return h;const c=this.calendarToIsoDate(e,"constrain",t),m=this.addDaysIso(c,-r);return this.isoToCalendarDate(m,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,r){const i=this.calendarToIsoDate(e,"constrain",r),o=this.calendarToIsoDate(t,"constrain",r);return this.isoDaysUntil(i,o)}isoDaysUntil(e,t){return Bo(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,r){let i,o,a,s,u,{year:h,month:c,monthCode:m,day:f,era:p,eraYear:g}=e;if(m===void 0){if(h===void 0&&(p===void 0||g===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:m,year:h}=this.adjustCalendarDate({year:h,month:c,monthCode:m,day:f,era:p,eraYear:g},r,t))}const{year:b}=this.isoToCalendarDate({year:1972,month:1,day:1},r);for(let y=0;y<100;y++){const w=this.adjustCalendarDate({day:f,monthCode:m,year:b-y},r),v=this.calendarToIsoDate(w,"constrain",r),_=this.isoToCalendarDate(v,r);if({year:i,month:o,day:a}=v,_.monthCode===m&&_.day===f)return{month:o,day:a,year:i};t==="constrain"&&(s===void 0||_.monthCode===s.monthCode&&_.day>s.day)&&(s=_,u=v)}if(t==="constrain"&&u!==void 0)return u;throw new RangeError(`No recent ${this.id} year with monthCode ${m} and day ${f}`)}}class gf extends Ln{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:r,year:i}=e,o=this.getMonthCode(i,r),a=go(this.months).find(u=>u[1].monthCode===o);if(a===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);const s=a[1].days;return typeof s=="number"?s:s[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?t===6?Rt(5,!0):Rt(t<6?t:t-1):Rt(t)}adjustCalendarDate(e,t,r="constrain",i=!1){let{year:o,eraYear:a,month:s,monthCode:u,day:h,monthExtra:c}=e;if(o===void 0&&a!==void 0&&(o=a),a===void 0&&o!==void 0&&(a=o),i){if(c){const m=this.months[c];if(!m)throw new RangeError(`Unrecognized month from formatToParts: ${c}`);s=this.inLeapYear({year:o})?m.leap:m.regular}return u=this.getMonthCode(o,s),{year:o,month:s,day:h,era:void 0,eraYear:a,monthCode:u}}if(this.validateCalendarDate(e),s===void 0)if(u.endsWith("L")){if(u!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${u}`);if(s=6,!this.inLeapYear({year:o})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${o} which is not a leap year`);s=5,h=30,u="M05"}}else{s=Vo(u),this.inLeapYear({year:o})&&s>=6&&s++;const m=this.monthsInYear({year:o});if(s<1||s>m)throw new RangeError(`Invalid monthCode: ${u}`)}else if(r==="reject"?(Le(s,1,this.monthsInYear({year:o})),Le(h,1,this.maximumMonthLength({year:o,month:s}))):(s=ot(s,1,this.monthsInYear({year:o})),h=ot(h,1,this.maximumMonthLength({year:o,month:s}))),u===void 0)u=this.getMonthCode(o,s);else if(this.getMonthCode(o,s)!==u)throw new RangeError(`monthCode ${u} doesn't correspond to month ${s} in Hebrew year ${o}`);return{...e,day:h,month:s,monthCode:u,year:o,eraYear:a}}}class Gn extends Ln{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return this.daysInMonth({year:e.year,month:12,day:1},t)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:pf(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class ru extends Gn{constructor(){super(...arguments),this.id="islamic"}}class bf extends Gn{constructor(){super(...arguments),this.id="islamic-umalqura"}}class yf extends Gn{constructor(){super(...arguments),this.id="islamic-tbla"}}class wf extends Gn{constructor(){super(...arguments),this.id="islamic-civil"}}class vf extends Gn{constructor(){super(...arguments),this.id="islamic-rgsa"}}class Tf extends Gn{constructor(){super(...arguments),this.id="islamicc"}}class Ef extends Ln{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return ru.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===12?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return t===12?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class _f extends Ln{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return iu(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let r=this.months[t];if(r===void 0)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const t=this.adjustCalendarDate(e),r=this.getMonthInfo(t);return an(t.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function iu(n){return n%4==0&&(n%100!=0||n%400==0)}class xr extends Ln{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:i}=function(a){let s,u=a;if(u.length===0)throw new RangeError("Invalid era data: eras are required");if(u.length===1&&u[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(u.length===1&&!u[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(u.filter(c=>c.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");u.forEach(c=>{if(c.isAnchor||!c.anchorEpoch&&!c.reverseOf){if(s)throw new RangeError("Invalid era data: cannot have multiple anchor eras");s=c,c.anchorEpoch={year:c.hasYearZero?0:1}}else if(!c.name)throw new RangeError("If era name is blank, it must be the anchor era")}),u=u.filter(c=>c.name),u.forEach(c=>{const{reverseOf:m}=c;if(m){const f=u.find(p=>p.name===m);if(f===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${m}`);c.reverseOf=f,c.anchorEpoch=f.anchorEpoch,c.isoEpoch=f.isoEpoch}c.anchorEpoch.month===void 0&&(c.anchorEpoch.month=1),c.anchorEpoch.day===void 0&&(c.anchorEpoch.day=1)}),mf.call(u,(c,m)=>{if(c.reverseOf)return 1;if(m.reverseOf)return-1;if(!c.isoEpoch||!m.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return m.isoEpoch.year-c.isoEpoch.year});const h=u[u.length-1].reverseOf;if(h&&h!==u[u.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return u.forEach((c,m)=>{c.genericName="era"+(u.length-1-m)}),{eras:u,anchorEra:s||u[0]}}(t);this.anchorEra=i,this.eras=r}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return iu(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return t===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(s,u)=>{const h=e[s];if(h!=null&&h!=u)throw new RangeError(`Input ${s} ${h} doesn't match calculated value ${u}`)},r=s=>{let u;const h={...e,year:s},c=this.eras.find((m,f)=>{if(f===this.eras.length-1){if(m.reverseOf){if(s>0)throw new RangeError(`Signed year ${s} is invalid for era ${m.name}`);return u=m.anchorEpoch.year-s,!0}return u=s-m.anchorEpoch.year+(m.hasYearZero?0:1),!0}return this.compareCalendarDates(h,m.anchorEpoch)>=0&&(u=s-m.anchorEpoch.year+(m.hasYearZero?0:1),!0)});if(!c)throw new RangeError(`Year ${s} was not matched by any era`);return{eraYear:u,era:c.name}};let{year:i,eraYear:o,era:a}=e;if(i!=null)({eraYear:o,era:a}=r(i)),t("era",a),t("eraYear",o);else{if(o==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const s=a===void 0?void 0:this.eras.find(u=>u.name===a||u.genericName===a);if(!s)throw new RangeError(`Era ${a} (ISO year ${o}) was not matched by any era`);if(o<1&&s.reverseOf)throw new RangeError(`Years in ${a} era must be positive, not ${i}`);i=s.reverseOf?s.anchorEpoch.year-o:o+s.anchorEpoch.year-(s.hasYearZero?0:1),t("year",i),{eraYear:o,era:a}=r(i)}}return{...e,year:i,eraYear:o,era:a}}adjustCalendarDate(e,t,r="constrain"){let i=e;const{month:o,monthCode:a}=i;return o===void 0&&(i={...i,month:Vo(a)}),this.validateCalendarDate(i),i=this.completeEraYear(i),super.adjustCalendarDate(i,t,r)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:r,month:i,day:o}=t,{anchorEra:a}=this;return ri(r+a.isoEpoch.year-(a.hasYearZero?0:1),i,o,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Zt(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class Xo extends xr{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return t===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class Mf extends Xo{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class Pf extends Xo{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class Df extends Xo{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Cf extends xr{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class Af extends xr{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class xf extends xr{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:r}=e;return t!=="bc"&&t!=="b"||(t="bce"),t!=="ad"&&t!=="a"||(t="ce"),{era:t,eraYear:r}}}class Sf extends xr{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,t){const{era:r,eraYear:i}=e,{year:o}=t;return this.eras.find(a=>a.name===r)?{era:r,eraYear:i}:o<1?{era:"bce",eraYear:1-o}:{era:"ce",eraYear:o}}}class ou extends Ln{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const r=this.getMonthList(e.year,t);return go(r).length===13}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(e===void 0)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),i=t.get(r);if(i)return i;const o=this.getFormatter(),a=(y,w)=>{const v=nu({isoYear:y,isoMonth:2,isoDay:1}),_=new Date(v);_.setUTCDate(w+1);const E=o.formatToParts(_),M=E.find(A=>A.type==="month").value,D=+E.find(A=>A.type==="day").value;let P=E.find(A=>A.type==="relatedYear");if(P===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return P=+P.value,{calendarMonthString:M,calendarDay:D,calendarYearToVerify:P}};let s=17,{calendarMonthString:u,calendarDay:h,calendarYearToVerify:c}=a(e,s);u!=="1"&&(s+=29,{calendarMonthString:u,calendarDay:h}=a(e,s)),s-=h-5;const m={};let f,p,g=1,b=!1;do({calendarMonthString:u,calendarDay:h,calendarYearToVerify:c}=a(e,s)),f&&(m[p].daysInMonth=f+30-h),c!==e?b=!0:(m[u]={monthIndex:g++},s+=30),f=h,p=u;while(!b);return m[p].daysInMonth=f+30-h,t.set(r,m),m}estimateIsoDate(e){const{year:t,month:r}=e;return{year:t,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,t,r="constrain",i=!1){let{year:o,month:a,monthExtra:s,day:u,monthCode:h,eraYear:c}=e;if(i){if(o=c,s&&s!=="bis")throw new RangeError(`Unexpected leap month suffix: ${s}`);const m=Rt(a,s!==void 0),f=`${a}${s||""}`,p=this.getMonthList(o,t)[f];if(p===void 0)throw new RangeError(`Unmatched month ${f} in Chinese year ${o}`);return a=p.monthIndex,{year:o,month:a,day:u,era:void 0,eraYear:c,monthCode:m}}if(this.validateCalendarDate(e),o===void 0&&(o=c),c===void 0&&(c=o),a===void 0){const m=this.getMonthList(o,t);let f=h.replace("L","bis").slice(1);f[0]==="0"&&(f=f.slice(1));let p=m[f];if(a=p&&p.monthIndex,a===void 0&&h.endsWith("L")&&!hi.call(["M01L","M12L","M13L"],h)&&r==="constrain"){let g=h.slice(1,-1);g[0]==="0"&&(g=g.slice(1)),p=m[g],p&&({daysInMonth:u,monthIndex:a}=p,h=Rt(g))}if(a===void 0)throw new RangeError(`Unmatched month ${h} in Chinese year ${o}`)}else if(h===void 0){const m=this.getMonthList(o,t),f=go(m),p=f.length;r==="reject"?(Le(a,1,p),Le(u,1,this.maximumMonthLength())):(a=ot(a,1,p),u=ot(u,1,this.maximumMonthLength()));const g=f.find(([,b])=>b.monthIndex===a);if(g===void 0)throw new RangeError(`Invalid month ${a} in Chinese year ${o}`);h=Rt(g[0].replace("bis",""),g[0].indexOf("bis")!==-1)}else{const m=this.getMonthList(o,t);let f=h.replace("L","bis").slice(1);f[0]==="0"&&(f=f.slice(1));const p=m[f];if(!p)throw new RangeError(`Unmatched monthCode ${h} in Chinese year ${o}`);if(a!==p.monthIndex)throw new RangeError(`monthCode ${h} doesn't correspond to month ${a} in Chinese year ${o}`)}return{...e,year:o,eraYear:c,month:a,monthCode:h,day:u}}}class kf extends ou{constructor(){super(...arguments),this.id="chinese"}}class Of extends ou{constructor(){super(...arguments),this.id="dangi"}}const If={helper:void 0,dateFromFields(n,e,t){const r=_e(e),i=new fe,o=X(n,["day","era","eraYear","month","monthCode","year"],["day"]),{year:a,month:s,day:u}=this.helper.calendarToIsoDate(o,r,i),h=pt(a,s,u,t);return i.setObject(h),h},yearMonthFromFields(n,e,t){const r=_e(e),i=new fe,o=X(n,["era","eraYear","month","monthCode","year"],[]),{year:a,month:s,day:u}=this.helper.calendarToIsoDate({...o,day:1},r,i),h=fr(a,s,t,u);return i.setObject(h),h},monthDayFromFields(n,e,t){const r=_e(e),i=new fe,o=X(n,["day","era","eraYear","month","monthCode","year"],["day"]),{year:a,month:s,day:u}=this.helper.monthDayFromFields(o,r,i),h=mr(s,u,t,a);return i.setObject(h),h},fields(n){let e=n;return hi.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(n,e){const t={...n},r={...e},{month:i,monthCode:o,year:a,era:s,eraYear:u,...h}=t,{month:c,monthCode:m,year:f,era:p,eraYear:g}=r;return c===void 0&&m===void 0&&(h.month=i,h.monthCode=o),f===void 0&&p===void 0&&g===void 0&&(h.year=a),{...h,...r}},dateAdd(n,e,t,r,i,o,a){const s=fe.getCacheForObject(n),u=this.helper.temporalToCalendarDate(n,s),h=this.helper.addCalendar(u,{years:e,months:t,weeks:r,days:i},o,s),c=this.helper.calendarToIsoDate(h,"constrain",s),{year:m,month:f,day:p}=c,g=pt(m,f,p,a);return new fe(s).setObject(g),g},dateUntil(n,e,t){const r=fe.getCacheForObject(n),i=fe.getCacheForObject(e),o=this.helper.temporalToCalendarDate(n,r),a=this.helper.temporalToCalendarDate(e,i);return this.helper.untilCalendar(o,a,t,r)},year(n){const e=fe.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).year},month(n){const e=fe.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).month},day(n){const e=fe.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).day},era(n){if(!this.helper.hasEra)return;const e=fe.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).era},eraYear(n){if(!this.helper.hasEra)return;const e=fe.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).eraYear},monthCode(n){const e=fe.getCacheForObject(n);return this.helper.temporalToCalendarDate(n,e).monthCode},dayOfWeek:n=>ye.iso8601.dayOfWeek(n),dayOfYear(n){const e=fe.getCacheForObject(n),t=this.helper.isoToCalendarDate(n,e),r=this.helper.startOfCalendarYear(t);return this.helper.calendarDaysUntil(r,t,e)+1},weekOfYear:n=>ye.iso8601.weekOfYear(n),daysInWeek:n=>ye.iso8601.daysInWeek(n),daysInMonth(n){const e=fe.getCacheForObject(n),t=this.helper.temporalToCalendarDate(n,e),r=this.helper.maximumMonthLength(t);if(r===this.helper.minimumMonthLength(t))return r;const i=this.helper.startOfCalendarMonth(t),o=this.helper.addMonthsCalendar(i,1,"constrain",e);return this.helper.calendarDaysUntil(i,o,e)},daysInYear(n){let e=n;Ie(e,x)||(e=ue(e));const t=fe.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t),i=this.helper.startOfCalendarYear(r),o=this.helper.addCalendar(i,{years:1},"constrain",t);return this.helper.calendarDaysUntil(i,o,t)},monthsInYear(n){const e=fe.getCacheForObject(n),t=this.helper.temporalToCalendarDate(n,e);return this.helper.monthsInYear(t,e)},inLeapYear(n){let e=n;Ie(e,x)||(e=ue(e));const t=fe.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t);return this.helper.inLeapYear(r,t)}};for(const n of[gf,Ef,Df,Mf,Pf,kf,Of,Cf,_f,Af,xf,Sf,ru,bf,yf,wf,vf,Tf]){const e=new n;ye[e.id]={...If,helper:e}}class Sr{constructor(e,t,r,i=Me()){const o=ce(e),a=ce(t),s=ce(r),u=Fe(i);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");El(this,o,a,s,u)}get calendar(){if(!ee(this))throw new TypeError("invalid receiver");return l(this,T)}get era(){if(!ee(this))throw new TypeError("invalid receiver");return Ti(l(this,T),this)}get eraYear(){if(!ee(this))throw new TypeError("invalid receiver");return Ei(l(this,T),this)}get year(){if(!ee(this))throw new TypeError("invalid receiver");return yi(l(this,T),this)}get month(){if(!ee(this))throw new TypeError("invalid receiver");return wi(l(this,T),this)}get monthCode(){if(!ee(this))throw new TypeError("invalid receiver");return Pr(l(this,T),this)}get day(){if(!ee(this))throw new TypeError("invalid receiver");return vi(l(this,T),this)}get dayOfWeek(){if(!ee(this))throw new TypeError("invalid receiver");return Oo(l(this,T),this)}get dayOfYear(){if(!ee(this))throw new TypeError("invalid receiver");return Io(l(this,T),this)}get weekOfYear(){if(!ee(this))throw new TypeError("invalid receiver");return $o(l(this,T),this)}get daysInWeek(){if(!ee(this))throw new TypeError("invalid receiver");return Ro(l(this,T),this)}get daysInMonth(){if(!ee(this))throw new TypeError("invalid receiver");return Dr(l(this,T),this)}get daysInYear(){if(!ee(this))throw new TypeError("invalid receiver");return _i(l(this,T),this)}get monthsInYear(){if(!ee(this))throw new TypeError("invalid receiver");return Mi(l(this,T),this)}get inLeapYear(){if(!ee(this))throw new TypeError("invalid receiver");return Pi(l(this,T),this)}with(e,t){if(!ee(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid argument");Fn(e);const r=l(this,T),i=Pe(r,["day","month","monthCode","year"]),o=X(e,i,"partial");if(!o)throw new TypeError("invalid date-like");let a=X(this,i,[]);return a=mn(r,a,o),a=X(a,i,[]),Vt(r,a,K(t))}withCalendar(e){if(!ee(this))throw new TypeError("invalid receiver");const t=Fe(e);return new Sr(l(this,x),l(this,k),l(this,O),t)}add(e,t){if(!ee(this))throw new TypeError("invalid receiver");const r=Dn(e),i=K(t);return Qe(l(this,T),this,r,i)}subtract(e,t){if(!ee(this))throw new TypeError("invalid receiver");const r=Rl(Dn(e)),i=K(t);return Qe(l(this,T),this,r,i)}until(e,t){if(!ee(this))throw new TypeError("invalid receiver");return Ha("until",this,e,t)}since(e,t){if(!ee(this))throw new TypeError("invalid receiver");return Ha("since",this,e,t)}equals(e){if(!ee(this))throw new TypeError("invalid receiver");const t=ue(e);for(const r of[x,k,O])if(l(this,r)!==l(t,r))return!1;return Cr(l(this,T),l(t,T))}toString(e){if(!ee(this))throw new TypeError("invalid receiver");return La(this,Er(K(e)))}toJSON(){if(!ee(this))throw new TypeError("invalid receiver");return La(this)}toLocaleString(e,t){if(!ee(this))throw new TypeError("invalid receiver");return new Jt(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!ee(this))throw new TypeError("invalid receiver");const t=l(this,x),r=l(this,k),i=l(this,O),o=l(this,T);if(e===void 0)return it(t,r,i,0,0,0,0,0,0,o);const a=Ot(e);return it(t,r,i,l(a,B),l(a,j),l(a,U),l(a,Z),l(a,z),l(a,H),o)}toZonedDateTime(e){if(!ee(this))throw new TypeError("invalid receiver");let t,r;if(he(e)){const g=e.timeZone;g===void 0?t=et(e):(t=et(g),r=e.plainTime)}else t=et(e);const i=l(this,x),o=l(this,k),a=l(this,O),s=l(this,T);let u=0,h=0,c=0,m=0,f=0,p=0;return r!==void 0&&(r=Ot(r),u=l(r,B),h=l(r,j),c=l(r,U),m=l(r,Z),f=l(r,z),p=l(r,H)),qe(l(Je(t,it(i,o,a,u,h,c,m,f,p,s),"compatible"),q),t,s)}toPlainYearMonth(){if(!ee(this))throw new TypeError("invalid receiver");const e=l(this,T);return fn(e,X(this,Pe(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ee(this))throw new TypeError("invalid receiver");const e=l(this,T);return kn(e,X(this,Pe(e,["day","monthCode"]),[]))}getISOFields(){if(!ee(this))throw new TypeError("invalid receiver");return{calendar:l(this,T),isoDay:l(this,O),isoMonth:l(this,k),isoYear:l(this,x)}}static from(e,t){const r=K(t);return ee(e)?(_e(r),pt(l(e,x),l(e,k),l(e,O),l(e,T))):ue(e,r)}static compare(e,t){const r=ue(e),i=ue(t);return Zt(l(r,x),l(r,k),l(r,O),l(i,x),l(i,k),l(i,O))}}Ct(Sr,"Temporal.PlainDate");class kr{constructor(e,t,r,i=0,o=0,a=0,s=0,u=0,h=0,c=Me()){const m=ce(e),f=ce(t),p=ce(r),g=ce(i),b=ce(o),y=ce(a),w=ce(s),v=ce(u),_=ce(h),E=Fe(c);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");_l(this,m,f,p,g,b,y,w,v,_,E)}get calendar(){if(!W(this))throw new TypeError("invalid receiver");return l(this,T)}get year(){if(!W(this))throw new TypeError("invalid receiver");return yi(l(this,T),this)}get month(){if(!W(this))throw new TypeError("invalid receiver");return wi(l(this,T),this)}get monthCode(){if(!W(this))throw new TypeError("invalid receiver");return Pr(l(this,T),this)}get day(){if(!W(this))throw new TypeError("invalid receiver");return vi(l(this,T),this)}get hour(){if(!W(this))throw new TypeError("invalid receiver");return l(this,B)}get minute(){if(!W(this))throw new TypeError("invalid receiver");return l(this,j)}get second(){if(!W(this))throw new TypeError("invalid receiver");return l(this,U)}get millisecond(){if(!W(this))throw new TypeError("invalid receiver");return l(this,Z)}get microsecond(){if(!W(this))throw new TypeError("invalid receiver");return l(this,z)}get nanosecond(){if(!W(this))throw new TypeError("invalid receiver");return l(this,H)}get era(){if(!W(this))throw new TypeError("invalid receiver");return Ti(l(this,T),this)}get eraYear(){if(!W(this))throw new TypeError("invalid receiver");return Ei(l(this,T),this)}get dayOfWeek(){if(!W(this))throw new TypeError("invalid receiver");return Oo(l(this,T),this)}get dayOfYear(){if(!W(this))throw new TypeError("invalid receiver");return Io(l(this,T),this)}get weekOfYear(){if(!W(this))throw new TypeError("invalid receiver");return $o(l(this,T),this)}get daysInWeek(){if(!W(this))throw new TypeError("invalid receiver");return Ro(l(this,T),this)}get daysInYear(){if(!W(this))throw new TypeError("invalid receiver");return _i(l(this,T),this)}get daysInMonth(){if(!W(this))throw new TypeError("invalid receiver");return Dr(l(this,T),this)}get monthsInYear(){if(!W(this))throw new TypeError("invalid receiver");return Mi(l(this,T),this)}get inLeapYear(){if(!W(this))throw new TypeError("invalid receiver");return Pi(l(this,T),this)}with(e,t){if(!W(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid argument");Fn(e);const r=K(t),i=l(this,T),o=Pe(i,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),a=X(e,o,"partial");if(!a)throw new TypeError("invalid date-time-like");let s=X(this,o,[]);s=mn(i,s,a),s=X(s,o,[]);const{year:u,month:h,day:c,hour:m,minute:f,second:p,millisecond:g,microsecond:b,nanosecond:y}=Mr(i,s,r);return it(u,h,c,m,f,p,g,b,y,i)}withPlainTime(e){if(!W(this))throw new TypeError("invalid receiver");const t=l(this,x),r=l(this,k),i=l(this,O),o=l(this,T);if(e===void 0)return it(t,r,i,0,0,0,0,0,0,o);const a=Ot(e);return it(t,r,i,l(a,B),l(a,j),l(a,U),l(a,Z),l(a,z),l(a,H),o)}withPlainDate(e){if(!W(this))throw new TypeError("invalid receiver");const t=ue(e),r=l(t,x),i=l(t,k),o=l(t,O);let a=l(t,T);const s=l(this,B),u=l(this,j),h=l(this,U),c=l(this,Z),m=l(this,z),f=l(this,H);return a=Cl(l(this,T),a),it(r,i,o,s,u,h,c,m,f,a)}withCalendar(e){if(!W(this))throw new TypeError("invalid receiver");const t=Fe(e);return new kr(l(this,x),l(this,k),l(this,O),l(this,B),l(this,j),l(this,U),l(this,Z),l(this,z),l(this,H),t)}add(e,t){if(!W(this))throw new TypeError("invalid receiver");return es("add",this,e,t)}subtract(e,t){if(!W(this))throw new TypeError("invalid receiver");return es("subtract",this,e,t)}until(e,t){if(!W(this))throw new TypeError("invalid receiver");return Wa("until",this,e,t)}since(e,t){if(!W(this))throw new TypeError("invalid receiver");return Wa("since",this,e,t)}round(e){if(!W(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?$n("smallestUnit",e):K(e),r=Oe(t,"smallestUnit","time",dn,["day"]),i=nt(t,"halfExpand"),o=Ft(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1);let a=l(this,x),s=l(this,k),u=l(this,O),h=l(this,B),c=l(this,j),m=l(this,U),f=l(this,Z),p=l(this,z),g=l(this,H);return{year:a,month:s,day:u,hour:h,minute:c,second:m,millisecond:f,microsecond:p,nanosecond:g}=Zo(a,s,u,h,c,m,f,p,g,o,r,i),it(a,s,u,h,c,m,f,p,g,l(this,T))}equals(e){if(!W(this))throw new TypeError("invalid receiver");const t=rn(e);for(const r of[x,k,O,B,j,U,Z,z,H])if(l(this,r)!==l(t,r))return!1;return Cr(l(this,T),l(t,T))}toString(e){if(!W(this))throw new TypeError("invalid receiver");const t=K(e),{precision:r,unit:i,increment:o}=_r(t);return Ga(this,r,Er(t),{unit:i,increment:o,roundingMode:nt(t,"trunc")})}toJSON(){if(!W(this))throw new TypeError("invalid receiver");return Ga(this,"auto")}toLocaleString(e,t){if(!W(this))throw new TypeError("invalid receiver");return new Jt(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!W(this))throw new TypeError("invalid receiver");const r=et(e);return qe(l(Je(r,this,dr(K(t))),q),r,l(this,T))}toPlainDate(){if(!W(this))throw new TypeError("invalid receiver");return On(this)}toPlainYearMonth(){if(!W(this))throw new TypeError("invalid receiver");const e=l(this,T);return fn(e,X(this,Pe(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!W(this))throw new TypeError("invalid receiver");const e=l(this,T);return kn(e,X(this,Pe(e,["day","monthCode"]),[]))}toPlainTime(){if(!W(this))throw new TypeError("invalid receiver");return No(this)}getISOFields(){if(!W(this))throw new TypeError("invalid receiver");return{calendar:l(this,T),isoDay:l(this,O),isoHour:l(this,B),isoMicrosecond:l(this,z),isoMillisecond:l(this,Z),isoMinute:l(this,j),isoMonth:l(this,k),isoNanosecond:l(this,H),isoSecond:l(this,U),isoYear:l(this,x)}}static from(e,t){const r=K(t);return W(e)?(_e(r),it(l(e,x),l(e,k),l(e,O),l(e,B),l(e,j),l(e,U),l(e,Z),l(e,z),l(e,H),l(e,T))):rn(e,r)}static compare(e,t){const r=rn(e),i=rn(t);for(const o of[x,k,O,B,j,U,Z,z,H]){const a=l(r,o),s=l(i,o);if(a!==s)return sn(a-s)}return 0}}Ct(kr,"Temporal.PlainDateTime");class zt{constructor(e=0,t=0,r=0,i=0,o=0,a=0,s=0,u=0,h=0,c=0){const m=Se(e),f=Se(t),p=Se(r),g=Se(i),b=Se(o),y=Se(a),w=Se(s),v=Se(u),_=Se(h),E=Se(c);xi(m,f,p,g,b,y,w,v,_,E),At(this),V(this,Ue,m),V(this,$e,f),V(this,tt,p),V(this,Ze,g),V(this,ze,b),V(this,He,y),V(this,We,w),V(this,Ve,v),V(this,Xe,_),V(this,Ke,E)}get years(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,Ue)}get months(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,$e)}get weeks(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,tt)}get days(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,Ze)}get hours(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,ze)}get minutes(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,He)}get seconds(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,We)}get milliseconds(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,Ve)}get microseconds(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,Xe)}get nanoseconds(){if(!ge(this))throw new TypeError("invalid receiver");return l(this,Ke)}get sign(){if(!ge(this))throw new TypeError("invalid receiver");return _t(l(this,Ue),l(this,$e),l(this,tt),l(this,Ze),l(this,ze),l(this,He),l(this,We),l(this,Ve),l(this,Xe),l(this,Ke))}get blank(){if(!ge(this))throw new TypeError("invalid receiver");return _t(l(this,Ue),l(this,$e),l(this,tt),l(this,Ze),l(this,ze),l(this,He),l(this,We),l(this,Ve),l(this,Xe),l(this,Ke))===0}with(e){if(!ge(this))throw new TypeError("invalid receiver");const t=X(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!t)throw new TypeError("invalid duration-like");const{years:r=l(this,Ue),months:i=l(this,$e),weeks:o=l(this,tt),days:a=l(this,Ze),hours:s=l(this,ze),minutes:u=l(this,He),seconds:h=l(this,We),milliseconds:c=l(this,Ve),microseconds:m=l(this,Xe),nanoseconds:f=l(this,Ke)}=t;return new zt(r,i,o,a,s,u,h,c,m,f)}negated(){if(!ge(this))throw new TypeError("invalid receiver");return Rl(this)}abs(){if(!ge(this))throw new TypeError("invalid receiver");return new zt(Math.abs(l(this,Ue)),Math.abs(l(this,$e)),Math.abs(l(this,tt)),Math.abs(l(this,Ze)),Math.abs(l(this,ze)),Math.abs(l(this,He)),Math.abs(l(this,We)),Math.abs(l(this,Ve)),Math.abs(l(this,Xe)),Math.abs(l(this,Ke)))}add(e,t){if(!ge(this))throw new TypeError("invalid receiver");return Qa("add",this,e,t)}subtract(e,t){if(!ge(this))throw new TypeError("invalid receiver");return Qa("subtract",this,e,t)}round(e){if(!ge(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let t=l(this,Ue),r=l(this,$e),i=l(this,tt),o=l(this,Ze),a=l(this,ze),s=l(this,He),u=l(this,We),h=l(this,Ve),c=l(this,Xe),m=l(this,Ke),f=lo(t,r,i,o,a,s,u,h,c,m);const p=typeof e=="string"?$n("smallestUnit",e):K(e);let g=Oe(p,"smallestUnit","datetime",void 0),b=!0;g||(b=!1,g="nanosecond"),f=st(f,g);let y=Oe(p,"largestUnit","datetime",void 0,["auto"]),w=!0;if(y||(w=!1,y=f),y==="auto"&&(y=f),!b&&!w)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(st(y,g)!==y)throw new RangeError(`largestUnit ${y} cannot be smaller than smallestUnit ${g}`);const v=nt(p,"halfExpand"),_=ko(p,g);let E=Br(p);return{years:t,months:r,weeks:i,days:o}=Rr(t,r,i,o,y,E),{years:t,months:r,weeks:i,days:o,hours:a,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:m}=Kt(t,r,i,o,a,s,u,h,c,m,_,g,v,E),{years:t,months:r,weeks:i,days:o,hours:a,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:m}=jl(t,r,i,o,a,s,u,h,c,m,_,g,v,E),{years:t,months:r,weeks:i,days:o}=function(D,P,A,S,G,F){let $=D,I=P,N=A,C=S;const J=L("%Temporal.Duration%"),se=_t($,I,N,C,0,0,0,0,0,0);if(se===0)return{years:$,months:I,weeks:N,days:C};let re,le;F&&(le=ue(F),re=l(le,T));const pe=new J(se),je=new J(0,se),qt=new J(0,0,se);switch(G){case"year":{if(!re)throw new RangeError("a starting point is required for years balancing");let we,De,wn;for({relativeTo:we,days:De}=Ye(re,le,pe);te(C)>=te(De);)C-=De,$+=se,le=we,{relativeTo:we,days:De}=Ye(re,le,pe);for({relativeTo:we,days:wn}=Ye(re,le,je);te(C)>=te(wn);)C-=wn,I+=se,le=we,{relativeTo:we,days:wn}=Ye(re,le,je);const na=re.dateAdd;we=Qe(re,le,pe,void 0,na);const ra=re.dateUntil,ia=Ge(null);ia.largestUnit="month";let Oi=Wt(re,le,we,ia,ra),Ii=l(Oi,$e);for(;te(I)>=te(Ii);){I-=Ii,$+=se,le=we,we=Qe(re,le,pe,void 0,na);const oa=Ge(null);oa.largestUnit="month",Oi=Wt(re,le,we,oa,ra),Ii=l(Oi,$e)}break}case"month":{if(!re)throw new RangeError("a starting point is required for months balancing");let we,De;for({relativeTo:we,days:De}=Ye(re,le,je);te(C)>=te(De);)C-=De,I+=se,le=we,{relativeTo:we,days:De}=Ye(re,le,je);break}case"week":{if(!re)throw new RangeError("a starting point is required for weeks balancing");let we,De;for({relativeTo:we,days:De}=Ye(re,le,qt);te(C)>=te(De);)C-=De,N+=se,le=we,{relativeTo:we,days:De}=Ye(re,le,qt);break}}return{years:$,months:I,weeks:N,days:C}}(t,r,i,o,y,E),R(E)&&(E=mo(E,t,r,i,0)),{days:o,hours:a,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:m}=at(o,a,s,u,h,c,m,y,E),new zt(t,r,i,o,a,s,u,h,c,m)}total(e){if(!ge(this))throw new TypeError("invalid receiver");let t=l(this,Ue),r=l(this,$e),i=l(this,tt),o=l(this,Ze),a=l(this,ze),s=l(this,He),u=l(this,We),h=l(this,Ve),c=l(this,Xe),m=l(this,Ke);if(e===void 0)throw new TypeError("options argument is required");const f=typeof e=="string"?$n("unit",e):K(e),p=Oe(f,"unit","datetime",dn),g=Br(f);let b;({years:t,months:r,weeks:i,days:o}=Rr(t,r,i,o,p,g)),R(g)&&(b=mo(g,t,r,i,0)),{days:o,hours:a,minutes:s,seconds:u,milliseconds:h,microseconds:c,nanoseconds:m}=at(o,a,s,u,h,c,m,p,b);const{total:y}=Kt(t,r,i,o,a,s,u,h,c,m,1,p,"trunc",g);return y}toString(e){if(!ge(this))throw new TypeError("invalid receiver");const t=K(e),{precision:r,unit:i,increment:o}=_r(t);if(r==="minute")throw new RangeError('smallestUnit must not be "minute"');return Gi(this,r,{unit:i,increment:o,roundingMode:nt(t,"trunc")})}toJSON(){if(!ge(this))throw new TypeError("invalid receiver");return Gi(this)}toLocaleString(e,t){if(!ge(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),Gi(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return ge(e)?new zt(l(e,Ue),l(e,$e),l(e,tt),l(e,Ze),l(e,ze),l(e,He),l(e,We),l(e,Ve),l(e,Xe),l(e,Ke)):Dn(e)}static compare(e,t,r){const i=Dn(e),o=Dn(t),a=Br(K(r)),s=l(i,Ue),u=l(i,$e),h=l(i,tt);let c=l(i,Ze);const m=l(i,ze),f=l(i,He),p=l(i,We),g=l(i,Ve),b=l(i,Xe);let y=l(i,Ke);const w=l(o,Ue),v=l(o,$e),_=l(o,tt);let E=l(o,Ze);const M=l(o,ze),D=l(o,He),P=l(o,We),A=l(o,Ve),S=l(o,Xe);let G=l(o,Ke);const F=Za(a,s,u,h,c),$=Za(a,w,v,_,E);s===0&&w===0&&u===0&&v===0&&h===0&&_===0||({days:c}=Rr(s,u,h,c,"day",a),{days:E}=Rr(w,v,_,E,"day",a));const I=In(c,m,f,p,g,b,y,F),N=In(E,M,D,P,A,S,G,$);return sn(d.toNumber(d.subtract(I,N)))}}Ct(zt,"Temporal.Duration");const $f=Object.create;class Ko{constructor(e,t,r=Me(),i=1972){const o=ce(e),a=ce(t),s=Fe(r),u=ce(i);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");Ml(this,o,a,s,u)}get monthCode(){if(!Re(this))throw new TypeError("invalid receiver");return Pr(l(this,T),this)}get day(){if(!Re(this))throw new TypeError("invalid receiver");return vi(l(this,T),this)}get calendar(){if(!Re(this))throw new TypeError("invalid receiver");return l(this,T)}with(e,t){if(!Re(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid argument");Fn(e);const r=l(this,T),i=Pe(r,["day","month","monthCode","year"]),o=X(e,i,"partial");if(!o)throw new TypeError("invalid month-day-like");let a=X(this,i,[]);return a=mn(r,a,o),a=X(a,i,[]),kn(r,a,K(t))}equals(e){if(!Re(this))throw new TypeError("invalid receiver");const t=Fa(e);for(const r of[k,O,x])if(l(this,r)!==l(t,r))return!1;return Cr(l(this,T),l(t,T))}toString(e){if(!Re(this))throw new TypeError("invalid receiver");return Ya(this,Er(K(e)))}toJSON(){if(!Re(this))throw new TypeError("invalid receiver");return Ya(this)}toLocaleString(e,t){if(!Re(this))throw new TypeError("invalid receiver");return new Jt(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Re(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("argument should be an object");const t=l(this,T),r=Pe(t,["day","monthCode"]),i=X(this,r,[]),o=Pe(t,["year"]);let a=mn(t,i,X(e,o,[]));a=X(a,[...new Set([...r,...o])],[]);const s=$f(null);return s.overflow="reject",Vt(t,a,s)}getISOFields(){if(!Re(this))throw new TypeError("invalid receiver");return{calendar:l(this,T),isoDay:l(this,O),isoMonth:l(this,k),isoYear:l(this,x)}}static from(e,t){const r=K(t);return Re(e)?(_e(r),mr(l(e,k),l(e,O),l(e,T),l(e,x))):Fa(e,r)}}Ct(Ko,"Temporal.PlainMonthDay");const Qo=()=>new(L("%Temporal.Instant%"))(Ho()),os=(n,e=jt())=>{const t=et(e),r=Fe(n);return ut(t,Qo(),r)},Ui=(n=jt())=>{const e=et(n),t=Me();return ut(e,Qo(),t)},as=(n,e=jt())=>{const t=et(e),r=Fe(n);return qe(Ho(),t,r)},jt=()=>function(){const e=new dl("en-us");return new(L("%Temporal.TimeZone%"))(wl(e.resolvedOptions().timeZone))}(),au={instant:Qo,plainDateTime:os,plainDateTimeISO:Ui,plainDate:(n,e=jt())=>On(os(n,e)),plainDateISO:(n=jt())=>On(Ui(n)),plainTimeISO:(n=jt())=>No(Ui(n)),timeZone:jt,zonedDateTime:as,zonedDateTimeISO:(n=jt())=>as(Me(),n),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(au,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const Rf=Object.assign;function ss(n,e,t){let r=l(n,B),i=l(n,j),o=l(n,U),a=l(n,Z),s=l(n,z),u=l(n,H);if(t){const{unit:h,increment:c,roundingMode:m}=t;({hour:r,minute:i,second:o,millisecond:a,microsecond:s,nanosecond:u}=zo(r,i,o,a,s,u,c,h,m))}return`${me(r)}:${me(i)}${Di(o,a,s,u,e)}`}class un{constructor(e=0,t=0,r=0,i=0,o=0,a=0){const s=ce(e),u=ce(t),h=ce(r),c=ce(i),m=ce(o),f=ce(a);Ai(s,u,h,c,m,f),At(this),V(this,B,s),V(this,j,u),V(this,U,h),V(this,Z,c),V(this,z,m),V(this,H,f),V(this,T,Me())}get calendar(){if(!be(this))throw new TypeError("invalid receiver");return l(this,T)}get hour(){if(!be(this))throw new TypeError("invalid receiver");return l(this,B)}get minute(){if(!be(this))throw new TypeError("invalid receiver");return l(this,j)}get second(){if(!be(this))throw new TypeError("invalid receiver");return l(this,U)}get millisecond(){if(!be(this))throw new TypeError("invalid receiver");return l(this,Z)}get microsecond(){if(!be(this))throw new TypeError("invalid receiver");return l(this,z)}get nanosecond(){if(!be(this))throw new TypeError("invalid receiver");return l(this,H)}with(e,t){if(!be(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid argument");Fn(e);const r=ii(e,"partial"),i=_e(K(t)),o=ii(this);let{hour:a,minute:s,second:u,millisecond:h,microsecond:c,nanosecond:m}=Rf(o,r);return{hour:a,minute:s,second:u,millisecond:h,microsecond:c,nanosecond:m}=gi(a,s,u,h,c,m,i),new un(a,s,u,h,c,m)}add(e){if(!be(this))throw new TypeError("invalid receiver");return ts("add",this,e)}subtract(e){if(!be(this))throw new TypeError("invalid receiver");return ts("subtract",this,e)}until(e,t){if(!be(this))throw new TypeError("invalid receiver");return Va("until",this,e,t)}since(e,t){if(!be(this))throw new TypeError("invalid receiver");return Va("since",this,e,t)}round(e){if(!be(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?$n("smallestUnit",e):K(e),r=Oe(t,"smallestUnit","time",dn),i=nt(t,"halfExpand"),o=Ft(t,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1);let a=l(this,B),s=l(this,j),u=l(this,U),h=l(this,Z),c=l(this,z),m=l(this,H);return{hour:a,minute:s,second:u,millisecond:h,microsecond:c,nanosecond:m}=zo(a,s,u,h,c,m,o,r,i),new un(a,s,u,h,c,m)}equals(e){if(!be(this))throw new TypeError("invalid receiver");const t=Ot(e);for(const r of[B,j,U,Z,z,H])if(l(this,r)!==l(t,r))return!1;return!0}toString(e){if(!be(this))throw new TypeError("invalid receiver");const t=K(e),{precision:r,unit:i,increment:o}=_r(t);return ss(this,r,{unit:i,increment:o,roundingMode:nt(t,"trunc")})}toJSON(){if(!be(this))throw new TypeError("invalid receiver");return ss(this,"auto")}toLocaleString(e,t){if(!be(this))throw new TypeError("invalid receiver");return new Jt(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!be(this))throw new TypeError("invalid receiver");const t=ue(e),r=l(t,x),i=l(t,k),o=l(t,O),a=l(t,T);return it(r,i,o,l(this,B),l(this,j),l(this,U),l(this,Z),l(this,z),l(this,H),a)}toZonedDateTime(e){if(!be(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid argument");const t=e.plainDate;if(t===void 0)throw new TypeError("missing date property");const r=ue(t),i=e.timeZone;if(i===void 0)throw new TypeError("missing timeZone property");const o=et(i),a=l(r,x),s=l(r,k),u=l(r,O),h=l(r,T),c=l(this,B),m=l(this,j),f=l(this,U),p=l(this,Z),g=l(this,z),b=l(this,H);return qe(l(Je(o,new(L("%Temporal.PlainDateTime%"))(a,s,u,c,m,f,p,g,b,h),"compatible"),q),o,h)}getISOFields(){if(!be(this))throw new TypeError("invalid receiver");return{calendar:l(this,T),isoHour:l(this,B),isoMicrosecond:l(this,z),isoMillisecond:l(this,Z),isoMinute:l(this,j),isoNanosecond:l(this,H),isoSecond:l(this,U)}}static from(e,t){const r=_e(K(t));return be(e)?new un(l(e,B),l(e,j),l(e,U),l(e,Z),l(e,z),l(e,H)):Ot(e,r)}static compare(e,t){const r=Ot(e),i=Ot(t);for(const o of[B,j,U,Z,z,H]){const a=l(r,o),s=l(i,o);if(a!==s)return sn(a-s)}return 0}}Ct(un,"Temporal.PlainTime");class Jo{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=Fo(e);At(this),V(this,Bt,t)}get id(){if(!wt(this))throw new TypeError("invalid receiver");return Y(this)}getOffsetNanosecondsFor(e){if(!wt(this))throw new TypeError("invalid receiver");const t=Tt(e),r=l(this,Bt);return Wn(r)?pn(r):St(l(t,q),r)}getOffsetStringFor(e){if(!wt(this))throw new TypeError("invalid receiver");return uo(this,Tt(e))}getPlainDateTimeFor(e,t=Me()){return ut(this,Tt(e),Fe(t))}getInstantFor(e,t){if(!wt(this))throw new TypeError("invalid receiver");return Je(this,rn(e),dr(K(t)))}getPossibleInstantsFor(e){if(!wt(this))throw new TypeError("invalid receiver");const t=rn(e),r=L("%Temporal.Instant%"),i=l(this,Bt);if(Wn(i)){const o=Xt(l(t,x),l(t,k),l(t,O),l(t,B),l(t,j),l(t,U),l(t,Z),l(t,z),l(t,H));if(o===null)throw new RangeError("DateTime outside of supported range");const a=pn(i);return[new r(d.subtract(o,d.BigInt(a)))]}return function(a,s,u,h,c,m,f,p,g,b){const y=Xt(s,u,h,c,m,f,p,g,b);if(y===null)throw new RangeError("DateTime outside of supported range");let w=d.subtract(y,Ht);d.lessThan(w,lr)&&(w=y);let v=d.add(y,Ht);d.greaterThan(v,ur)&&(v=y);const _=St(w,a),E=St(v,a);return(_===E?[_]:[_,E]).map(M=>{const D=d.subtract(y,d.BigInt(M)),P=Ol(D,a);if(s===P.year&&u===P.month&&h===P.day&&c===P.hour&&m===P.minute&&f===P.second&&p===P.millisecond&&g===P.microsecond&&b===P.nanosecond)return D}).filter(M=>M!==void 0)}(i,l(t,x),l(t,k),l(t,O),l(t,B),l(t,j),l(t,U),l(t,Z),l(t,z),l(t,H)).map(o=>new r(o))}getNextTransition(e){if(!wt(this))throw new TypeError("invalid receiver");const t=Tt(e),r=l(this,Bt);if(Wn(r)||r==="UTC")return null;let i=l(t,q);const o=L("%Temporal.Instant%");return i=function(s,u){const h=d.add(s,pl),c=Ua(Il(),h);let m=Ua(fl,s);const f=St(m,u);let p=m,g=f;for(;f===g&&d.lessThan(d.BigInt(m),c);)p=d.add(m,gl),g=St(p,u),f===g&&(m=p);return f===g?null:zl(b=>St(b,u),m,p,f,g)}(i,r),i===null?null:new o(i)}getPreviousTransition(e){if(!wt(this))throw new TypeError("invalid receiver");const t=Tt(e),r=l(this,Bt);if(Wn(r)||r==="UTC")return null;let i=l(t,q);const o=L("%Temporal.Instant%");return i=$l(i,r),i===null?null:new o(i)}toString(){if(!wt(this))throw new TypeError("invalid receiver");return Y(l(this,Bt))}toJSON(){if(!wt(this))throw new TypeError("invalid receiver");return Y(this)}static from(e){return et(e)}}Ct(Jo,"Temporal.TimeZone");const Nf=Object.create;class ea{constructor(e,t,r=Me(),i=1){const o=ce(e),a=ce(t),s=Fe(r),u=ce(i);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");Pl(this,o,a,s,u)}get year(){if(!ne(this))throw new TypeError("invalid receiver");return yi(l(this,T),this)}get month(){if(!ne(this))throw new TypeError("invalid receiver");return wi(l(this,T),this)}get monthCode(){if(!ne(this))throw new TypeError("invalid receiver");return Pr(l(this,T),this)}get calendar(){if(!ne(this))throw new TypeError("invalid receiver");return l(this,T)}get era(){if(!ne(this))throw new TypeError("invalid receiver");return Ti(l(this,T),this)}get eraYear(){if(!ne(this))throw new TypeError("invalid receiver");return Ei(l(this,T),this)}get daysInMonth(){if(!ne(this))throw new TypeError("invalid receiver");return Dr(l(this,T),this)}get daysInYear(){if(!ne(this))throw new TypeError("invalid receiver");return _i(l(this,T),this)}get monthsInYear(){if(!ne(this))throw new TypeError("invalid receiver");return Mi(l(this,T),this)}get inLeapYear(){if(!ne(this))throw new TypeError("invalid receiver");return Pi(l(this,T),this)}with(e,t){if(!ne(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid argument");Fn(e);const r=l(this,T),i=Pe(r,["month","monthCode","year"]),o=X(e,i,"partial");if(!o)throw new TypeError("invalid year-month-like");let a=X(this,i,[]);return a=mn(r,a,o),a=X(a,i,[]),fn(r,a,K(t))}add(e,t){if(!ne(this))throw new TypeError("invalid receiver");return ns("add",this,e,t)}subtract(e,t){if(!ne(this))throw new TypeError("invalid receiver");return ns("subtract",this,e,t)}until(e,t){if(!ne(this))throw new TypeError("invalid receiver");return Xa("until",this,e,t)}since(e,t){if(!ne(this))throw new TypeError("invalid receiver");return Xa("since",this,e,t)}equals(e){if(!ne(this))throw new TypeError("invalid receiver");const t=zn(e);for(const r of[x,k,O])if(l(this,r)!==l(t,r))return!1;return Cr(l(this,T),l(t,T))}toString(e){if(!ne(this))throw new TypeError("invalid receiver");return Ba(this,Er(K(e)))}toJSON(){if(!ne(this))throw new TypeError("invalid receiver");return Ba(this)}toLocaleString(e,t){if(!ne(this))throw new TypeError("invalid receiver");return new Jt(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!ne(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("argument should be an object");const t=l(this,T),r=Pe(t,["monthCode","year"]),i=X(this,r,[]),o=Pe(t,["day"]);let a=mn(t,i,X(e,o,[]));a=X(a,[...new Set([...r,...o])],[]);const s=Nf(null);return s.overflow="reject",Vt(t,a,s)}getISOFields(){if(!ne(this))throw new TypeError("invalid receiver");return{calendar:l(this,T),isoDay:l(this,O),isoMonth:l(this,k),isoYear:l(this,x)}}static from(e,t){const r=K(t);return ne(e)?(_e(r),fr(l(e,x),l(e,k),l(e,T),l(e,O))):zn(e,r)}static compare(e,t){const r=zn(e),i=zn(t);return Zt(l(r,x),l(r,k),l(r,O),l(i,x),l(i,k),l(i,O))}}Ct(ea,"Temporal.PlainYearMonth");class ta{constructor(e,t,r=Me()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");Dl(this,Qn(e),et(t),Fe(r))}get calendar(){if(!R(this))throw new TypeError("invalid receiver");return l(this,T)}get timeZone(){if(!R(this))throw new TypeError("invalid receiver");return l(this,ie)}get year(){if(!R(this))throw new TypeError("invalid receiver");return yi(l(this,T),de(this))}get month(){if(!R(this))throw new TypeError("invalid receiver");return wi(l(this,T),de(this))}get monthCode(){if(!R(this))throw new TypeError("invalid receiver");return Pr(l(this,T),de(this))}get day(){if(!R(this))throw new TypeError("invalid receiver");return vi(l(this,T),de(this))}get hour(){if(!R(this))throw new TypeError("invalid receiver");return l(de(this),B)}get minute(){if(!R(this))throw new TypeError("invalid receiver");return l(de(this),j)}get second(){if(!R(this))throw new TypeError("invalid receiver");return l(de(this),U)}get millisecond(){if(!R(this))throw new TypeError("invalid receiver");return l(de(this),Z)}get microsecond(){if(!R(this))throw new TypeError("invalid receiver");return l(de(this),z)}get nanosecond(){if(!R(this))throw new TypeError("invalid receiver");return l(de(this),H)}get era(){if(!R(this))throw new TypeError("invalid receiver");return Ti(l(this,T),de(this))}get eraYear(){if(!R(this))throw new TypeError("invalid receiver");return Ei(l(this,T),de(this))}get epochSeconds(){if(!R(this))throw new TypeError("invalid receiver");const e=l(this,q);return d.toNumber(d.divide(e,It))}get epochMilliseconds(){if(!R(this))throw new TypeError("invalid receiver");const e=l(this,q);return d.toNumber(d.divide(e,ht))}get epochMicroseconds(){if(!R(this))throw new TypeError("invalid receiver");const e=l(this,q);return ui(d.divide(e,oe))}get epochNanoseconds(){if(!R(this))throw new TypeError("invalid receiver");return ui(l(this,q))}get dayOfWeek(){if(!R(this))throw new TypeError("invalid receiver");return Oo(l(this,T),de(this))}get dayOfYear(){if(!R(this))throw new TypeError("invalid receiver");return Io(l(this,T),de(this))}get weekOfYear(){if(!R(this))throw new TypeError("invalid receiver");return $o(l(this,T),de(this))}get hoursInDay(){if(!R(this))throw new TypeError("invalid receiver");const e=de(this),t=L("%Temporal.PlainDateTime%"),r=l(e,x),i=l(e,k),o=l(e,O),a=new t(r,i,o,0,0,0,0,0,0),s=an(r,i,o,0,0,0,1,"reject"),u=new t(s.year,s.month,s.day,0,0,0,0,0,0),h=l(this,ie),c=l(Je(h,a,"compatible"),q),m=l(Je(h,u,"compatible"),q);return d.toNumber(d.subtract(m,c))/36e11}get daysInWeek(){if(!R(this))throw new TypeError("invalid receiver");return Ro(l(this,T),de(this))}get daysInMonth(){if(!R(this))throw new TypeError("invalid receiver");return Dr(l(this,T),de(this))}get daysInYear(){if(!R(this))throw new TypeError("invalid receiver");return _i(l(this,T),de(this))}get monthsInYear(){if(!R(this))throw new TypeError("invalid receiver");return Mi(l(this,T),de(this))}get inLeapYear(){if(!R(this))throw new TypeError("invalid receiver");return Pi(l(this,T),de(this))}get offset(){if(!R(this))throw new TypeError("invalid receiver");return uo(l(this,ie),l(this,Be))}get offsetNanoseconds(){if(!R(this))throw new TypeError("invalid receiver");return bt(l(this,ie),l(this,Be))}with(e,t){if(!R(this))throw new TypeError("invalid receiver");if(!he(e))throw new TypeError("invalid zoned-date-time-like");Fn(e);const r=K(t),i=dr(r),o=so(r,"prefer"),a=l(this,ie),s=l(this,T),u=ao(Pe(s,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),h=X(e,u,"partial"),c=ao(u,"timeZone");let m=X(this,c,["timeZone","offset"]);m=mn(s,m,h),m=X(m,c,["timeZone","offset"]);let{year:f,month:p,day:g,hour:b,minute:y,second:w,millisecond:v,microsecond:_,nanosecond:E}=Mr(s,m,r);return qe(oi(f,p,g,b,y,w,v,_,E,"option",pn(m.offset),a,i,o,!1),l(this,ie),s)}withPlainDate(e){if(!R(this))throw new TypeError("invalid receiver");const t=ue(e),r=l(t,x),i=l(t,k),o=l(t,O);let a=l(t,T);const s=de(this),u=l(s,B),h=l(s,j),c=l(s,U),m=l(s,Z),f=l(s,z),p=l(s,H);a=Cl(l(this,T),a);const g=l(this,ie);return qe(l(Je(g,new(L("%Temporal.PlainDateTime%"))(r,i,o,u,h,c,m,f,p,a),"compatible"),q),g,a)}withPlainTime(e){if(!R(this))throw new TypeError("invalid receiver");const t=L("%Temporal.PlainTime%"),r=e===void 0?new t:Ot(e),i=de(this),o=l(i,x),a=l(i,k),s=l(i,O),u=l(this,T),h=l(r,B),c=l(r,j),m=l(r,U),f=l(r,Z),p=l(r,z),g=l(r,H),b=l(this,ie);return qe(l(Je(b,new(L("%Temporal.PlainDateTime%"))(o,a,s,h,c,m,f,p,g,u),"compatible"),q),b,u)}withTimeZone(e){if(!R(this))throw new TypeError("invalid receiver");const t=et(e);return qe(l(this,q),t,l(this,T))}withCalendar(e){if(!R(this))throw new TypeError("invalid receiver");const t=Fe(e);return qe(l(this,q),l(this,ie),t)}add(e,t){if(!R(this))throw new TypeError("invalid receiver");return rs("add",this,e,t)}subtract(e,t){if(!R(this))throw new TypeError("invalid receiver");return rs("subtract",this,e,t)}until(e,t){if(!R(this))throw new TypeError("invalid receiver");return Ka("until",this,e,t)}since(e,t){if(!R(this))throw new TypeError("invalid receiver");return Ka("since",this,e,t)}round(e){if(!R(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const t=typeof e=="string"?$n("smallestUnit",e):K(e),r=Oe(t,"smallestUnit","time",dn,["day"]),i=nt(t,"halfExpand"),o=Ft(t,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),a=de(this);let s=l(a,x),u=l(a,k),h=l(a,O),c=l(a,B),m=l(a,j),f=l(a,U),p=l(a,Z),g=l(a,z),b=l(a,H);const y=L("%Temporal.PlainDateTime%"),w=l(this,ie),v=l(this,T),_=Je(w,new y(l(a,x),l(a,k),l(a,O),0,0,0,0,0,0),"compatible"),E=dt(_,w,v,0,0,0,1,0,0,0,0,0,0),M=d.subtract(E,d.BigInt(l(_,q)));if(d.equal(M,Ee))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return{year:s,month:u,day:h,hour:c,minute:m,second:f,millisecond:p,microsecond:g,nanosecond:b}=Zo(s,u,h,c,m,f,p,g,b,o,r,i,d.toNumber(M)),qe(oi(s,u,h,c,m,f,p,g,b,"option",bt(w,l(this,Be)),w,"compatible","prefer",!1),w,l(this,T))}equals(e){if(!R(this))throw new TypeError("invalid receiver");const t=Hn(e),r=l(this,q),i=l(t,q);return!!d.equal(d.BigInt(r),d.BigInt(i))&&!!Al(l(this,ie),l(t,ie))&&Cr(l(this,T),l(t,T))}toString(e){if(!R(this))throw new TypeError("invalid receiver");const t=K(e),{precision:r,unit:i,increment:o}=_r(t),a=nt(t,"trunc");return ja(this,r,Er(t),function(u){return Qt(u,"timeZoneName",["auto","never"],"auto")}(t),function(u){return Qt(u,"offset",["auto","never"],"auto")}(t),{unit:i,increment:o,roundingMode:a})}toLocaleString(e,t){if(!R(this))throw new TypeError("invalid receiver");return new Jt(e,t).format(this)}toJSON(){if(!R(this))throw new TypeError("invalid receiver");return ja(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!R(this))throw new TypeError("invalid receiver");const e=de(this),t=L("%Temporal.PlainDateTime%"),r=l(this,T),i=new t(l(e,x),l(e,k),l(e,O),0,0,0,0,0,0,r),o=l(this,ie);return qe(l(Je(o,i,"compatible"),q),o,r)}toInstant(){if(!R(this))throw new TypeError("invalid receiver");return new(L("%Temporal.Instant%"))(l(this,q))}toPlainDate(){if(!R(this))throw new TypeError("invalid receiver");return On(de(this))}toPlainTime(){if(!R(this))throw new TypeError("invalid receiver");return No(de(this))}toPlainDateTime(){if(!R(this))throw new TypeError("invalid receiver");return de(this)}toPlainYearMonth(){if(!R(this))throw new TypeError("invalid receiver");const e=l(this,T);return fn(e,X(this,Pe(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!R(this))throw new TypeError("invalid receiver");const e=l(this,T);return kn(e,X(this,Pe(e,["day","monthCode"]),[]))}getISOFields(){if(!R(this))throw new TypeError("invalid receiver");const e=de(this),t=l(this,ie);return{calendar:l(this,T),isoDay:l(e,O),isoHour:l(e,B),isoMicrosecond:l(e,z),isoMillisecond:l(e,Z),isoMinute:l(e,j),isoMonth:l(e,k),isoNanosecond:l(e,H),isoSecond:l(e,U),isoYear:l(e,x),offset:uo(t,l(this,Be)),timeZone:t}}static from(e,t){const r=K(t);return R(e)?(_e(r),dr(r),so(r,"reject"),qe(l(e,q),l(e,ie),l(e,T))):Hn(e,r)}static compare(e,t){const r=Hn(e),i=Hn(t),o=l(r,q),a=l(i,q);return d.lessThan(d.BigInt(o),d.BigInt(a))?-1:d.greaterThan(d.BigInt(o),d.BigInt(a))?1:0}}function de(n){return ut(l(n,ie),l(n,Be),l(n,T))}Ct(ta,"Temporal.ZonedDateTime");var Ff=Object.freeze({__proto__:null,Instant:gt,Calendar:di,PlainDate:Sr,PlainDateTime:kr,Duration:zt,PlainMonthDay:Ko,Now:au,PlainTime:un,TimeZone:Jo,PlainYearMonth:ea,ZonedDateTime:ta});const qf=[gt,di,Sr,kr,zt,Ko,un,Jo,ea,ta];for(const n of qf){const e=Object.getOwnPropertyDescriptor(n,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(n,"prototype",e))}function ls(n,e,t){const r=n.slice();return r[15]=e[t],r}function us(n){let e,t=n[15]+"",r,i;return{c(){e=mt("option"),r=Hr(t),e.__value=i=n[15],e.value=e.__value},m(o,a){ds(o,e,a),Ae(e,r)},p(o,a){a&1&&t!==(t=o[15]+"")&&ms(r,t),a&1&&i!==(i=o[15])&&(e.__value=i,e.value=e.__value)},d(o){o&&bo(e)}}}function Lf(n){let e,t,r,i,o,a,s,u,h,c,m,f=n[2]?"date added to name":"date not added to name",p,g,b,y,w,v,_,E,M,D,P,A,S,G=n[0],F=[];for(let $=0;$<G.length;$+=1)F[$]=us(ls(n,G,$));return{c(){e=mt("main"),t=mt("div"),r=mt("button"),r.textContent="start",i=Lt(),o=mt("button"),o.textContent="stop",a=Lt(),s=mt("input"),u=Lt(),h=mt("datalist");for(let $=0;$<F.length;$+=1)F[$].c();c=Lt(),m=mt("button"),p=Hr(f),g=Lt(),b=mt("button"),y=Hr("download"),v=Lt(),_=mt("button"),_.textContent="clear names",E=Lt(),M=mt("div"),M.innerHTML=`Make sure your browser supports <a href="https://caniuse.com/midi" target="_blank" rel="noreferrer">Web MIDI</a>.
    You can test your MIDI input with <a href="https://github.com/fheyen/midi-pianoroll" target="_blank" rel="noreferrer">this tool</a>.`,D=Lt(),P=mt("div"),P.innerHTML="Usage: Press <i>start</i> to start recording, <i>stop</i> to stop it. Give your recording a name and download the audio and MIDI files.",Tn(s,"type","text"),Tn(s,"placeholder","name"),Tn(s,"list","oldnames"),Tn(s,"title",n[1]),Tn(h,"id","oldnames"),b.disabled=w=!n[3]||!n[4]||n[1].length===0},m($,I){ds($,e,I),Ae(e,t),Ae(t,r),Ae(t,i),Ae(t,o),Ae(t,a),Ae(t,s),sa(s,n[1]),Ae(t,u),Ae(t,h);for(let N=0;N<F.length;N+=1)F[N].m(h,null);Ae(t,c),Ae(t,m),Ae(m,p),Ae(t,g),Ae(t,b),Ae(b,y),Ae(t,v),Ae(t,_),Ae(e,E),Ae(e,M),Ae(e,D),Ae(e,P),A||(S=[vn(r,"click",n[5]),vn(o,"click",n[6]),vn(s,"input",n[8]),vn(m,"click",n[9]),vn(b,"click",n[7]),vn(_,"click",n[10])],A=!0)},p($,[I]){if(I&2&&Tn(s,"title",$[1]),I&2&&s.value!==$[1]&&sa(s,$[1]),I&1){G=$[0];let N;for(N=0;N<G.length;N+=1){const C=ls($,G,N);F[N]?F[N].p(C,I):(F[N]=us(C),F[N].c(),F[N].m(h,null))}for(;N<F.length;N+=1)F[N].d(1);F.length=G.length}I&4&&f!==(f=$[2]?"date added to name":"date not added to name")&&ms(p,f),I&26&&w!==(w=!$[3]||!$[4]||$[1].length===0)&&(b.disabled=w)},i:er,o:er,d($){$&&bo(e),uu(F,$),A=!1,pr(S)}}}function Gf(n,e,t){let r,i;du(async()=>{try{r=await Yd()}catch(v){console.error("Cannot enable audio recording"),console.error(v)}try{i=await Bd()}catch(v){console.error("Cannot enable MIDI recording"),console.error(v)}});let o=localStorage.getItem("oldnames")?JSON.parse(localStorage.getItem("oldnames")):[],a="",s=localStorage.getItem("adddate")==="true",u,h;const c=()=>{console.log("start"),i.start(),r.start()},m=async()=>{console.log("stop"),t(4,h=i.stop()),t(3,u=await r.stop())},f=()=>{const v=s?`${a} ${Ff.Now.plainDateTimeISO().toJSON().substring(0,16).replace(":","-")}`:a;p(h,v),g(u,v);let _=[];try{_=JSON.parse(localStorage.getItem("oldnames"))}catch(M){console.log(M)}const E=[...new Set([a,_])];_=E,localStorage.setItem("oldnames",JSON.stringify(E))},p=(v,_)=>{const E=document.createElement("a");E.href="data:text/plaincharset=utf-8,"+encodeURIComponent(v),E.download=_,document.body.appendChild(E),E.click()},g=(v,_)=>{const E=document.createElement("a"),M=window.URL.createObjectURL(v);E.href=M,E.download=_,document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(M)};function b(){a=this.value,t(1,a)}return[o,a,s,u,h,c,m,f,b,()=>{t(2,s=!s),localStorage.setItem("adddate",s?"true":"false")},()=>{localStorage.removeItem("oldnames"),t(0,o=[])}]}class Yf extends Eu{constructor(e){super(),Tu(this,e,Gf,Lf,su,{})}}new Yf({target:document.getElementById("app")});
